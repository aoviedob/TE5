{
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/server.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _expressBunyanLogger = _interopRequireDefault(require(\"express-bunyan-logger\"));\n\nvar _api = require(\"./api/api\");\n\nvar _apiMiddleware = require(\"./api/api-middleware\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _socketIO = require(\"./socketIO\");\n\nconst logger = _bunyan.default.createLogger({\n  name: 'CustomerServer'\n});\n\nconst logsDir = './logs';\nconst logsFilePath = `${logsDir}/customer.log`;\n\nif (!_fs.default.existsSync(logsFilePath)) {\n  !_fs.default.existsSync(logsDir) && _fs.default.mkdirSync(logsDir);\n\n  _fs.default.writeFileSync(logsFilePath, '');\n}\n\nconst app = new _express.default();\n(0, _apiMiddleware.routerMiddleware)(app);\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use(_bodyParser.default.json());\napp.use((0, _expressBunyanLogger.default)({\n  name: 'CustomerServer',\n  streams: [{\n    type: 'rotating-file',\n    level: 'info',\n    path: logsFilePath,\n    period: '1d',\n    count: 3\n  }]\n}));\n(0, _api.initApis)(app);\napp.listen(3030, () => {\n  logger.info('Customer Server started successfully on port 3030');\n});\n(0, _socketIO.createSocketServer)(app);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwibG9nc0RpciIsImxvZ3NGaWxlUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsIndyaXRlRmlsZVN5bmMiLCJhcHAiLCJFeHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJzdHJlYW1zIiwidHlwZSIsImxldmVsIiwicGF0aCIsInBlcmlvZCIsImNvdW50IiwibGlzdGVuIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFQSxNQUFNQyxPQUFPLEdBQUcsUUFBaEI7QUFDQSxNQUFNQyxZQUFZLEdBQUksR0FBRUQsT0FBUSxlQUFoQzs7QUFFQSxJQUFHLENBQUNFLFlBQUdDLFVBQUgsQ0FBY0YsWUFBZCxDQUFKLEVBQWlDO0FBQy9CLEdBQUNDLFlBQUdDLFVBQUgsQ0FBY0gsT0FBZCxDQUFELElBQTJCRSxZQUFHRSxTQUFILENBQWFKLE9BQWIsQ0FBM0I7O0FBQ0FFLGNBQUdHLGFBQUgsQ0FBaUJKLFlBQWpCLEVBQStCLEVBQS9CO0FBQ0Q7O0FBRUQsTUFBTUssR0FBRyxHQUFHLElBQUlDLGdCQUFKLEVBQVo7QUFDQSxxQ0FBaUJELEdBQWpCO0FBQ0FBLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLG9CQUFSO0FBQ0FGLEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxvQkFBV0MsVUFBWCxDQUFzQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSO0FBQ0FMLEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxvQkFBV0csSUFBWCxFQUFSO0FBQ0FOLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLGtDQUFjO0FBQ3BCVCxFQUFBQSxJQUFJLEVBQUUsZ0JBRGM7QUFFcEJjLEVBQUFBLE9BQU8sRUFBRSxDQUFDO0FBQ1JDLElBQUFBLElBQUksRUFBRSxlQURFO0FBRVJDLElBQUFBLEtBQUssRUFBRSxNQUZDO0FBR1JDLElBQUFBLElBQUksRUFBRWYsWUFIRTtBQUlSZ0IsSUFBQUEsTUFBTSxFQUFFLElBSkE7QUFLUkMsSUFBQUEsS0FBSyxFQUFFO0FBTEMsR0FBRDtBQUZXLENBQWQsQ0FBUjtBQVdBLG1CQUFTWixHQUFUO0FBRUFBLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLElBQVgsRUFBaUIsTUFBTTtBQUNyQnZCLEVBQUFBLE1BQU0sQ0FBQ3dCLElBQVAsQ0FBWSxtREFBWjtBQUNELENBRkQ7QUFJQSxrQ0FBbUJkLEdBQW5CIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGJ1bnlhbiBmcm9tICdidW55YW4nO1xuaW1wb3J0IGV4cHJlc3NMb2dnZXIgZnJvbSAnZXhwcmVzcy1idW55YW4tbG9nZ2VyJztcbmltcG9ydCB7IGluaXRBcGlzIH0gZnJvbSAnLi9hcGkvYXBpJztcbmltcG9ydCB7IHJvdXRlck1pZGRsZXdhcmUgfSBmcm9tICcuL2FwaS9hcGktbWlkZGxld2FyZSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgY3JlYXRlU29ja2V0U2VydmVyIH0gZnJvbSAnLi9zb2NrZXRJTyc7XG5cbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnQ3VzdG9tZXJTZXJ2ZXInfSk7XG5cbmNvbnN0IGxvZ3NEaXIgPSAnLi9sb2dzJztcbmNvbnN0IGxvZ3NGaWxlUGF0aCA9IGAke2xvZ3NEaXJ9L2N1c3RvbWVyLmxvZ2A7XG5cbmlmKCFmcy5leGlzdHNTeW5jKGxvZ3NGaWxlUGF0aCkpIHtcbiAgIWZzLmV4aXN0c1N5bmMobG9nc0RpcikgJiYgZnMubWtkaXJTeW5jKGxvZ3NEaXIpO1xuICBmcy53cml0ZUZpbGVTeW5jKGxvZ3NGaWxlUGF0aCwgJycpO1xufVxuXG5jb25zdCBhcHAgPSBuZXcgRXhwcmVzcygpO1xucm91dGVyTWlkZGxld2FyZShhcHApO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzc0xvZ2dlcih7XG4gIG5hbWU6ICdDdXN0b21lclNlcnZlcicsXG4gIHN0cmVhbXM6IFt7XG4gICAgdHlwZTogJ3JvdGF0aW5nLWZpbGUnLFxuICAgIGxldmVsOiAnaW5mbycsXG4gICAgcGF0aDogbG9nc0ZpbGVQYXRoLFxuICAgIHBlcmlvZDogJzFkJyxcbiAgICBjb3VudDogMyxcbiAgfV1cbn0pKTtcblxuaW5pdEFwaXMoYXBwKTtcblxuYXBwLmxpc3RlbigzMDMwLCAoKSA9PiB7XG4gIGxvZ2dlci5pbmZvKCdDdXN0b21lciBTZXJ2ZXIgc3RhcnRlZCBzdWNjZXNzZnVsbHkgb24gcG9ydCAzMDMwJyk7XG59KTtcblxuY3JlYXRlU29ja2V0U2VydmVyKGFwcCk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "logsDir",
        "logsFilePath",
        "fs",
        "existsSync",
        "mkdirSync",
        "writeFileSync",
        "app",
        "Express",
        "use",
        "bodyParser",
        "urlencoded",
        "extended",
        "json",
        "streams",
        "type",
        "level",
        "path",
        "period",
        "count",
        "listen",
        "info"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,MAAMC,OAAO,GAAG,QAAhB;AACA,MAAMC,YAAY,GAAI,GAAED,OAAQ,eAAhC;;AAEA,IAAG,CAACE,YAAGC,UAAH,CAAcF,YAAd,CAAJ,EAAiC;AAC/B,GAACC,YAAGC,UAAH,CAAcH,OAAd,CAAD,IAA2BE,YAAGE,SAAH,CAAaJ,OAAb,CAA3B;;AACAE,cAAGG,aAAH,CAAiBJ,YAAjB,EAA+B,EAA/B;AACD;;AAED,MAAMK,GAAG,GAAG,IAAIC,gBAAJ,EAAZ;AACA,qCAAiBD,GAAjB;AACAA,GAAG,CAACE,GAAJ,CAAQ,oBAAR;AACAF,GAAG,CAACE,GAAJ,CAAQC,oBAAWC,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAL,GAAG,CAACE,GAAJ,CAAQC,oBAAWG,IAAX,EAAR;AACAN,GAAG,CAACE,GAAJ,CAAQ,kCAAc;AACpBT,EAAAA,IAAI,EAAE,gBADc;AAEpBc,EAAAA,OAAO,EAAE,CAAC;AACRC,IAAAA,IAAI,EAAE,eADE;AAERC,IAAAA,KAAK,EAAE,MAFC;AAGRC,IAAAA,IAAI,EAAEf,YAHE;AAIRgB,IAAAA,MAAM,EAAE,IAJA;AAKRC,IAAAA,KAAK,EAAE;AALC,GAAD;AAFW,CAAd,CAAR;AAWA,mBAASZ,GAAT;AAEAA,GAAG,CAACa,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBvB,EAAAA,MAAM,CAACwB,IAAP,CAAY,mDAAZ;AACD,CAFD;AAIA,kCAAmBd,GAAnB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "sourcesContent": [
        "import Express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\nimport bunyan from 'bunyan';\nimport expressLogger from 'express-bunyan-logger';\nimport { initApis } from './api/api';\nimport { routerMiddleware } from './api/api-middleware';\nimport fs from 'fs';\nimport { createSocketServer } from './socketIO';\n\nconst logger = bunyan.createLogger({ name: 'CustomerServer'});\n\nconst logsDir = './logs';\nconst logsFilePath = `${logsDir}/customer.log`;\n\nif(!fs.existsSync(logsFilePath)) {\n  !fs.existsSync(logsDir) && fs.mkdirSync(logsDir);\n  fs.writeFileSync(logsFilePath, '');\n}\n\nconst app = new Express();\nrouterMiddleware(app);\napp.use(cors());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(expressLogger({\n  name: 'CustomerServer',\n  streams: [{\n    type: 'rotating-file',\n    level: 'info',\n    path: logsFilePath,\n    period: '1d',\n    count: 3,\n  }]\n}));\n\ninitApis(app);\n\napp.listen(3030, () => {\n  logger.info('Customer Server started successfully on port 3030');\n});\n\ncreateSocketServer(app);"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219406
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/api.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initApis = void 0;\n\nvar _customer = _interopRequireDefault(require(\"./customer\"));\n\nvar _order = _interopRequireDefault(require(\"./order\"));\n\nconst initApis = app => {\n  new _customer.default(app);\n  new _order.default(app);\n};\n\nexports.initApis = initApis;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJpbml0QXBpcyIsImFwcCIsIkN1c3RvbWVyQXBpIiwiT3JkZXJBcGkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVPLE1BQU1BLFFBQVEsR0FBR0MsR0FBRyxJQUFJO0FBQzdCLE1BQUlDLGlCQUFKLENBQWdCRCxHQUFoQjtBQUNBLE1BQUlFLGNBQUosQ0FBYUYsR0FBYjtBQUNELENBSE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9hcGkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3VzdG9tZXJBcGkgZnJvbSAnLi9jdXN0b21lcic7XG5pbXBvcnQgT3JkZXJBcGkgZnJvbSAnLi9vcmRlcic7XG5cbmV4cG9ydCBjb25zdCBpbml0QXBpcyA9IGFwcCA9PiB7XG4gIG5ldyBDdXN0b21lckFwaShhcHApO1xuICBuZXcgT3JkZXJBcGkoYXBwKTtcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "initApis",
        "app",
        "CustomerApi",
        "OrderApi"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,QAAQ,GAAGC,GAAG,IAAI;AAC7B,MAAIC,iBAAJ,CAAgBD,GAAhB;AACA,MAAIE,cAAJ,CAAaF,GAAb;AACD,CAHM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import CustomerApi from './customer';\nimport OrderApi from './order';\n\nexport const initApis = app => {\n  new CustomerApi(app);\n  new OrderApi(app);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687667387
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/customer.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/customer.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/customer.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/customer.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "customer.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar customerService = _interopRequireWildcard(require(\"../services/customer-service\"));\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _authorizationHandler = require(\"../decorators/authorization-handler\");\n\nvar _dalTypes = require(\"../helpers/enums/dal-types\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class;\n\nconst {\n  POSTGRES_CONTEXT\n} = _unit_of_work.UnitOfWorkContext;\nlet CustomerApi = (_dec = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec2 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec3 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec4 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec5 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM, _dalTypes.PredefinedRole.CUSTOMER]), _dec6 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec7 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec8 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), (_class = class CustomerApi {\n  constructor(app) {\n    app.get('/api/customers', _authorizationHandler.authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', _authorizationHandler.authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', _authorizationHandler.authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', _authorizationHandler.authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', _authorizationHandler.authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', _authorizationHandler.authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', _authorizationHandler.authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', _authorizationHandler.authenticate, this.deleteCustomer);\n  }\n\n  async getCustomers(req) {\n    return await customerService.getCustomers(POSTGRES_CONTEXT);\n  }\n\n  async getCustomerById(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  async getCustomersByName(req) {\n    const {\n      name\n    } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  async getCustomersByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async getCustomerByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async createCustomer(req) {\n    const {\n      body\n    } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  async updateCustomer(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  async deleteCustomer(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n\n}, ((0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomers\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomers\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerById\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerById\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByName\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByName\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByEmail\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerByEmail\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createCustomer\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateCustomer\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteCustomer\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteCustomer\"), _class.prototype)), _class));\nexports.default = CustomerApi;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLmpzIl0sIm5hbWVzIjpbIlBPU1RHUkVTX0NPTlRFWFQiLCJVbml0T2ZXb3JrQ29udGV4dCIsIkN1c3RvbWVyQXBpIiwiUHJlZGVmaW5lZFJvbGUiLCJBRE1JTiIsIlNZU1RFTSIsIkNVU1RPTUVSIiwiY29uc3RydWN0b3IiLCJhcHAiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJnZXRDdXN0b21lcnMiLCJnZXRDdXN0b21lckJ5SWQiLCJnZXRDdXN0b21lcnNCeU5hbWUiLCJnZXRDdXN0b21lcnNCeUVtYWlsIiwiZ2V0Q3VzdG9tZXJCeUVtYWlsIiwicG9zdCIsImNyZWF0ZUN1c3RvbWVyIiwicHV0IiwidXBkYXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJkZWxldGVDdXN0b21lciIsInJlcSIsImN1c3RvbWVyU2VydmljZSIsImN1c3RvbWVySWQiLCJwYXJhbXMiLCJuYW1lIiwiZW1haWwiLCJib2R5IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQXVCQywrQkFBN0I7SUFFcUJDLFcsV0FhbEIsd0NBQWEsQ0FBQ0MseUJBQWVDLEtBQWhCLENBQWIsQyxVQUdBLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRCx5QkFBZUMsS0FBaEIsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0QseUJBQWVDLEtBQWhCLENBQWIsQyxVQU1BLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixFQUF1QkQseUJBQWVFLE1BQXRDLEVBQThDRix5QkFBZUcsUUFBN0QsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0gseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBT0Esd0NBQWEsQ0FBQ0YseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0Ys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QXBFLENBQWI7QUFDRDs7QUFFRCxRQUNNUCxjQUROLENBQ3FCQyxHQURyQixFQUMwQjtBQUN4QixVQUFNO0FBQUVFLE1BQUFBO0FBQUYsUUFBaUJGLEdBQUcsQ0FBQ0csTUFBSixJQUFjLEVBQXJDO0FBQ0EsV0FBTyxNQUFNRixlQUFlLENBQUNGLGNBQWhCLENBQStCckIsZ0JBQS9CLEVBQWlEd0IsVUFBakQsQ0FBYjtBQUNEOztBQXpEOEIsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2FwaSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGN1c3RvbWVyU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9jdXN0b21lci1zZXJ2aWNlJztcbmltcG9ydCB7IFVuaXRPZldvcmtDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9lbnVtcy91bml0X29mX3dvcmsnO1xuaW1wb3J0IHsgUmVxdWlyZWRSb2xlLCBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi9kZWNvcmF0b3JzL2F1dGhvcml6YXRpb24taGFuZGxlcic7XG5pbXBvcnQgeyBQcmVkZWZpbmVkUm9sZSB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvZGFsLXR5cGVzJztcblxuY29uc3QgeyBQT1NUR1JFU19DT05URVhUIH0gPSBVbml0T2ZXb3JrQ29udGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tZXJBcGkge1xuXG4gIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzJywgYXV0aGVudGljYXRlLCB0aGlzLmdldEN1c3RvbWVycyk7XG4gICAgYXBwLmdldCgnL2FwaS9jdXN0b21lcnMvOmN1c3RvbWVySWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJCeUlkKTtcbiAgICBhcHAuZ2V0KCcvYXBpL2N1c3RvbWVycy9saWtlTmFtZS86bmFtZScsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRDdXN0b21lcnNCeU5hbWUpO1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzL2xpa2VFbWFpbC86ZW1haWwnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJzQnlFbWFpbCk7XG4gICAgYXBwLmdldCgnL2FwaS9jdXN0b21lcnMvYnlFbWFpbC86ZW1haWwnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJCeUVtYWlsKTtcbiAgICBhcHAucG9zdCgnL2FwaS9jdXN0b21lcnMnLCBhdXRoZW50aWNhdGUsIHRoaXMuY3JlYXRlQ3VzdG9tZXIpO1xuICAgIGFwcC5wdXQoJy9hcGkvY3VzdG9tZXJzLzpjdXN0b21lcklkJywgYXV0aGVudGljYXRlLCB0aGlzLnVwZGF0ZUN1c3RvbWVyKTtcbiAgICBhcHAuZGVsZXRlKCcvYXBpL2N1c3RvbWVycy86Y3VzdG9tZXJJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy5kZWxldGVDdXN0b21lcik7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVycyhyZXEpIHsgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnMoUE9TVEdSRVNfQ09OVEVYVCk7IH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyQnlJZChyZXEpIHtcbiAgICBjb25zdCB7IGN1c3RvbWVySWQgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lckJ5SWQoUE9TVEdSRVNfQ09OVEVYVCwgY3VzdG9tZXJJZCk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyc0J5TmFtZShyZXEpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnNCeU5hbWUoUE9TVEdSRVNfQ09OVEVYVCwgbmFtZSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyc0J5RW1haWwocmVxKSB7XG4gICAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyc0J5RW1haWwoUE9TVEdSRVNfQ09OVEVYVCwgZW1haWwpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLlNZU1RFTSwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyBnZXRDdXN0b21lckJ5RW1haWwocmVxKSB7XG4gICAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyQnlFbWFpbChQT1NUR1JFU19DT05URVhULCBlbWFpbCk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuU1lTVEVNXSlcbiAgYXN5bmMgY3JlYXRlQ3VzdG9tZXIocmVxKSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSByZXE7XG4gICAgY29uc29sZS5sb2coJ2VudHJhIGFxdWknKTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmNyZWF0ZUN1c3RvbWVyKFBPU1RHUkVTX0NPTlRFWFQsIGJvZHkpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLlNZU1RFTV0pXG4gIGFzeW5jIHVwZGF0ZUN1c3RvbWVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSwgcGFyYW1zID0ge30gfSA9IHJlcTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLnVwZGF0ZUN1c3RvbWVyKFBPU1RHUkVTX0NPTlRFWFQsIHBhcmFtcy5jdXN0b21lcklkLCBib2R5KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOXSlcbiAgYXN5bmMgZGVsZXRlQ3VzdG9tZXIocmVxKSB7XG4gICAgY29uc3QgeyBjdXN0b21lcklkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBjdXN0b21lclNlcnZpY2UuZGVsZXRlQ3VzdG9tZXIoUE9TVEdSRVNfQ09OVEVYVCwgY3VzdG9tZXJJZCk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "customer.js"
      ],
      "names": [
        "POSTGRES_CONTEXT",
        "UnitOfWorkContext",
        "CustomerApi",
        "PredefinedRole",
        "ADMIN",
        "SYSTEM",
        "CUSTOMER",
        "constructor",
        "app",
        "get",
        "authenticate",
        "getCustomers",
        "getCustomerById",
        "getCustomersByName",
        "getCustomersByEmail",
        "getCustomerByEmail",
        "post",
        "createCustomer",
        "put",
        "updateCustomer",
        "delete",
        "deleteCustomer",
        "req",
        "customerService",
        "customerId",
        "params",
        "name",
        "email",
        "body",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import * as customerService from '../services/customer-service';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { RequiredRole, authenticate } from '../decorators/authorization-handler';\nimport { PredefinedRole } from '../helpers/enums/dal-types';\n\nconst { POSTGRES_CONTEXT } = UnitOfWorkContext;\n\nexport default class CustomerApi {\n\n  constructor(app) {\n    app.get('/api/customers', authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', authenticate, this.deleteCustomer);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomers(req) { return await customerService.getCustomers(POSTGRES_CONTEXT); }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomerById(req) {\n    const { customerId } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByName(req) {\n    const { name } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM, PredefinedRole.CUSTOMER])\n  async getCustomerByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async createCustomer(req) {\n    const { body } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async updateCustomer(req) {\n    const { body, params = {} } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async deleteCustomer(req) {\n    const { customerId } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557314797872
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/services/customer-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
        "sourceFileName": "customer-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteCustomer = exports.createCustomer = exports.updateCustomer = exports.getCustomerByEmail = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerById = exports.getCustomers = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar customerRepo = _interopRequireWildcard(require(\"../dal/customer-repo\"));\n\nvar _validator = require(\"../helpers/validator\");\n\nvar _mapper = require(\"../helpers/mapper\");\n\nvar _externalService = require(\"./external-service\");\n\nconst getCustomers = async dbContext => {\n  (0, _validator.validatePreconditions)(['dbContext'], {\n    dbContext\n  });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomersByName = async (dbContext, name) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'name'], {\n    dbContext,\n    name\n  });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerByEmail(dbContext, email)));\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId', 'customer'], {\n    dbContext,\n    customerId,\n    customer\n  });\n  return await customerRepo.updateCustomer(dbContext, customerId, (0, _mapper.mapParams)(customer));\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email', 'fullname', 'password'], (0, _objectSpread2.default)({\n    dbContext\n  }, customer));\n  const externalUserId = await (0, _externalService.createUser)(customer);\n  const {\n    id: customerId\n  } = await customerRepo.createCustomer(dbContext, (0, _mapper.mapParams)((0, _objectSpread2.default)({}, customer, {\n    externalUserId\n  })));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexports.createCustomer = createCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n\nexports.deleteCustomer = deleteCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiY3VzdG9tZXJSZXBvIiwibWFwIiwiY3VzdG9tZXIiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwiZ2V0Q3VzdG9tZXJzQnlOYW1lIiwibmFtZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyQnlFbWFpbCIsInVwZGF0ZUN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXIiLCJleHRlcm5hbFVzZXJJZCIsImlkIiwiZGVsZXRlQ3VzdG9tZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUFtQjtBQUM3Qyx3Q0FBc0IsQ0FBQyxXQUFELENBQXRCLEVBQXFDO0FBQUVBLElBQUFBO0FBQUYsR0FBckM7QUFDQSxTQUFPLENBQUMsTUFBTUMsWUFBWSxDQUFDRixZQUFiLENBQTBCQyxTQUExQixDQUFQLEVBQTZDRSxHQUE3QyxDQUFpREMsUUFBUSxJQUFJLDJCQUFjQSxRQUFkLENBQTdELENBQVA7QUFDRCxDQUhNOzs7O0FBS0EsTUFBTUMsZUFBZSxHQUFHLE9BQU9KLFNBQVAsRUFBa0JLLFVBQWxCLEtBQWlDO0FBQzlELHdDQUFzQixDQUFDLFdBQUQsRUFBYyxZQUFkLENBQXRCLEVBQW1EO0FBQUVMLElBQUFBLFNBQUY7QUFBYUssSUFBQUE7QUFBYixHQUFuRDtBQUNBLFNBQU8sNEJBQWUsTUFBTUosWUFBWSxDQUFDRyxlQUFiLENBQTZCSixTQUE3QixFQUF3Q0ssVUFBeEMsQ0FBckIsRUFBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNQyxrQkFBa0IsR0FBRyxPQUFPTixTQUFQLEVBQWtCTyxJQUFsQixLQUEyQjtBQUMzRCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsTUFBZCxDQUF0QixFQUE2QztBQUFFUCxJQUFBQSxTQUFGO0FBQWFPLElBQUFBO0FBQWIsR0FBN0M7QUFDQSxTQUFPLENBQUMsTUFBTU4sWUFBWSxDQUFDSyxrQkFBYixDQUFnQ04sU0FBaEMsRUFBMkNPLElBQTNDLENBQVAsRUFBeURMLEdBQXpELENBQTZEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBekUsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNSyxtQkFBbUIsR0FBRyxPQUFPUixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLENBQUMsTUFBTVIsWUFBWSxDQUFDTyxtQkFBYixDQUFpQ1IsU0FBakMsRUFBNENTLEtBQTVDLENBQVAsRUFBMkRQLEdBQTNELENBQStEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBM0UsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNTyxrQkFBa0IsR0FBRyxPQUFPVixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM1RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLDRCQUFjLE1BQU1SLFlBQVksQ0FBQ1Msa0JBQWIsQ0FBZ0NWLFNBQWhDLEVBQTJDUyxLQUEzQyxDQUFwQixFQUFQO0FBQ0QsQ0FITTs7OztBQUtBLE1BQU1FLGNBQWMsR0FBRyxPQUFPWCxTQUFQLEVBQWtCSyxVQUFsQixFQUE4QkYsUUFBOUIsS0FBMkM7QUFDdkUsd0NBQXNCLENBQUMsV0FBRCxFQUFjLFlBQWQsRUFBNEIsVUFBNUIsQ0FBdEIsRUFBK0Q7QUFBRUgsSUFBQUEsU0FBRjtBQUFhSyxJQUFBQSxVQUFiO0FBQXlCRixJQUFBQTtBQUF6QixHQUEvRDtBQUNBLFNBQU8sTUFBTUYsWUFBWSxDQUFDVSxjQUFiLENBQTRCWCxTQUE1QixFQUF1Q0ssVUFBdkMsRUFBbUQsdUJBQVVGLFFBQVYsQ0FBbkQsQ0FBYjtBQUNELENBSE07Ozs7QUFLQSxNQUFNUyxjQUFjLEdBQUcsT0FBT1osU0FBUCxFQUFrQkcsUUFBbEIsS0FBK0I7QUFDM0Qsd0NBQXNCLENBQUMsV0FBRCxFQUFjLE9BQWQsRUFBdUIsVUFBdkIsRUFBbUMsVUFBbkMsQ0FBdEI7QUFBd0VILElBQUFBO0FBQXhFLEtBQXNGRyxRQUF0RjtBQUNBLFFBQU1VLGNBQWMsR0FBRyxNQUFNLGlDQUFXVixRQUFYLENBQTdCO0FBQ0EsUUFBTTtBQUFFVyxJQUFBQSxFQUFFLEVBQUVUO0FBQU4sTUFBcUIsTUFBTUosWUFBWSxDQUFDVyxjQUFiLENBQTRCWixTQUE1QixFQUF1Qyx1REFBZUcsUUFBZjtBQUF5QlUsSUFBQUE7QUFBekIsS0FBdkMsQ0FBakM7QUFDQSxTQUFPLE1BQU1ULGVBQWUsQ0FBQ0osU0FBRCxFQUFZSyxVQUFaLENBQTVCO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1VLGNBQWMsR0FBRyxPQUFPZixTQUFQLEVBQWtCSyxVQUFsQixLQUFpQztBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsWUFBZCxDQUF0QixFQUFtRDtBQUFFTCxJQUFBQSxTQUFGO0FBQWFLLElBQUFBO0FBQWIsR0FBbkQ7QUFDQSxRQUFNSixZQUFZLENBQUNjLGNBQWIsQ0FBNEJmLFNBQTVCLEVBQXVDSyxVQUF2QyxDQUFOO0FBQ0QsQ0FITSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY3VzdG9tZXJSZXBvIGZyb20gJy4uL2RhbC9jdXN0b21lci1yZXBvJztcbmltcG9ydCB7IHZhbGlkYXRlUHJlY29uZGl0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdG9yJztcbmltcG9ydCB7IG1hcFJlcG9FbnRpdHksIG1hcFBhcmFtcyB9IGZyb20gJy4uL2hlbHBlcnMvbWFwcGVyJztcbmltcG9ydCB7IGNyZWF0ZVVzZXIgfSBmcm9tICcuL2V4dGVybmFsLXNlcnZpY2UnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzID0gYXN5bmMgZGJDb250ZXh0ID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCddLCB7IGRiQ29udGV4dCB9KTtcbiAgcmV0dXJuIChhd2FpdCBjdXN0b21lclJlcG8uZ2V0Q3VzdG9tZXJzKGRiQ29udGV4dCkpLm1hcChjdXN0b21lciA9PiBtYXBSZXBvRW50aXR5KGN1c3RvbWVyKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCB9KTtcbiAgcmV0dXJuIG1hcFJlcG9FbnRpdHkoKGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lckJ5SWQoZGJDb250ZXh0LCBjdXN0b21lcklkKSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyc0J5TmFtZSA9IGFzeW5jIChkYkNvbnRleHQsIG5hbWUpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ25hbWUnXSwgeyBkYkNvbnRleHQsIG5hbWUgfSk7XG4gIHJldHVybiAoYXdhaXQgY3VzdG9tZXJSZXBvLmdldEN1c3RvbWVyc0J5TmFtZShkYkNvbnRleHQsIG5hbWUpKS5tYXAoY3VzdG9tZXIgPT4gbWFwUmVwb0VudGl0eShjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyc0J5RW1haWwgPSBhc3luYyAoZGJDb250ZXh0LCBlbWFpbCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnZW1haWwnXSwgeyBkYkNvbnRleHQsIGVtYWlsIH0pO1xuICByZXR1cm4gKGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lcnNCeUVtYWlsKGRiQ29udGV4dCwgZW1haWwpKS5tYXAoY3VzdG9tZXIgPT4gbWFwUmVwb0VudGl0eShjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyQnlFbWFpbCA9IGFzeW5jIChkYkNvbnRleHQsIGVtYWlsKSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdlbWFpbCddLCB7IGRiQ29udGV4dCwgZW1haWwgfSk7XG4gIHJldHVybiBtYXBSZXBvRW50aXR5KGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lckJ5RW1haWwoZGJDb250ZXh0LCBlbWFpbCkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCwgY3VzdG9tZXIpID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdjdXN0b21lcklkJywgJ2N1c3RvbWVyJ10sIHsgZGJDb250ZXh0LCBjdXN0b21lcklkLCBjdXN0b21lciB9KTtcbiAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyUmVwby51cGRhdGVDdXN0b21lcihkYkNvbnRleHQsIGN1c3RvbWVySWQsIG1hcFBhcmFtcyhjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXIpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2VtYWlsJywgJ2Z1bGxuYW1lJywgJ3Bhc3N3b3JkJ10sIHsgZGJDb250ZXh0LCAuLi5jdXN0b21lciB9KTtcbiAgY29uc3QgZXh0ZXJuYWxVc2VySWQgPSBhd2FpdCBjcmVhdGVVc2VyKGN1c3RvbWVyKTtcbiAgY29uc3QgeyBpZDogY3VzdG9tZXJJZCB9ID0gYXdhaXQgY3VzdG9tZXJSZXBvLmNyZWF0ZUN1c3RvbWVyKGRiQ29udGV4dCwgbWFwUGFyYW1zKHsgLi4uY3VzdG9tZXIsIGV4dGVybmFsVXNlcklkIH0pKTtcbiAgcmV0dXJuIGF3YWl0IGdldEN1c3RvbWVyQnlJZChkYkNvbnRleHQsIGN1c3RvbWVySWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCB9KTtcbiAgYXdhaXQgY3VzdG9tZXJSZXBvLmRlbGV0ZUN1c3RvbWVyKGRiQ29udGV4dCwgY3VzdG9tZXJJZCk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "customer-service.js"
      ],
      "names": [
        "getCustomers",
        "dbContext",
        "customerRepo",
        "map",
        "customer",
        "getCustomerById",
        "customerId",
        "getCustomersByName",
        "name",
        "getCustomersByEmail",
        "email",
        "getCustomerByEmail",
        "updateCustomer",
        "createCustomer",
        "externalUserId",
        "id",
        "deleteCustomer"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "sourcesContent": [
        "import * as customerRepo from '../dal/customer-repo';\nimport { validatePreconditions } from '../helpers/validator';\nimport { mapRepoEntity, mapParams } from '../helpers/mapper';\nimport { createUser } from './external-service';\n\nexport const getCustomers = async dbContext => { \n  validatePreconditions(['dbContext'], { dbContext });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerById = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  return mapRepoEntity((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexport const getCustomersByName = async (dbContext, name) => {\n  validatePreconditions(['dbContext', 'name'], { dbContext, name });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return mapRepoEntity(await customerRepo.getCustomerByEmail(dbContext, email));\n};\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  validatePreconditions(['dbContext', 'customerId', 'customer'], { dbContext, customerId, customer });\n  return await customerRepo.updateCustomer(dbContext, customerId, mapParams(customer));\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  validatePreconditions(['dbContext', 'email', 'fullname', 'password'], { dbContext, ...customer });\n  const externalUserId = await createUser(customer);\n  const { id: customerId } = await customerRepo.createCustomer(dbContext, mapParams({ ...customer, externalUserId }));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219406
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/dal\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/dal/customer-repo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
        "sourceFileName": "customer-repo.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCustomer = exports.deleteCustomer = exports.updateCustomer = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerByEmail = exports.getCustomerById = exports.getCustomers = exports.CUSTOMER_TABLE = void 0;\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _unit_of_work2 = require(\"../helpers/enums/unit_of_work\");\n\nvar _config = require(\"../config\");\n\nconst CUSTOMER_TABLE = 'customer';\nexports.CUSTOMER_TABLE = CUSTOMER_TABLE;\nconst CUSTOMER_TABLE_COLUMNS = ['id', 'email', 'phone', 'external_user_id', 'fullname', 'alias', 'preferences', 'created_at', 'updated_at'];\n\nconst getCustomers = async dbContext => await new _unit_of_work.default(dbContext).getAll(_config.schema, {\n  tableName: CUSTOMER_TABLE,\n  columns: CUSTOMER_TABLE_COLUMNS\n});\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', {\n      email\n    })\n  });\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst getCustomersByName = async (dbContext, name) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('fullname LIKE :name', {\n      name: `%${name}%`\n    })\n  });\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', {\n      email: `%${email}%`\n    })\n  });\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.deleteCustomer = deleteCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createCustomer = createCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXJlcG8uanMiXSwibmFtZXMiOlsiQ1VTVE9NRVJfVEFCTEUiLCJDVVNUT01FUl9UQUJMRV9DT0xVTU5TIiwiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiVW5pdE9mV29yayIsImdldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwidW5pdE9mV29yayIsImdldE9uZVdoZXJlIiwid2hlcmUiLCJkYkNvbm5lY3Rpb24iLCJyYXciLCJnZXRDdXN0b21lckJ5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyc0J5TmFtZSIsIm5hbWUiLCJnZXRBbGxXaGVyZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJ1cGRhdGVDdXN0b21lciIsImN1c3RvbWVyIiwidXBkYXRlIiwiZW50aXR5IiwiZGVsZXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJjcmVhdGVDdXN0b21lciIsInJlc3VsdCIsImNyZWF0ZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRU8sTUFBTUEsY0FBYyxHQUFHLFVBQXZCOztBQUNQLE1BQU1DLHNCQUFzQixHQUFHLENBQzdCLElBRDZCLEVBRTdCLE9BRjZCLEVBRzdCLE9BSDZCLEVBSTdCLGtCQUo2QixFQUs3QixVQUw2QixFQU03QixPQU42QixFQU83QixhQVA2QixFQVE3QixZQVI2QixFQVM3QixZQVQ2QixDQUEvQjs7QUFZTyxNQUFNQyxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUMxQixNQUFNLElBQUlDLHFCQUFKLENBQWVELFNBQWYsRUFBMEJFLE1BQTFCLENBQWlDQyxjQUFqQyxFQUF5QztBQUM5Q0MsRUFBQUEsU0FBUyxFQUFFUCxjQURtQztBQUU5Q1EsRUFBQUEsT0FBTyxFQUFFUDtBQUZxQyxDQUF6QyxDQUREOzs7O0FBTUEsTUFBTVEsZUFBZSxHQUFHLE9BQU9OLFNBQVAsRUFBa0JPLFVBQWxCLEtBQWlD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RCxRQUFNQyxVQUFVLEdBQUcsSUFBSVAscUJBQUosQ0FBZUQsU0FBZixDQUFuQjtBQUNBLFNBQU8sTUFBTVEsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQnJCLGNBQWxCLEVBQTBCO0FBQ3RDQyxJQUFBQSxTQUFTLEVBQUVQLGNBRDJCO0FBRXRDYSxJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIsa0JBQTVCLEVBQWdEO0FBQUVMLE1BQUFBO0FBQUYsS0FBaEQ7QUFGK0IsR0FBMUIsQ0FBYjtBQUlELENBTk07Ozs7QUFRQSxNQUFNa0IsY0FBYyxHQUFHLE9BQU96QixTQUFQLEVBQWtCb0IsUUFBbEIsS0FBK0I7QUFDM0QsUUFBTU0sTUFBTSxHQUFHLE1BQU8sSUFBSXpCLHFCQUFKLENBQWVELFNBQWYsRUFBMEIyQixNQUExQixDQUFpQ3hCLGNBQWpDLEVBQXlDO0FBQzdEQyxJQUFBQSxTQUFTLEVBQUVQLGNBRGtEO0FBRTdEUSxJQUFBQSxPQUFPLEVBQUVQLHNCQUZvRDtBQUc3RHdCLElBQUFBLE1BQU0sRUFBRUY7QUFIcUQsR0FBekMsQ0FBdEI7QUFNQSxTQUFRTSxNQUFNLENBQUNFLE1BQVAsSUFBaUJGLE1BQU0sQ0FBQyxDQUFELENBQXhCLElBQWdDLEVBQXZDO0FBQ0QsQ0FSTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RhbCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml0T2ZXb3JrIGZyb20gJy4uL2RhdGFiYXNlL3VuaXRfb2Zfd29yay5qcyc7XG5pbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBDVVNUT01FUl9UQUJMRSA9ICdjdXN0b21lcic7XG5jb25zdCBDVVNUT01FUl9UQUJMRV9DT0xVTU5TID0gW1xuICAnaWQnLFxuICAnZW1haWwnLFxuICAncGhvbmUnLFxuICAnZXh0ZXJuYWxfdXNlcl9pZCcsXG4gICdmdWxsbmFtZScsXG4gICdhbGlhcycsXG4gICdwcmVmZXJlbmNlcycsXG4gICdjcmVhdGVkX2F0JyxcbiAgJ3VwZGF0ZWRfYXQnXG5dO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzID0gYXN5bmMgZGJDb250ZXh0ID0+IFxuICBhd2FpdChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpLmdldEFsbChzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyBcbiAgfSkpO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmdldE9uZVdoZXJlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUVtYWlsID0gYXN5bmMgKGRiQ29udGV4dCwgZW1haWwpID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5nZXRPbmVXaGVyZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gICAgY29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyxcbiAgICB3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdlbWFpbCA9IDplbWFpbCcsIHsgZW1haWwgfSlcbiAgfSk7XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lcnNCeU5hbWUgPSBhc3luYyAoZGJDb250ZXh0LCBuYW1lKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZ2V0QWxsV2hlcmUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICBcdGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnZnVsbG5hbWUgTElLRSA6bmFtZScsIHsgbmFtZTogYCUke25hbWV9JWAgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzQnlFbWFpbCA9IGFzeW5jIChkYkNvbnRleHQsIGVtYWlsKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZ2V0QWxsV2hlcmUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnZW1haWwgTElLRSA6ZW1haWwnLCB7IGVtYWlsOiBgJSR7ZW1haWx9JWAgfSlcbiAgfSk7XG59O1xuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQsIGN1c3RvbWVyKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsudXBkYXRlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICBcdGVudGl0eTogY3VzdG9tZXIsXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnaWQgPSA6Y3VzdG9tZXJJZCcsIHsgY3VzdG9tZXJJZCB9KVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5kZWxldGUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tZXIgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCAobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KS5jcmVhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gICAgZW50aXR5OiBjdXN0b21lcixcbiAgfSkpO1xuICBcbiAgcmV0dXJuIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFswXSkgfHwge307XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "customer-repo.js"
      ],
      "names": [
        "CUSTOMER_TABLE",
        "CUSTOMER_TABLE_COLUMNS",
        "getCustomers",
        "dbContext",
        "UnitOfWork",
        "getAll",
        "schema",
        "tableName",
        "columns",
        "getCustomerById",
        "customerId",
        "unitOfWork",
        "getOneWhere",
        "where",
        "dbConnection",
        "raw",
        "getCustomerByEmail",
        "email",
        "getCustomersByName",
        "name",
        "getAllWhere",
        "getCustomersByEmail",
        "updateCustomer",
        "customer",
        "update",
        "entity",
        "deleteCustomer",
        "delete",
        "createCustomer",
        "result",
        "create",
        "length"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "sourcesContent": [
        "import UnitOfWork from '../database/unit_of_work.js';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { schema } from '../config';\n\nexport const CUSTOMER_TABLE = 'customer';\nconst CUSTOMER_TABLE_COLUMNS = [\n  'id',\n  'email',\n  'phone',\n  'external_user_id',\n  'fullname',\n  'alias',\n  'preferences',\n  'created_at',\n  'updated_at'\n];\n\nexport const getCustomers = async dbContext => \n  await(new UnitOfWork(dbContext).getAll(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS \n  }));\n\nexport const getCustomerById = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', { email })\n  });\n};\n\n\nexport const getCustomersByName = async (dbContext, name) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('fullname LIKE :name', { name: `%${name}%` })\n  });\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', { email: `%${email}%` })\n  });\n};\n\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \tentity: customer,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687677059
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _pg_test_db_connection = require(\"./connections/pg_test_db_connection\");\n\nvar _pg_db_connection = require(\"./connections/pg_db_connection\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'UnitOfWork'\n});\n\nclass UnitOfWork {\n  constructor(context) {\n    this.dbConnectionMap = {\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: _pg_test_db_connection.pgTestDbConnection,\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_CONTEXT]: _pg_db_connection.pgDbConnection\n    };\n\n    this.executeTransaction = async ({\n      func,\n      trx\n    }) => {\n      const transact = async transaction => await func().transacting(transaction).catch(error => {\n        logger.error(error, 'Transaction Failed');\n        transaction.rollback();\n        throw error;\n      });\n\n      const result = await (trx ? transact(trx) : new Promise((resolve, reject) => {\n        return this.dbConnection.transaction(async transaction => {\n          const response = await transact(transaction);\n          resolve(response);\n        });\n      }));\n      return result.rows || result;\n    };\n\n    this._getAll = (schema, {\n      tableName,\n      columns,\n      trx\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAll = async (schema, {\n      tableName,\n      columns,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAll(schema, {\n        tableName,\n        columns\n      }),\n      trx\n    });\n\n    this._getOneWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n      LIMIT 1\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getOneWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => {\n      const result = await this.executeTransaction({\n        func: () => this._getOneWhere(schema, {\n          tableName,\n          columns,\n          join,\n          where,\n          groupBy\n        }),\n        trx\n      });\n      return result.length ? result[0] : {};\n    };\n\n    this._getAllWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAllWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAllWhere(schema, {\n        tableName,\n        columns,\n        join,\n        where,\n        groupBy\n      }),\n      trx\n    });\n\n    this.addAuditValues = (entity = {}) => {\n      const now = (0, _moment.default)().format();\n      entity.created_at = now;\n      entity.updated_at = now;\n    };\n\n    this.formatSetValues = (columns, entity) => columns.reduce((acc, column) => {\n      const value = entity[column];\n      if (value == null) return acc;\n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, {\n        [column]: value\n      }).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n    this._update = (schema, {\n      tableName,\n      columns,\n      entity,\n      where = ''\n    }) => this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.update = async (schema, {\n      tableName,\n      columns = [],\n      entity,\n      where,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._update(schema, {\n          tableName,\n          columns,\n          entity,\n          where\n        }),\n        trx\n      });\n    };\n\n    this._delete = (schema, {\n      tableName,\n      where\n    }) => this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.delete = async (schema, {\n      tableName,\n      where,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._delete(schema, {\n        tableName,\n        where\n      }),\n      trx\n    });\n\n    this.formatInsertColumns = (columns, entity) => Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, {\n        [bindingName]: key\n      }));\n      return acc;\n    }, []).join(',');\n\n    this.formatInsertValues = (columns, entity, encryptPassword) => Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, {\n        [key]: entity[key]\n      }));\n      return acc;\n    }, []).join(',');\n\n    this._create = (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict = ''\n    }) => this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, {\n      schema,\n      tableName\n    });\n\n    this.create = async (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._create(schema, {\n          tableName,\n          columns,\n          entity,\n          rawValues,\n          encryptPassword,\n          onConflict\n        }),\n        trx\n      });\n    };\n\n    this.transact = async procedure => await new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    });\n\n    this.context = context;\n    logger.info({\n      context\n    }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection) {\n      logger.error({\n        context\n      }, 'No DB Connection for the given context!');\n    }\n  }\n\n}\n\nexports.default = UnitOfWork;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwiVW5pdE9mV29yayIsImNvbnN0cnVjdG9yIiwiY29udGV4dCIsImRiQ29ubmVjdGlvbk1hcCIsIlVuaXRPZldvcmtDb250ZXh0IiwiUE9TVEdSRVNfVEVTVF9DT05URVhUIiwicGdUZXN0RGJDb25uZWN0aW9uIiwiUE9TVEdSRVNfQ09OVEVYVCIsInBnRGJDb25uZWN0aW9uIiwiZXhlY3V0ZVRyYW5zYWN0aW9uIiwiZnVuYyIsInRyeCIsInRyYW5zYWN0IiwidHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGluZyIsImNhdGNoIiwiZXJyb3IiLCJyb2xsYmFjayIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGJDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJyb3dzIiwiX2dldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJyYXciLCJqb2luIiwiZ2V0QWxsIiwiX2dldE9uZVdoZXJlIiwid2hlcmUiLCJncm91cEJ5IiwiZ2V0T25lV2hlcmUiLCJsZW5ndGgiLCJfZ2V0QWxsV2hlcmUiLCJnZXRBbGxXaGVyZSIsImFkZEF1ZGl0VmFsdWVzIiwiZW50aXR5Iiwibm93IiwiZm9ybWF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJmb3JtYXRTZXRWYWx1ZXMiLCJyZWR1Y2UiLCJhY2MiLCJjb2x1bW4iLCJ2YWx1ZSIsInZhbHVlU3RhdGVtZW50IiwidG9TdHJpbmciLCJwdXNoIiwiX3VwZGF0ZSIsInVwZGF0ZSIsIl9kZWxldGUiLCJkZWxldGUiLCJmb3JtYXRJbnNlcnRDb2x1bW5zIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImluZGV4IiwiaW5jbHVkZXMiLCJiaW5kaW5nTmFtZSIsImZvcm1hdEluc2VydFZhbHVlcyIsImVuY3J5cHRQYXNzd29yZCIsIl9jcmVhdGUiLCJyYXdWYWx1ZXMiLCJvbkNv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O0FBZDZCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IHBnVGVzdERiQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbnMvcGdfdGVzdF9kYl9jb25uZWN0aW9uJztcbmltcG9ydCB7IHBnRGJDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9ucy9wZ19kYl9jb25uZWN0aW9uJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdVbml0T2ZXb3JrJ30gKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5pdE9mV29yayB7XG4gIGRiQ29ubmVjdGlvbk1hcCA9IHtcbiAgICBbVW5pdE9mV29ya0NvbnRleHQuUE9TVEdSRVNfVEVTVF9DT05URVhUXTogcGdUZXN0RGJDb25uZWN0aW9uLCBcbiAgICBbVW5pdE9mV29ya0NvbnRleHQuUE9TVEdSRVNfQ09OVEVYVF06IHBnRGJDb25uZWN0aW9uLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIGxvZ2dlci5pbmZvKHsgY29udGV4dCB9LCAnVW5pdE9mV29yayBzdGFydGVkIScpO1xuICAgIHRoaXMuZGJDb25uZWN0aW9uID0gdGhpcy5kYkNvbm5lY3Rpb25NYXBbY29udGV4dF07XG5cbiAgICBpZiAoIXRoaXMuZGJDb25uZWN0aW9uKXtcbiAgICAgIGxvZ2dlci5lcnJvcih7IGNvbnRleHQgfSwgJ05vIERCIENvbm5lY3Rpb24gZm9yIHRoZSBnaXZlbiBjb250ZXh0IScpO1xuICAgIH1cbiAgfVxuICBcbiAgZXhlY3V0ZVRyYW5zYWN0aW9uID0gYXN5bmMgKHsgZnVuYywgdHJ4IH0pID0+IHtcbiAgICBjb25zdCB0cmFuc2FjdCA9IGFzeW5jIHRyYW5zYWN0aW9uID0+XG4gICAgICAgIGF3YWl0IGZ1bmMoKVxuICAgICAgICAudHJhbnNhY3RpbmcodHJhbnNhY3Rpb24pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yLCAnVHJhbnNhY3Rpb24gRmFpbGVkJyk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICh0cnggPyBcbiAgICAgIHRyYW5zYWN0KHRyeCkgOlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGJDb25uZWN0aW9uLnRyYW5zYWN0aW9uKGFzeW5jIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdHJhbnNhY3QodHJhbnNhY3Rpb24pO1xuICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgICBcbiAgICByZXR1cm4gcmVzdWx0LnJvd3MgfHwgcmVzdWx0O1xuICB9O1xuXG4gIF9nZXRBbGwgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgdHJ4IH0pID0+XG4gICAgdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGBcbiAgICAgIFNFTEVDVCAke2NvbHVtbnMuam9pbignLCcpfVxuICAgICAgRlJPTSA6c2NoZW1hOi46dGFibGVOYW1lOlxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG5cbiAgZ2V0QWxsID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIHRyeCB9KSA9PiBcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZ2V0QWxsKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMgfSksXG4gICAgICB0cnhcbiAgICB9KTtcblxuICBfZ2V0T25lV2hlcmUgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgam9pbiA9ICcnLCB3aGVyZSA9ICcnLCBncm91cEJ5ID0gbnVsbCB9KSA9PlxuICAgIHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgXG4gICAgICBTRUxFQ1QgJHtjb2x1bW5zLmpvaW4oJywnKX1cbiAgICAgIEZST00gOnNjaGVtYTouOnRhYmxlTmFtZTpcbiAgICAgICR7am9pbn1cbiAgICAgIFdIRVJFICR7d2hlcmV9XG4gICAgICAkeyhncm91cEJ5ID8gYEdST1VQIEJZICgke2dyb3VwQnl9KWA6ICcnKX1cbiAgICAgIExJTUlUIDFcbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIGdldE9uZVdoZXJlID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGpvaW4sIHdoZXJlLCBncm91cEJ5LCB0cnggfSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVRyYW5zYWN0aW9uKHsgXG4gICAgICBmdW5jOiAoKSA9PiB0aGlzLl9nZXRPbmVXaGVyZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSB9KSxcbiAgICAgIHRyeFxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID8gcmVzdWx0WzBdIDoge307XG4gIH07XG5cbiAgX2dldEFsbFdoZXJlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGpvaW4gPSAnJywgd2hlcmUgPSAnJywgZ3JvdXBCeSA9IG51bGwgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgU0VMRUNUICR7Y29sdW1ucy5qb2luKCcsJyl9XG4gICAgICBGUk9NIDpzY2hlbWE6Ljp0YWJsZU5hbWU6XG4gICAgICAke2pvaW59XG4gICAgICBXSEVSRSAke3doZXJlfVxuICAgICAgJHsoZ3JvdXBCeSA/IGBHUk9VUCBCWSAoJHtncm91cEJ5fSlgOiAnJyl9XG4gICAgYCwgeyBzY2hlbWEsIHRhYmxlTmFtZSB9KTtcblxuICBnZXRBbGxXaGVyZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSwgdHJ4IH0pID0+IFxuICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYW5zYWN0aW9uKHsgXG4gICAgICBmdW5jOiAoKSA9PiB0aGlzLl9nZXRBbGxXaGVyZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSB9KSxcbiAgICAgIHRyeFxuICAgIH0pO1xuICBcbiAgYWRkQXVkaXRWYWx1ZXMgPSAoZW50aXR5ID0ge30pID0+IHtcbiAgICBjb25zdCBub3cgPSBtb21lbnQoKS5mb3JtYXQoKTtcbiAgICBlbnRpdHkuY3JlYXRlZF9hdCA9IG5vdztcbiAgICBlbnRpdHkudXBkYXRlZF9hdCA9IG5vdztcbiAgfTtcblxuICBmb3JtYXRTZXRWYWx1ZXMgPSAoY29sdW1ucywgZW50aXR5KSA9PiBcbiAgICBjb2x1bW5zLnJlZHVjZSgoYWNjLCBjb2x1bW4pID0+IHsgXG4gICAgICBjb25zdCB2YWx1ZSA9IGVudGl0eVtjb2x1bW5dO1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBhY2M7XG4gICAgICBcbiAgICAgIGNvbnN0IHZhbHVlU3RhdGVtZW50ID0gdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGAke2NvbHVtbn0gPSA6JHtjb2x1bW59YCwgeyBbY29sdW1uXTogdmFsdWUgfSApLnRvU3RyaW5nKCk7XG4gICAgICBhY2MucHVzaCh2YWx1ZVN0YXRlbWVudCk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKS5qb2luKCcsJyk7XG5cbiAgX3VwZGF0ZSA9IChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHdoZXJlID0gJycgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgVVBEQVRFIDpzY2hlbWE6Ljp0YWJsZU5hbWU6IFxuICAgICAgICBTRVQgJHt0aGlzLmZvcm1hdFNldFZhbHVlcyhjb2x1bW5zLCBlbnRpdHkpfVxuICAgICAgV0hFUkUgJHt3aGVyZX1cbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIHVwZGF0ZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zID0gW10sIGVudGl0eSwgd2hlcmUsIHRyeCB9KSA9PiB7XG4gICAgdGhpcy5hZGRBdWRpdFZhbHVlcyhlbnRpdHkpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fdXBkYXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgd2hlcmUgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgfTtcbiAgXG4gIF9kZWxldGUgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgd2hlcmUgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgREVMRVRFXG4gICAgICBGUk9NIDpzY2hlbWE6Ljp0YWJsZU5hbWU6XG4gICAgICBXSEVSRSAke3doZXJlfVxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG4gIFxuICBkZWxldGUgPSBhc3luYyAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgd2hlcmUsIHRyeCB9KSA9PiBcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZGVsZXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIHdoZXJlIH0pLFxuICAgICAgdHJ4XG4gICAgfSk7XG5cbiAgZm9ybWF0SW5zZXJ0Q29sdW1ucyA9IChjb2x1bW5zLCBlbnRpdHkpID0+XG4gICAgT2JqZWN0LmtleXMoZW50aXR5KS5yZWR1Y2UoKGFjYywga2V5LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFjb2x1bW5zLmluY2x1ZGVzKGtleSkpIHJldHVybiBhY2M7XG5cbiAgICAgIGNvbnN0IGJpbmRpbmdOYW1lID0gYCR7a2V5fSR7aW5kZXh9YDtcbiAgICAgIGFjYy5wdXNoKHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgOiR7YmluZGluZ05hbWV9OmAsIHsgW2JpbmRpbmdOYW1lXToga2V5IH0pKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pLmpvaW4oJywnKTtcblxuICBmb3JtYXRJbnNlcnRWYWx1ZXMgPSAoY29sdW1ucywgZW50aXR5LCBlbmNyeXB0UGFzc3dvcmQpID0+XG4gICAgT2JqZWN0LmtleXMoZW50aXR5KS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBpZiAoIWNvbHVtbnMuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGFjYztcblxuICAgICAgY29uc3QgYmluZGluZ05hbWUgPSBlbmNyeXB0UGFzc3dvcmQgJiYga2V5ID09PSAncGFzc3dvcmQnID8gYE1ENSg6JHtrZXl9KWAgOiBgOiR7a2V5fWA7XG4gICAgICBhY2MucHVzaCh0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYmluZGluZ05hbWUsIHsgW2tleV06IGVudGl0eVtrZXldIH0pKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pLmpvaW4oJywnKTtcblxuICBfY3JlYXRlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QgPSAnJyB9KSA9PlxuICAgIHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgXG4gICAgICBJTlNFUlQgSU5UTyA6c2NoZW1hOi46dGFibGVOYW1lOiAoJHt0aGlzLmZvcm1hdEluc2VydENvbHVtbnMoY29sdW1ucywgZW50aXR5KX0pXG4gICAgICAgIFZBTFVFUyAoJHtyYXdWYWx1ZXMgfHwgdGhpcy5mb3JtYXRJbnNlcnRWYWx1ZXMoY29sdW1ucywgZW50aXR5LCBlbmNyeXB0UGFzc3dvcmQpfSlcbiAgICAgICR7b25Db25mbGljdH0gICBcbiAgICAgIFJFVFVSTklORyBpZFxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG5cbiAgY3JlYXRlID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QsIHRyeCB9KSA9PiB7XG4gICAgdGhpcy5hZGRBdWRpdFZhbHVlcyhlbnRpdHkpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fY3JlYXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgfTtcblxuICB0cmFuc2FjdCA9IGFzeW5jIHByb2NlZHVyZSA9PlxuICAgIGF3YWl0IChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7IFxuICAgICAgcmV0dXJuIHRoaXMuZGJDb25uZWN0aW9uLnRyYW5zYWN0aW9uKGFzeW5jIHRyeCA9PiB7XG4gICAgICAgIGF3YWl0IHByb2NlZHVyZSh0cngsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KSk7XG5cbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "UnitOfWork",
        "constructor",
        "context",
        "dbConnectionMap",
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "pgTestDbConnection",
        "POSTGRES_CONTEXT",
        "pgDbConnection",
        "executeTransaction",
        "func",
        "trx",
        "transact",
        "transaction",
        "transacting",
        "catch",
        "error",
        "rollback",
        "result",
        "Promise",
        "resolve",
        "reject",
        "dbConnection",
        "response",
        "rows",
        "_getAll",
        "schema",
        "tableName",
        "columns",
        "raw",
        "join",
        "getAll",
        "_getOneWhere",
        "where",
        "groupBy",
        "getOneWhere",
        "length",
        "_getAllWhere",
        "getAllWhere",
        "addAuditValues",
        "entity",
        "now",
        "format",
        "created_at",
        "updated_at",
        "formatSetValues",
        "reduce",
        "acc",
        "column",
        "value",
        "valueStatement",
        "toString",
        "push",
        "_update",
        "update",
        "_delete",
        "delete",
        "formatInsertColumns",
        "Object",
        "keys",
        "key",
        "index",
        "includes",
        "bindingName",
        "formatInsertValues",
        "encryptPassword",
        "_create",
        "rawValues",
        "onConflict",
        "create",
        "procedure",
        "info"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
      "sourcesContent": [
        "import { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport bunyan from 'bunyan';\nimport { pgTestDbConnection } from './connections/pg_test_db_connection';\nimport { pgDbConnection } from './connections/pg_db_connection';\nimport moment from 'moment';\n\nconst logger = bunyan.createLogger({ name: 'UnitOfWork'} );\n\nexport default class UnitOfWork {\n  dbConnectionMap = {\n    [UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: pgTestDbConnection, \n    [UnitOfWorkContext.POSTGRES_CONTEXT]: pgDbConnection,\n  };\n\n  constructor(context) {\n    this.context = context;\n    logger.info({ context }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection){\n      logger.error({ context }, 'No DB Connection for the given context!');\n    }\n  }\n  \n  executeTransaction = async ({ func, trx }) => {\n    const transact = async transaction =>\n        await func()\n        .transacting(transaction)\n        .catch(error => {\n          logger.error(error, 'Transaction Failed');\n          transaction.rollback();\n          throw error;\n        });\n  \n    const result = await (trx ? \n      transact(trx) :\n      new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async transaction => {\n         const response = await transact(transaction);\n         resolve(response);\n      });\n    }));\n      \n    return result.rows || result;\n  };\n\n  _getAll = (schema, { tableName, columns, trx }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, { schema, tableName });\n\n  getAll = async (schema, { tableName, columns, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAll(schema, { tableName, columns }),\n      trx\n    });\n\n  _getOneWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n      LIMIT 1\n    `, { schema, tableName });\n\n  getOneWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => {\n    const result = await this.executeTransaction({ \n      func: () => this._getOneWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n    return result.length ? result[0] : {};\n  };\n\n  _getAllWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n    `, { schema, tableName });\n\n  getAllWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAllWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n  \n  addAuditValues = (entity = {}) => {\n    const now = moment().format();\n    entity.created_at = now;\n    entity.updated_at = now;\n  };\n\n  formatSetValues = (columns, entity) => \n    columns.reduce((acc, column) => { \n      const value = entity[column];\n      if (value == null) return acc;\n      \n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, { [column]: value } ).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n  _update = (schema, { tableName, columns, entity, where = '' }) =>\n    this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, { schema, tableName });\n\n  update = async (schema, { tableName, columns = [], entity, where, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._update(schema, { tableName, columns, entity, where }),\n      trx\n    });\n  };\n  \n  _delete = (schema, { tableName, where }) =>\n    this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, { schema, tableName });\n  \n  delete = async (schema, { tableName, where, trx }) => \n    await this.executeTransaction({ \n      func: () => this._delete(schema, { tableName, where }),\n      trx\n    });\n\n  formatInsertColumns = (columns, entity) =>\n    Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, { [bindingName]: key }));\n      return acc;\n    }, []).join(',');\n\n  formatInsertValues = (columns, entity, encryptPassword) =>\n    Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, { [key]: entity[key] }));\n      return acc;\n    }, []).join(',');\n\n  _create = (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict = '' }) =>\n    this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, { schema, tableName });\n\n  create = async (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._create(schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict }),\n      trx\n    });\n  };\n\n  transact = async procedure =>\n    await (new Promise((resolve, reject) => { \n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    }));\n\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1549336605098
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnitOfWorkContext = void 0;\nconst UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT'\n};\nexports.UnitOfWorkContext = UnitOfWorkContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJVbml0T2ZXb3JrQ29udGV4dCIsIlBPU1RHUkVTX1RFU1RfQ09OVEVYVCIsIlBPU1RHUkVTX0NPTlRFWFQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLGlCQUFpQixHQUFHO0FBQy9CQyxFQUFBQSxxQkFBcUIsRUFBRSx1QkFEUTtBQUUvQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFGYSxDQUExQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVW5pdE9mV29ya0NvbnRleHQgPSB7XG4gIFBPU1RHUkVTX1RFU1RfQ09OVEVYVDogJ1BPU1RHUkVTX1RFU1RfQ09OVEVYVCcsXG4gIFBPU1RHUkVTX0NPTlRFWFQ6ICdQT1NUR1JFU19DT05URVhUJyxcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "POSTGRES_CONTEXT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,iBAAiB,GAAG;AAC/BC,EAAAA,qBAAqB,EAAE,uBADQ;AAE/BC,EAAAA,gBAAgB,EAAE;AAFa,CAA1B",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "sourcesContent": [
        "export const UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT',\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_test_db_connection.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_db_connection.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_db_connection.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_db_connection.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_test_db_connection.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _knex = _interopRequireDefault(require(\"knex\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _knexTinyLogger = _interopRequireDefault(require(\"knex-tiny-logger\"));\n\nvar _environment = require(\"../../helpers/environment\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _pg_test_knexfile = _interopRequireDefault(require(\"./pg_test_knexfile.js\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'PG DBConnection'\n});\n\nlet pgTestDbConnection;\nmodule.exports = {\n  get pgTestDbConnection() {\n    if (!pgTestDbConnection) {\n      pgTestDbConnection = (0, _knexTinyLogger.default)((0, _knex.default)(_pg_test_knexfile.default));\n      logger.info({\n        database: _pg_test_knexfile.default.connection.database\n      }, 'Knex singleton created');\n    }\n\n    return pgTestDbConnection;\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3RfZGJfY29ubmVjdGlvbi5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwicGdUZXN0RGJDb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbmZpZyIsImluZm8iLCJkYXRhYmFzZSIsImNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsa0JBQUo7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsTUFBSUYsa0JBQUosR0FBeUI7QUFDdkIsUUFBSSxDQUFDQSxrQkFBTCxFQUF5QjtBQUN2QkEsTUFBQUEsa0JBQWtCLEdBQUcsNkJBQWUsbUJBQUtHLHlCQUFMLENBQWYsQ0FBckI7QUFDQVAsTUFBQUEsTUFBTSxDQUFDUSxJQUFQLENBQVk7QUFBRUMsUUFBQUEsUUFBUSxFQUFFRiwwQkFBT0csVUFBUCxDQUFrQkQ7QUFBOUIsT0FBWixFQUFzRCx3QkFBdEQ7QUFDRDs7QUFDRCxXQUFPTCxrQkFBUDtBQUNEOztBQVBjLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UvY29ubmVjdGlvbnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQga25leCBmcm9tICdrbmV4JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGtuZXhUaW55TG9nZ2VyIGZyb20gJ2tuZXgtdGlueS1sb2dnZXInO1xuaW1wb3J0IHsgZ2V0RW52VmFyaWFibGUgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2Vudmlyb25tZW50JztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9wZ190ZXN0X2tuZXhmaWxlLmpzJztcblxuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdQRyBEQkNvbm5lY3Rpb24nfSApO1xuXG5sZXQgcGdUZXN0RGJDb25uZWN0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0IHBnVGVzdERiQ29ubmVjdGlvbigpIHtcbiAgICBpZiAoIXBnVGVzdERiQ29ubmVjdGlvbikge1xuICAgICAgcGdUZXN0RGJDb25uZWN0aW9uID0ga25leFRpbnlMb2dnZXIoa25leChjb25maWcpKTtcbiAgICAgIGxvZ2dlci5pbmZvKHsgZGF0YWJhc2U6IGNvbmZpZy5jb25uZWN0aW9uLmRhdGFiYXNlIH0sICdLbmV4IHNpbmdsZXRvbiBjcmVhdGVkJyk7XG4gICAgfVxuICAgIHJldHVybiBwZ1Rlc3REYkNvbm5lY3Rpb247XG4gIH0sXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_db_connection.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "pgTestDbConnection",
        "module",
        "exports",
        "config",
        "info",
        "database",
        "connection"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,kBAAJ;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACf,MAAIF,kBAAJ,GAAyB;AACvB,QAAI,CAACA,kBAAL,EAAyB;AACvBA,MAAAA,kBAAkB,GAAG,6BAAe,mBAAKG,yBAAL,CAAf,CAArB;AACAP,MAAAA,MAAM,CAACQ,IAAP,CAAY;AAAEC,QAAAA,QAAQ,EAAEF,0BAAOG,UAAP,CAAkBD;AAA9B,OAAZ,EAAsD,wBAAtD;AACD;;AACD,WAAOL,kBAAP;AACD;;AAPc,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "import knex from 'knex';\nimport path from 'path';\nimport knexTinyLogger from 'knex-tiny-logger';\nimport { getEnvVariable } from '../../helpers/environment';\nimport bunyan from 'bunyan';\nimport config from './pg_test_knexfile.js';\n\nconst logger = bunyan.createLogger({ name: 'PG DBConnection'} );\n\nlet pgTestDbConnection;\n\nmodule.exports = {\n  get pgTestDbConnection() {\n    if (!pgTestDbConnection) {\n      pgTestDbConnection = knexTinyLogger(knex(config));\n      logger.info({ database: config.connection.database }, 'Knex singleton created');\n    }\n    return pgTestDbConnection;\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/environment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "environment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst getEnvVariable = function (name, def) {\n  return process.env[name] || def;\n};\n\nmodule.exports = {\n  getEnvVariable\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LmpzIl0sIm5hbWVzIjpbImdldEVudlZhcmlhYmxlIiwibmFtZSIsImRlZiIsInByb2Nlc3MiLCJlbnYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGNBQWMsR0FBRyxVQUFTQyxJQUFULEVBQWVDLEdBQWYsRUFBbUI7QUFBRSxTQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWixLQUFxQkMsR0FBNUI7QUFBa0MsQ0FBOUU7O0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUFFTixFQUFBQTtBQUFGLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdldEVudlZhcmlhYmxlID0gZnVuY3Rpb24obmFtZSwgZGVmKXsgcmV0dXJuIHByb2Nlc3MuZW52W25hbWVdIHx8IGRlZjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0RW52VmFyaWFibGUgfTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "environment.js"
      ],
      "names": [
        "getEnvVariable",
        "name",
        "def",
        "process",
        "env",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAG,UAASC,IAAT,EAAeC,GAAf,EAAmB;AAAE,SAAOC,OAAO,CAACC,GAAR,CAAYH,IAAZ,KAAqBC,GAA5B;AAAkC,CAA9E;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AAAEN,EAAAA;AAAF,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "const getEnvVariable = function(name, def){ return process.env[name] || def; }\n\nmodule.exports = { getEnvVariable };"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_test_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_test_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3Rfa25leGZpbGUuanMiXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJnZXRFbnZWYXJpYWJsZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBvcnQiLCJwYXNzd29yZCIsImFkbWluVXNlciIsImFkbWluUGFzc3dvcmQiLCJyb2xlIiwiYXBwbGljYXRpb25fbmFtZSIsImNoYXJzZXQiLCJwb29sIiwibWluIiwibWF4IiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJ0YWJsZU5hbWUiLCJkZWJ1ZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFxQkQsT0FBTyxDQUFDLDJCQUFELENBQWxDOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFBTSxFQUFFLFlBREs7QUFFYkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLElBQUFBLElBQUksRUFBRUwsY0FBYyxDQUFDLGVBQUQsRUFBa0IsV0FBbEIsQ0FEVjtBQUVWTSxJQUFBQSxRQUFRLEVBQUVOLGNBQWMsQ0FBQyxhQUFELEVBQWdCLGVBQWhCLENBRmQ7QUFHVk8sSUFBQUEsSUFBSSxFQUFFUCxjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FIVjtBQUlWUSxJQUFBQSxJQUFJLEVBQUVSLGNBQWMsQ0FBQyxrQkFBRCxFQUFxQixJQUFyQixDQUpWO0FBS1ZTLElBQUFBLFFBQVEsRUFBRVQsY0FBYyxDQUFDLHNCQUFELEVBQXlCLHdCQUF6QixDQUxkO0FBTVZVLElBQUFBLFNBQVMsRUFBRVYsY0FBYyxDQUFDLGVBQUQsRUFBa0IsVUFBbEIsQ0FOZjtBQU9WVyxJQUFBQSxhQUFhLEVBQUVYLGNBQWMsQ0FBQyxtQkFBRCxFQUFzQix1QkFBdEIsQ0FQbkI7QUFRVlksSUFBQUEsSUFBSSxFQUFFWixjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FSVjtBQVNWYSxJQUFBQSxnQkFBZ0IsRUFBRSxVQVRSO0FBVVZDLElBQUFBLE9BQU8sRUFBRTtBQVZDLEdBRkM7QUFjYkMsRUFBQUEsSUFBSSxFQUFFO0FBQ0pDLElBQUFBLEdBQUcsRUFBRSxDQUREO0FBRUpDLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBZE87QUFrQmJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxTQUFTLEVBQUVyQixJQUFJLENBQUNzQixPQUFMLENBQWFDLFNBQWIsRUFBd0IsZUFBeEIsQ0FERDtBQUVWQyxJQUFBQSxTQUFTLEVBQUU7QUFGRCxHQWxCQztBQXNCYkMsRUFBQUEsS0FBSyxFQUFFO0FBdEJNLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UvY29ubmVjdGlvbnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgeyBnZXRFbnZWYXJpYWJsZSB9ID0gcmVxdWlyZSgnLi4vLi4vaGVscGVycy9lbnZpcm9ubWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjbGllbnQ6ICdwb3N0Z3Jlc3FsJyxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBob3N0OiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfSE9TVCcsICdsb2NhbGhvc3QnKSxcbiAgICAgIGRhdGFiYXNlOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREInLCAnY3VzdG9tZXJfdGVzdCcpLFxuICAgICAgdXNlcjogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1VTRVInLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgcG9ydDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BPUlQnLCA1NDMyKSxcbiAgICAgIHBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUEFTU1dPUkQnLCAnJiYvL2EpKD1mZ2c/PzwqZGYuZmYlKicpLFxuICAgICAgYWRtaW5Vc2VyOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fVVNFUicsICdwb3N0Z3JlcycpLFxuICAgICAgYWRtaW5QYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1BBU1NXT1JEJywgJ21ifDMzXzxDPGtsJkEqZGYuYzglKicpLFxuICAgICAgcm9sZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1JPTEUnLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgYXBwbGljYXRpb25fbmFtZTogJ0N1c3RvbWVyJyxcbiAgICAgIGNoYXJzZXQ6ICd1dGY4JyxcbiAgICB9LFxuICAgIHBvb2w6IHtcbiAgICAgIG1pbjogMixcbiAgICAgIG1heDogNTAsXG4gICAgfSxcbiAgICBtaWdyYXRpb25zOiB7XG4gICAgICBkaXJlY3Rvcnk6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9taWdyYXRpb25zJyksXG4gICAgICB0YWJsZU5hbWU6ICdjdXN0b21lcl90ZXN0X2tuZXhfbWlncmF0aW9ucycsXG4gICAgfSxcbiAgICBkZWJ1ZzogdHJ1ZSxcbiAgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,eAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_test_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_db_connection.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_db_connection.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_db_connection.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_db_connection.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_db_connection.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _knex = _interopRequireDefault(require(\"knex\"));\n\nvar _pg_knexfile = _interopRequireDefault(require(\"./pg_knexfile.js\"));\n\nvar _knexTinyLogger = _interopRequireDefault(require(\"knex-tiny-logger\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'PG DBConnection'\n});\n\nlet pgDbConnection;\nmodule.exports = {\n  get pgDbConnection() {\n    if (!pgDbConnection) {\n      pgDbConnection = (0, _knexTinyLogger.default)((0, _knex.default)(_pg_knexfile.default));\n      logger.info({\n        database: _pg_knexfile.default.connection.database\n      }, 'Knex singleton created');\n    }\n\n    return pgDbConnection;\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2RiX2Nvbm5lY3Rpb24uanMiXSwibmFtZXMiOlsibG9nZ2VyIiwiYnVueWFuIiwiY3JlYXRlTG9nZ2VyIiwibmFtZSIsInBnRGJDb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbmZpZyIsImluZm8iLCJkYXRhYmFzZSIsImNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsY0FBSjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZixNQUFJRixjQUFKLEdBQXFCO0FBQ25CLFFBQUksQ0FBQ0EsY0FBTCxFQUFxQjtBQUNuQkEsTUFBQUEsY0FBYyxHQUFHLDZCQUFlLG1CQUFLRyxvQkFBTCxDQUFmLENBQWpCO0FBQ0FQLE1BQUFBLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZO0FBQUVDLFFBQUFBLFFBQVEsRUFBRUYscUJBQU9HLFVBQVAsQ0FBa0JEO0FBQTlCLE9BQVosRUFBc0Qsd0JBQXREO0FBQ0Q7O0FBQ0QsV0FBT0wsY0FBUDtBQUNEOztBQVBjLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UvY29ubmVjdGlvbnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQga25leCBmcm9tICdrbmV4JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9wZ19rbmV4ZmlsZS5qcyc7XG5pbXBvcnQga25leFRpbnlMb2dnZXIgZnJvbSAna25leC10aW55LWxvZ2dlcic7XG5pbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ1BHIERCQ29ubmVjdGlvbid9ICk7XG5cbmxldCBwZ0RiQ29ubmVjdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldCBwZ0RiQ29ubmVjdGlvbigpIHtcbiAgICBpZiAoIXBnRGJDb25uZWN0aW9uKSB7XG4gICAgICBwZ0RiQ29ubmVjdGlvbiA9IGtuZXhUaW55TG9nZ2VyKGtuZXgoY29uZmlnKSk7XG4gICAgICBsb2dnZXIuaW5mbyh7IGRhdGFiYXNlOiBjb25maWcuY29ubmVjdGlvbi5kYXRhYmFzZSB9LCAnS25leCBzaW5nbGV0b24gY3JlYXRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcGdEYkNvbm5lY3Rpb247XG4gIH0sXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "pg_db_connection.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "pgDbConnection",
        "module",
        "exports",
        "config",
        "info",
        "database",
        "connection"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,cAAJ;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACf,MAAIF,cAAJ,GAAqB;AACnB,QAAI,CAACA,cAAL,EAAqB;AACnBA,MAAAA,cAAc,GAAG,6BAAe,mBAAKG,oBAAL,CAAf,CAAjB;AACAP,MAAAA,MAAM,CAACQ,IAAP,CAAY;AAAEC,QAAAA,QAAQ,EAAEF,qBAAOG,UAAP,CAAkBD;AAA9B,OAAZ,EAAsD,wBAAtD;AACD;;AACD,WAAOL,cAAP;AACD;;AAPc,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "import knex from 'knex';\nimport config from './pg_knexfile.js';\nimport knexTinyLogger from 'knex-tiny-logger';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'PG DBConnection'} );\n\nlet pgDbConnection;\n\nmodule.exports = {\n  get pgDbConnection() {\n    if (!pgDbConnection) {\n      pgDbConnection = knexTinyLogger(knex(config));\n      logger.info({ database: config.connection.database }, 'Knex singleton created');\n    }\n    return pgDbConnection;\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2tuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiZ2V0RW52VmFyaWFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2xpZW50IiwiY29ubmVjdGlvbiIsImhvc3QiLCJkYXRhYmFzZSIsInVzZXIiLCJwb3J0IiwicGFzc3dvcmQiLCJhZG1pblVzZXIiLCJhZG1pblBhc3N3b3JkIiwicm9sZSIsImFwcGxpY2F0aW9uX25hbWUiLCJjaGFyc2V0IiwicG9vbCIsIm1pbiIsIm1heCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwidGFibGVOYW1lIiwiZGVidWciXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBcUJELE9BQU8sQ0FBQywyQkFBRCxDQUFsQzs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLE1BQU0sRUFBRSxZQURLO0FBRWJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxJQUFJLEVBQUVMLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFdBQWxCLENBRFY7QUFFVk0sSUFBQUEsUUFBUSxFQUFFTixjQUFjLENBQUMsYUFBRCxFQUFnQixVQUFoQixDQUZkO0FBR1ZPLElBQUFBLElBQUksRUFBRVAsY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBSFY7QUFJVlEsSUFBQUEsSUFBSSxFQUFFUixjQUFjLENBQUMsa0JBQUQsRUFBcUIsSUFBckIsQ0FKVjtBQUtWUyxJQUFBQSxRQUFRLEVBQUVULGNBQWMsQ0FBQyxzQkFBRCxFQUF5Qix3QkFBekIsQ0FMZDtBQU1WVSxJQUFBQSxTQUFTLEVBQUVWLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFVBQWxCLENBTmY7QUFPVlcsSUFBQUEsYUFBYSxFQUFFWCxjQUFjLENBQUMsbUJBQUQsRUFBc0IsdUJBQXRCLENBUG5CO0FBUVZZLElBQUFBLElBQUksRUFBRVosY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBUlY7QUFTVmEsSUFBQUEsZ0JBQWdCLEVBQUUsVUFUUjtBQVVWQyxJQUFBQSxPQUFPLEVBQUU7QUFWQyxHQUZDO0FBY2JDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxHQUFHLEVBQUUsQ0FERDtBQUVKQyxJQUFBQSxHQUFHLEVBQUU7QUFGRCxHQWRPO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsU0FBUyxFQUFFckIsSUFBSSxDQUFDc0IsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGVBQXhCLENBREQ7QUFFVkMsSUFBQUEsU0FBUyxFQUFFO0FBRkQsR0FsQkM7QUFzQmJDLEVBQUFBLEtBQUssRUFBRTtBQXRCTSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgZ2V0RW52VmFyaWFibGUgfSA9IHJlcXVpcmUoJy4uLy4uL2hlbHBlcnMvZW52aXJvbm1lbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2xpZW50OiAncG9zdGdyZXNxbCcsXG4gICAgY29ubmVjdGlvbjoge1xuICAgICAgaG9zdDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0hPU1QnLCAnbG9jYWxob3N0JyksXG4gICAgICBkYXRhYmFzZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCJywgJ3Bvc3RncmVzJyksXG4gICAgICB1c2VyOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfVVNFUicsICdjdXN0b21lcl91c2VyJyksXG4gICAgICBwb3J0OiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUE9SVCcsIDU0MzIpLFxuICAgICAgcGFzc3dvcmQ6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9QQVNTV09SRCcsICcmJi8vYSkoPWZnZz8/PCpkZi5mZiUqJyksXG4gICAgICBhZG1pblVzZXI6IGdldEVudlZhcmlhYmxlKCdEQl9BRE1JTl9VU0VSJywgJ3Bvc3RncmVzJyksXG4gICAgICBhZG1pblBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fUEFTU1dPUkQnLCAnbWJ8MzNfPEM8a2wmQSpkZi5jOCUqJyksXG4gICAgICByb2xlOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUk9MRScsICdjdXN0b21lcl91c2VyJyksXG4gICAgICBhcHBsaWNhdGlvbl9uYW1lOiAnQ3VzdG9tZXInLFxuICAgICAgY2hhcnNldDogJ3V0ZjgnLFxuICAgIH0sXG4gICAgcG9vbDoge1xuICAgICAgbWluOiAyLFxuICAgICAgbWF4OiA1MCxcbiAgICB9LFxuICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgIGRpcmVjdG9yeTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uL21pZ3JhdGlvbnMnKSxcbiAgICAgIHRhYmxlTmFtZTogJ2N1c3RvbWVyX2tuZXhfbWlncmF0aW9ucycsXG4gICAgfSxcbiAgICBkZWJ1ZzogdHJ1ZSxcbiAgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,UAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/config.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst {\n  getEnvVariable\n} = require('./helpers/environment');\n\nmodule.exports = {\n  schema: getEnvVariable('CUSTOMER_SCHEMA', 'customer'),\n  authExternalLoginUrl: getEnvVariable('AUTH_EXTERNAL_LOGIN_URL', 'http://localhost:3000/api/external/login'),\n  authExternalAuthenticateUrl: getEnvVariable('AUTH_EXTERNAL_AUTHENTICATE_URL', 'http://localhost:3000/api/authenticate'),\n  authCreateUserUrl: getEnvVariable('AUTH_CREATE_USER_URL', 'http://localhost:3000/api/users'),\n  productUrl: getEnvVariable('PRODUCT_URL', 'http://localhost:3060/api/categories'),\n  initiatePaymentUrl: getEnvVariable('INITIATE_PAYMENT_PROVIDER_DOMAIN', 'http://localhost:4550/api/payment/initiate'),\n  paymentClientId: '6b4fc32e-f873-4a79-904b-afdc37d6e70b',\n  crypto: {\n    sharedEncryptionKey: getEnvVariable('SHARED_ENCRYPTION_KEY', '4&//#@.c9Cb%*|44_<kl[<CI?u|5WW5->='),\n    paymentEncryptionKey: getEnvVariable('PAYMENT_ENCRYPTION_KEY', '**&~$]yGka%n^_^_b,&g7_)l7cskUu@_@-&@9'),\n    algorithm: 'AES-256-CTR',\n    algorithmKeySize: 32,\n    algorithmIvSize: 16,\n    algorithmEncode: 'base64',\n    algorithmCharset: 'utf8'\n  },\n  authExternalLoginCredentials: {\n    email: getEnvVariable('AUTH_EXTERNAL_LOGIN_USER', 'andres+external@gmail.com'),\n    password: getEnvVariable('AUTH_EXTERNAL_LOGIN_PASSWORD', 'secret')\n  },\n  maxAllowedProductQuantity: getEnvVariable('MAX_ALLOWED_PRODUCT_QUANTITY', 10)\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJnZXRFbnZWYXJpYWJsZSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2NoZW1hIiwiYXV0aEV4dGVybmFsTG9naW5VcmwiLCJhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwiLCJhdXRoQ3JlYXRlVXNlclVybCIsInByb2R1Y3RVcmwiLCJpbml0aWF0ZVBheW1lbnRVcmwiLCJwYXltZW50Q2xpZW50SWQiLCJjcnlwdG8iLCJzaGFyZWRFbmNyeXB0aW9uS2V5IiwicGF5bWVudEVuY3J5cHRpb25LZXkiLCJhbGdvcml0aG0iLCJhbGdvcml0aG1LZXlTaXplIiwiYWxnb3JpdGhtSXZTaXplIiwiYWxnb3JpdGhtRW5jb2RlIiwiYWxnb3JpdGhtQ2hhcnNldCIsImF1dGhFeHRlcm5hbExvZ2luQ3JlZGVudGlhbHMiLCJlbWFpbCIsInBhc3N3b3JkIiwibWF4QWxsb3dlZFByb2R1Y3RRdWFudGl0eSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBcUJDLE9BQU8sQ0FBQyx1QkFBRCxDQUFsQzs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZDLEVBQUFBLE1BQU0sRUFBRUosY0FBYyxDQUFDLGlCQUFELEVBQW9CLFVBQXBCLENBRFA7QUFFZkssRUFBQUEsb0JBQW9CLEVBQUVMLGNBQWMsQ0FBQyx5QkFBRCxFQUE0QiwwQ0FBNUIsQ0FGckI7QUFHZk0sRUFBQUEsMkJBQTJCLEVBQUVOLGNBQWMsQ0FBQyxnQ0FBRCxFQUFtQyx3Q0FBbkMsQ0FINUI7QUFJZk8sRUFBQUEsaUJBQWlCLEVBQUVQLGNBQWMsQ0FBQyxzQkFBRCxFQUF5QixpQ0FBekIsQ0FKbEI7QUFLZlEsRUFBQUEsVUFBVSxFQUFFUixjQUFjLENBQUMsYUFBRCxFQUFnQixzQ0FBaEIsQ0FMWDtBQU1mUyxFQUFBQSxrQkFBa0IsRUFBRVQsY0FBYyxDQUFDLGtDQUFELEVBQXFDLDRDQUFyQyxDQU5uQjtBQU9mVSxFQUFBQSxlQUFlLEVBQUUsc0NBUEY7QUFRZkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05DLElBQUFBLG1CQUFtQixFQUFFWixjQUFjLENBQUMsdUJBQUQsRUFBMEIsb0NBQTFCLENBRDdCO0FBRU5hLElBQUFBLG9CQUFvQixFQUFFYixjQUFjLENBQUMsd0JBQUQsRUFBMkIsdUNBQTNCLENBRjlCO0FBR05jLElBQUFBLFNBQVMsRUFBRSxhQUhMO0FBSU5DLElBQUFBLGdCQUFnQixFQUFFLEVBSlo7QUFLTkMsSUFBQUEsZUFBZSxFQUFFLEVBTFg7QUFNTkMsSUFBQUEsZUFBZSxFQUFFLFFBTlg7QUFPTkMsSUFBQUEsZ0JBQWdCLEVBQUU7QUFQWixHQVJPO0FBaUJmQyxFQUFBQSw0QkFBNEIsRUFBRTtBQUM1QkMsSUFBQUEsS0FBSyxFQUFFcEIsY0FBYyxDQUFDLDBCQUFELEVBQTZCLDJCQUE3QixDQURPO0FBRTVCcUIsSUFBQUEsUUFBUSxFQUFFckIsY0FBYyxDQUFDLDhCQUFELEVBQWlDLFFBQWpDO0FBRkksR0FqQmY7QUFxQmZzQixFQUFBQSx5QkFBeUIsRUFBRXRCLGNBQWMsQ0FBQyw4QkFBRCxFQUFpQyxFQUFqQztBQXJCMUIsQ0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZ2V0RW52VmFyaWFibGUgfSA9IHJlcXVpcmUoJy4vaGVscGVycy9lbnZpcm9ubWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2NoZW1hOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfU0NIRU1BJywgJ2N1c3RvbWVyJyksXG4gIGF1dGhFeHRlcm5hbExvZ2luVXJsOiBnZXRFbnZWYXJpYWJsZSgnQVVUSF9FWFRFUk5BTF9MT0dJTl9VUkwnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9leHRlcm5hbC9sb2dpbicpLFxuICBhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmw6IGdldEVudlZhcmlhYmxlKCdBVVRIX0VYVEVSTkFMX0FVVEhFTlRJQ0FURV9VUkwnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hdXRoZW50aWNhdGUnKSxcbiAgYXV0aENyZWF0ZVVzZXJVcmw6IGdldEVudlZhcmlhYmxlKCdBVVRIX0NSRUFURV9VU0VSX1VSTCcsICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzJyksXG4gIHByb2R1Y3RVcmw6IGdldEVudlZhcmlhYmxlKCdQUk9EVUNUX1VSTCcsICdodHRwOi8vbG9jYWxob3N0OjMwNjAvYXBpL2NhdGVnb3JpZXMnKSxcbiAgaW5pdGlhdGVQYXltZW50VXJsOiBnZXRFbnZWYXJpYWJsZSgnSU5JVElBVEVfUEFZTUVOVF9QUk9WSURFUl9ET01BSU4nLCAnaHR0cDovL2xvY2FsaG9zdDo0NTUwL2FwaS9wYXltZW50L2luaXRpYXRlJyksXG4gIHBheW1lbnRDbGllbnRJZDogJzZiNGZjMzJlLWY4NzMtNGE3OS05MDRiLWFmZGMzN2Q2ZTcwYicsXG4gIGNyeXB0bzoge1xuICAgIHNoYXJlZEVuY3J5cHRpb25LZXk6IGdldEVudlZhcmlhYmxlKCdTSEFSRURfRU5DUllQVElPTl9LRVknLCAnNCYvLyNALmM5Q2IlKnw0NF88a2xbPENJP3V8NVdXNS0+PScpLFxuICAgIHBheW1lbnRFbmNyeXB0aW9uS2V5OiBnZXRFbnZWYXJpYWJsZSgnUEFZTUVOVF9FTkNSWVBUSU9OX0tFWScsICcqKiZ+JF15R2thJW5eX15fYiwmZzdfKWw3Y3NrVXVAX0AtJkA5JyksXG4gICAgYWxnb3JpdGhtOiAnQUVTLTI1Ni1DVFInLFxuICAgIGFsZ29yaXRobUtleVNpemU6IDMyLFxuICAgIGFsZ29yaXRobUl2U2l6ZTogMTYsXG4gICAgYWxnb3JpdGhtRW5jb2RlOiAnYmFzZTY0JyxcbiAgICBhbGdvcml0aG1DaGFyc2V0OiAndXRmOCcsXG4gIH0sXG4gIGF1dGhFeHRlcm5hbExvZ2luQ3JlZGVudGlhbHM6IHtcbiAgICBlbWFpbDogZ2V0RW52VmFyaWFibGUoJ0FVVEhfRVhURVJOQUxfTE9HSU5fVVNFUicsICdhbmRyZXMrZXh0ZXJuYWxAZ21haWwuY29tJyksXG4gICAgcGFzc3dvcmQ6IGdldEVudlZhcmlhYmxlKCdBVVRIX0VYVEVSTkFMX0xPR0lOX1BBU1NXT1JEJywgJ3NlY3JldCcpLFxuICB9LFxuICBtYXhBbGxvd2VkUHJvZHVjdFF1YW50aXR5OiBnZXRFbnZWYXJpYWJsZSgnTUFYX0FMTE9XRURfUFJPRFVDVF9RVUFOVElUWScsIDEwKSxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "getEnvVariable",
        "require",
        "module",
        "exports",
        "schema",
        "authExternalLoginUrl",
        "authExternalAuthenticateUrl",
        "authCreateUserUrl",
        "productUrl",
        "initiatePaymentUrl",
        "paymentClientId",
        "crypto",
        "sharedEncryptionKey",
        "paymentEncryptionKey",
        "algorithm",
        "algorithmKeySize",
        "algorithmIvSize",
        "algorithmEncode",
        "algorithmCharset",
        "authExternalLoginCredentials",
        "email",
        "password",
        "maxAllowedProductQuantity"
      ],
      "mappings": ";;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAqBC,OAAO,CAAC,uBAAD,CAAlC;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,MAAM,EAAEJ,cAAc,CAAC,iBAAD,EAAoB,UAApB,CADP;AAEfK,EAAAA,oBAAoB,EAAEL,cAAc,CAAC,yBAAD,EAA4B,0CAA5B,CAFrB;AAGfM,EAAAA,2BAA2B,EAAEN,cAAc,CAAC,gCAAD,EAAmC,wCAAnC,CAH5B;AAIfO,EAAAA,iBAAiB,EAAEP,cAAc,CAAC,sBAAD,EAAyB,iCAAzB,CAJlB;AAKfQ,EAAAA,UAAU,EAAER,cAAc,CAAC,aAAD,EAAgB,sCAAhB,CALX;AAMfS,EAAAA,kBAAkB,EAAET,cAAc,CAAC,kCAAD,EAAqC,4CAArC,CANnB;AAOfU,EAAAA,eAAe,EAAE,sCAPF;AAQfC,EAAAA,MAAM,EAAE;AACNC,IAAAA,mBAAmB,EAAEZ,cAAc,CAAC,uBAAD,EAA0B,oCAA1B,CAD7B;AAENa,IAAAA,oBAAoB,EAAEb,cAAc,CAAC,wBAAD,EAA2B,uCAA3B,CAF9B;AAGNc,IAAAA,SAAS,EAAE,aAHL;AAINC,IAAAA,gBAAgB,EAAE,EAJZ;AAKNC,IAAAA,eAAe,EAAE,EALX;AAMNC,IAAAA,eAAe,EAAE,QANX;AAONC,IAAAA,gBAAgB,EAAE;AAPZ,GARO;AAiBfC,EAAAA,4BAA4B,EAAE;AAC5BC,IAAAA,KAAK,EAAEpB,cAAc,CAAC,0BAAD,EAA6B,2BAA7B,CADO;AAE5BqB,IAAAA,QAAQ,EAAErB,cAAc,CAAC,8BAAD,EAAiC,QAAjC;AAFI,GAjBf;AAqBfsB,EAAAA,yBAAyB,EAAEtB,cAAc,CAAC,8BAAD,EAAiC,EAAjC;AArB1B,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "sourcesContent": [
        "const { getEnvVariable } = require('./helpers/environment');\n\nmodule.exports = {\n  schema: getEnvVariable('CUSTOMER_SCHEMA', 'customer'),\n  authExternalLoginUrl: getEnvVariable('AUTH_EXTERNAL_LOGIN_URL', 'http://localhost:3000/api/external/login'),\n  authExternalAuthenticateUrl: getEnvVariable('AUTH_EXTERNAL_AUTHENTICATE_URL', 'http://localhost:3000/api/authenticate'),\n  authCreateUserUrl: getEnvVariable('AUTH_CREATE_USER_URL', 'http://localhost:3000/api/users'),\n  productUrl: getEnvVariable('PRODUCT_URL', 'http://localhost:3060/api/categories'),\n  initiatePaymentUrl: getEnvVariable('INITIATE_PAYMENT_PROVIDER_DOMAIN', 'http://localhost:4550/api/payment/initiate'),\n  paymentClientId: '6b4fc32e-f873-4a79-904b-afdc37d6e70b',\n  crypto: {\n    sharedEncryptionKey: getEnvVariable('SHARED_ENCRYPTION_KEY', '4&//#@.c9Cb%*|44_<kl[<CI?u|5WW5->='),\n    paymentEncryptionKey: getEnvVariable('PAYMENT_ENCRYPTION_KEY', '**&~$]yGka%n^_^_b,&g7_)l7cskUu@_@-&@9'),\n    algorithm: 'AES-256-CTR',\n    algorithmKeySize: 32,\n    algorithmIvSize: 16,\n    algorithmEncode: 'base64',\n    algorithmCharset: 'utf8',\n  },\n  authExternalLoginCredentials: {\n    email: getEnvVariable('AUTH_EXTERNAL_LOGIN_USER', 'andres+external@gmail.com'),\n    password: getEnvVariable('AUTH_EXTERNAL_LOGIN_PASSWORD', 'secret'),\n  },\n  maxAllowedProductQuantity: getEnvVariable('MAX_ALLOWED_PRODUCT_QUANTITY', 10),\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558547391371
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/validator.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/validator.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/validator.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/validator.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "validator.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validatePreconditions = void 0;\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'ValidatorHelper'\n});\n\nconst validatePreconditions = (preconditions = [], params, message = 'SERVICE_PRECONDITION_FAILED') => {\n  const missingPrecondition = preconditions.find(precondition => {\n    const param = params[precondition];\n    return param === undefined || param !== null && typeof param === 'Object' && !param.length;\n  });\n  if (!missingPrecondition) return;\n  logger.error({\n    precondition: missingPrecondition\n  }, message);\n  const error = new Error(message);\n  error.status = 412;\n  throw error;\n};\n\nexports.validatePreconditions = validatePreconditions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwidmFsaWRhdGVQcmVjb25kaXRpb25zIiwicHJlY29uZGl0aW9ucyIsInBhcmFtcyIsIm1lc3NhZ2UiLCJtaXNzaW5nUHJlY29uZGl0aW9uIiwiZmluZCIsInByZWNvbmRpdGlvbiIsInBhcmFtIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHQyxnQkFBT0MsWUFBUCxDQUFvQjtBQUFFQyxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFwQixDQUFmOztBQUVPLE1BQU1DLHFCQUFxQixHQUFHLENBQUNDLGFBQWEsR0FBRyxFQUFqQixFQUFxQkMsTUFBckIsRUFBNkJDLE9BQU8sR0FBRyw2QkFBdkMsS0FBeUU7QUFDNUcsUUFBTUMsbUJBQW1CLEdBQUdILGFBQWEsQ0FBQ0ksSUFBZCxDQUFtQkMsWUFBWSxJQUFJO0FBQzlELFVBQU1DLEtBQUssR0FBR0wsTUFBTSxDQUFDSSxZQUFELENBQXBCO0FBQ0EsV0FBT0MsS0FBSyxLQUFLQyxTQUFWLElBQXdCRCxLQUFLLEtBQUssSUFBVixJQUFrQixPQUFPQSxLQUFQLEtBQWtCLFFBQXBDLElBQWdELENBQUNBLEtBQUssQ0FBQ0UsTUFBdEY7QUFDQSxHQUgyQixDQUE1QjtBQUtBLE1BQUksQ0FBQ0wsbUJBQUwsRUFBMEI7QUFFMUJSLEVBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhO0FBQUVKLElBQUFBLFlBQVksRUFBRUY7QUFBaEIsR0FBYixFQUFvREQsT0FBcEQ7QUFDQSxRQUFNTyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFVUixPQUFWLENBQWQ7QUFDQU8sRUFBQUEsS0FBSyxDQUFDRSxNQUFOLEdBQWUsR0FBZjtBQUNBLFFBQU1GLEtBQU47QUFDRCxDQVpNIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnVmFsaWRhdG9ySGVscGVyJ30pO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQcmVjb25kaXRpb25zID0gKHByZWNvbmRpdGlvbnMgPSBbXSwgcGFyYW1zLCBtZXNzYWdlID0gJ1NFUlZJQ0VfUFJFQ09ORElUSU9OX0ZBSUxFRCcpID0+IHtcbiAgY29uc3QgbWlzc2luZ1ByZWNvbmRpdGlvbiA9IHByZWNvbmRpdGlvbnMuZmluZChwcmVjb25kaXRpb24gPT4geyBcbiAgXHRjb25zdCBwYXJhbSA9IHBhcmFtc1twcmVjb25kaXRpb25dO1xuICBcdHJldHVybiBwYXJhbSA9PT0gdW5kZWZpbmVkIHx8IChwYXJhbSAhPT0gbnVsbCAmJiB0eXBlb2YgcGFyYW0gID09PSAnT2JqZWN0JyAmJiAhcGFyYW0ubGVuZ3RoKVxuICB9KTtcblxuICBpZiAoIW1pc3NpbmdQcmVjb25kaXRpb24pIHJldHVybjtcblxuICBsb2dnZXIuZXJyb3IoeyBwcmVjb25kaXRpb246IG1pc3NpbmdQcmVjb25kaXRpb24gfSwgbWVzc2FnZSk7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICBlcnJvci5zdGF0dXMgPSA0MTI7XG4gIHRocm93IGVycm9yO1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "validator.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "validatePreconditions",
        "preconditions",
        "params",
        "message",
        "missingPrecondition",
        "find",
        "precondition",
        "param",
        "undefined",
        "length",
        "error",
        "Error",
        "status"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEO,MAAMC,qBAAqB,GAAG,CAACC,aAAa,GAAG,EAAjB,EAAqBC,MAArB,EAA6BC,OAAO,GAAG,6BAAvC,KAAyE;AAC5G,QAAMC,mBAAmB,GAAGH,aAAa,CAACI,IAAd,CAAmBC,YAAY,IAAI;AAC9D,UAAMC,KAAK,GAAGL,MAAM,CAACI,YAAD,CAApB;AACA,WAAOC,KAAK,KAAKC,SAAV,IAAwBD,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAkB,QAApC,IAAgD,CAACA,KAAK,CAACE,MAAtF;AACA,GAH2B,CAA5B;AAKA,MAAI,CAACL,mBAAL,EAA0B;AAE1BR,EAAAA,MAAM,CAACc,KAAP,CAAa;AAAEJ,IAAAA,YAAY,EAAEF;AAAhB,GAAb,EAAoDD,OAApD;AACA,QAAMO,KAAK,GAAG,IAAIC,KAAJ,CAAUR,OAAV,CAAd;AACAO,EAAAA,KAAK,CAACE,MAAN,GAAe,GAAf;AACA,QAAMF,KAAN;AACD,CAZM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "import bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'ValidatorHelper'});\n\nexport const validatePreconditions = (preconditions = [], params, message = 'SERVICE_PRECONDITION_FAILED') => {\n  const missingPrecondition = preconditions.find(precondition => { \n  \tconst param = params[precondition];\n  \treturn param === undefined || (param !== null && typeof param  === 'Object' && !param.length)\n  });\n\n  if (!missingPrecondition) return;\n\n  logger.error({ precondition: missingPrecondition }, message);\n  const error = new Error(message);\n  error.status = 412;\n  throw error;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/mapper.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/mapper.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/mapper.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/mapper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "mapper.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mapRepoEntity = exports.convertSnakeToCamelCase = exports.mapParams = exports.convertToSnakeCase = void 0;\n\nconst convertToSnakeCase = str => {\n  const upperChars = str.match(/([A-Z])/g);\n  if (!upperChars) return str;\n  let snakeCaseStr = upperChars.reduce((acc, upperChar) => {\n    acc = acc.replace(new RegExp(upperChar), `_${upperChar.toLowerCase()}`);\n    return acc;\n  }, str);\n\n  if (snakeCaseStr.slice(0, 1) === '_') {\n    snakeCaseStr = snakeCaseStr.slice(1);\n  }\n\n  return snakeCaseStr;\n};\n\nexports.convertToSnakeCase = convertToSnakeCase;\n\nconst mapParams = paramsObj => Object.keys(paramsObj).reduce((acc, key) => {\n  const snakeCaseKey = convertToSnakeCase(key);\n  acc[snakeCaseKey] = paramsObj[key];\n  return acc;\n}, {});\n\nexports.mapParams = mapParams;\n\nconst convertSnakeToCamelCase = str => str.replace(/(\\_\\w)/g, m => m[1].toUpperCase());\n\nexports.convertSnakeToCamelCase = convertSnakeToCamelCase;\n\nconst isObject = value => value !== null && value !== undefined && !(value instanceof Date) && !Array.isArray(value) && typeof value === 'object';\n\nconst mapRepoEntity = entity => Object.keys(entity).reduce((acc, key) => {\n  const camelCaseKey = convertSnakeToCamelCase(key);\n  const value = entity[key];\n\n  if (Array.isArray(value)) {\n    const mappedArray = value.map(item => isObject(item) ? mapRepoEntity(item) : item);\n    acc[camelCaseKey] = mappedArray;\n  }\n\n  if (isObject(value)) {\n    acc[camelCaseKey] = mapRepoEntity(value);\n  } else if (!isObject(value) && !Array.isArray(value)) {\n    acc[camelCaseKey] = value;\n  }\n\n  return acc;\n}, {});\n\nexports.mapRepoEntity = mapRepoEntity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcHBlci5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0VG9TbmFrZUNhc2UiLCJzdHIiLCJ1cHBlckNoYXJzIiwibWF0Y2giLCJzbmFrZUNhc2VTdHIiLCJyZWR1Y2UiLCJhY2MiLCJ1cHBlckNoYXIiLCJyZXBsYWNlIiwiUmVnRXhwIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsIm1hcFBhcmFtcyIsInBhcmFtc09iaiIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJzbmFrZUNhc2VLZXkiLCJjb252ZXJ0U25ha2VUb0NhbWVsQ2FzZSIsIm0iLCJ0b1VwcGVyQ2FzZSIsImlzT2JqZWN0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJEYXRlIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwUmVwb0VudGl0eSIsImVudGl0eSIsImNhbWVsQ2FzZUtleSIsIm1hcHBlZEFycmF5IiwibWFwIiwiaXRlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGtCQUFrQixHQUFHQyxHQUFHLElBQUk7QUFDdkMsUUFBTUMsVUFBVSxHQUFHRCxHQUFHLENBQUNFLEtBQUosQ0FBVSxVQUFWLENBQW5CO0FBQ0EsTUFBSSxDQUFDRCxVQUFMLEVBQWlCLE9BQU9ELEdBQVA7QUFFakIsTUFBSUcsWUFBWSxHQUFHRixVQUFVLENBQUNHLE1BQVgsQ0FBa0IsQ0FBQ0MsR0FBRCxFQUFNQyxTQUFOLEtBQW9CO0FBQ3ZERCxJQUFBQSxHQUFHLEdBQUdBLEdBQUcsQ0FBQ0UsT0FBSixDQUFZLElBQUlDLE1BQUosQ0FBV0YsU0FBWCxDQUFaLEVBQW9DLElBQUdBLFNBQVMsQ0FBQ0csV0FBVixFQUF3QixFQUEvRCxDQUFOO0FBQ0MsV0FBT0osR0FBUDtBQUNGLEdBSGtCLEVBR2hCTCxHQUhnQixDQUFuQjs7QUFLQSxNQUFJRyxZQUFZLENBQUNPLEtBQWIsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsTUFBNkIsR0FBakMsRUFBc0M7QUFDcENQLElBQUFBLFlBQVksR0FBR0EsWUFBWSxDQUFDTyxLQUFiLENBQW1CLENBQW5CLENBQWY7QUFDRDs7QUFDRCxTQUFPUCxZQUFQO0FBQ0QsQ0FiTTs7OztBQWVBLE1BQU1RLFNBQVMsR0FBR0MsU0FBUyxJQUNoQ0MsTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJSLE1BQXZCLENBQThCLENBQUNDLEdBQUQsRUFBTVUsR0FBTixLQUFjO0FBQzFDLFFBQU1DLFlBQVksR0FBR2pCLGtCQUFrQixDQUFDZ0IsR0FBRCxDQUF2QztBQUNEVixFQUFBQSxHQUFHLENBQUNXLFlBQUQsQ0FBSCxHQUFvQkosU0FBUyxDQUFDRyxHQUFELENBQTdCO0FBQ0EsU0FBT1YsR0FBUDtBQUNBLENBSkQsRUFJRyxFQUpILENBREs7Ozs7QUFPQSxNQUFNWSx1QkFBdUIsR0FBR2pCLEdBQUcsSUFBSUEsR0FBRyxDQUFDTyxPQUFKLENBQVksU0FBWixFQUF1QlcsQ0FBQyxJQUFJQSxDQUFDLENBQUMsQ0FBRCxDQUFELENBQUtDLFdBQUwsRUFBNUIsQ0FBdkM7Ozs7QUFFUCxNQUFNQyxRQUFRLEdBQUdDLEtBQUssSUFBSUEsS0FBSyxLQUFLLElBQVYsSUFBa0JBLEtBQUssS0FBS0MsU0FBNUIsSUFBeUMsRUFBRUQsS0FBSyxZQUFZRSxJQUFuQixDQUF6QyxJQUFxRSxDQUFDQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0osS0FBZCxDQUF0RSxJQUE4RixPQUFPQSxLQUFQLEtBQWlCLFFBQXpJOztBQUVPLE1BQU1LLGFBQWEsR0FBR0MsTUFBTSxJQUNqQ2QsTUFBTSxDQUFDQyxJQUFQLENBQVlhLE1BQVosRUFBb0J2QixNQUFwQixDQUEyQixDQUFDQyxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUN2QyxRQUFNYSxZQUFZLEdBQUdYLHVCQUF1QixDQUFDRixHQUFELENBQTVDO0FBQ0EsUUFBTU0sS0FBSyxHQUFHTSxNQUFNLENBQUNaLEdBQUQsQ0FBcEI7O0FBQ0EsTUFBSVMsS0FBSyxDQUFDQyxPQUFOLENBQWNKLEtBQWQsQ0FBSixFQUEwQjtBQUN4QixVQUFNUSxXQUFXLEdBQUdSLEtBQUssQ0FBQ1MsR0FBTixDQUFVQyxJQUFJLElBQUtYLFFBQVEsQ0FBQ1csSUFBRCxDQUFSLEdBQWlCTCxhQUFhLENBQUNLLElBQUQsQ0FBOUIsR0FBdUNBLElBQTFELENBQXBCO0FBQ0ExQixJQUFBQSxHQUFHLENBQUN1QixZQUFELENBQUgsR0FBb0JDLFdBQXBCO0FBQ0Q7O0FBQUMsTUFBSVQsUUFBUSxDQUFDQyxLQUFELENBQVosRUFBcUI7QUFDckJoQixJQUFBQSxHQUFHLENBQUN1QixZQUFELENBQUgsR0FBb0JGLGFBQWEsQ0FBQ0wsS0FBRCxDQUFqQztBQUNELEdBRkMsTUFFSyxJQUFHLENBQUNELFFBQVEsQ0FBQ0MsS0FBRCxDQUFULElBQW9CLENBQUNHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSixLQUFkLENBQXhCLEVBQThDO0FBQ25EaEIsSUFBQUEsR0FBRyxDQUFDdUIsWUFBRCxDQUFILEdBQW9CUCxLQUFwQjtBQUNEOztBQUNGLFNBQU9oQixHQUFQO0FBQ0EsQ0FaRCxFQVlHLEVBWkgsQ0FESyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29udmVydFRvU25ha2VDYXNlID0gc3RyID0+IHtcbiAgY29uc3QgdXBwZXJDaGFycyA9IHN0ci5tYXRjaCgvKFtBLVpdKS9nKTtcbiAgaWYgKCF1cHBlckNoYXJzKSByZXR1cm4gc3RyO1xuICAgIFxuICBsZXQgc25ha2VDYXNlU3RyID0gdXBwZXJDaGFycy5yZWR1Y2UoKGFjYywgdXBwZXJDaGFyKSA9PiB7XG4gIFx0IGFjYyA9IGFjYy5yZXBsYWNlKG5ldyBSZWdFeHAodXBwZXJDaGFyKSwgYF8ke3VwcGVyQ2hhci50b0xvd2VyQ2FzZSgpfWApO1xuICAgICByZXR1cm4gYWNjO1xuICB9LCBzdHIpO1xuXG4gIGlmIChzbmFrZUNhc2VTdHIuc2xpY2UoMCwgMSkgPT09ICdfJykge1xuICAgIHNuYWtlQ2FzZVN0ciA9IHNuYWtlQ2FzZVN0ci5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gc25ha2VDYXNlU3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcFBhcmFtcyA9IHBhcmFtc09iaiA9PlxuICBPYmplY3Qua2V5cyhwYXJhbXNPYmopLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICBjb25zdCBzbmFrZUNhc2VLZXkgPSBjb252ZXJ0VG9TbmFrZUNhc2Uoa2V5KTtcbiAgXHRhY2Nbc25ha2VDYXNlS2V5XSA9IHBhcmFtc09ialtrZXldO1xuICBcdHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnRTbmFrZVRvQ2FtZWxDYXNlID0gc3RyID0+IHN0ci5yZXBsYWNlKC8oXFxfXFx3KS9nLCBtID0+IG1bMV0udG9VcHBlckNhc2UoKSk7XG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsdWUgPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG5cbmV4cG9ydCBjb25zdCBtYXBSZXBvRW50aXR5ID0gZW50aXR5ID0+XG4gIE9iamVjdC5rZXlzKGVudGl0eSkucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IGNhbWVsQ2FzZUtleSA9IGNvbnZlcnRTbmFrZVRvQ2FtZWxDYXNlKGtleSk7XG4gICAgY29uc3QgdmFsdWUgPSBlbnRpdHlba2V5XTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IG1hcHBlZEFycmF5ID0gdmFsdWUubWFwKGl0ZW0gPT4gKGlzT2JqZWN0KGl0ZW0pID8gbWFwUmVwb0VudGl0eShpdGVtKSA6IGl0ZW0gKSk7XG4gICAgICBhY2NbY2FtZWxDYXNlS2V5XSA9IG1hcHBlZEFycmF5O1xuICAgIH0gaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgYWNjW2NhbWVsQ2FzZUtleV0gPSBtYXBSZXBvRW50aXR5KHZhbHVlKTtcbiAgICB9IGVsc2UgaWYoIWlzT2JqZWN0KHZhbHVlKSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGFjY1tjYW1lbENhc2VLZXldID0gdmFsdWU7XG4gICAgfVxuICBcdHJldHVybiBhY2M7XG4gIH0sIHt9KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "mapper.js"
      ],
      "names": [
        "convertToSnakeCase",
        "str",
        "upperChars",
        "match",
        "snakeCaseStr",
        "reduce",
        "acc",
        "upperChar",
        "replace",
        "RegExp",
        "toLowerCase",
        "slice",
        "mapParams",
        "paramsObj",
        "Object",
        "keys",
        "key",
        "snakeCaseKey",
        "convertSnakeToCamelCase",
        "m",
        "toUpperCase",
        "isObject",
        "value",
        "undefined",
        "Date",
        "Array",
        "isArray",
        "mapRepoEntity",
        "entity",
        "camelCaseKey",
        "mappedArray",
        "map",
        "item"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,kBAAkB,GAAGC,GAAG,IAAI;AACvC,QAAMC,UAAU,GAAGD,GAAG,CAACE,KAAJ,CAAU,UAAV,CAAnB;AACA,MAAI,CAACD,UAAL,EAAiB,OAAOD,GAAP;AAEjB,MAAIG,YAAY,GAAGF,UAAU,CAACG,MAAX,CAAkB,CAACC,GAAD,EAAMC,SAAN,KAAoB;AACvDD,IAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,IAAIC,MAAJ,CAAWF,SAAX,CAAZ,EAAoC,IAAGA,SAAS,CAACG,WAAV,EAAwB,EAA/D,CAAN;AACC,WAAOJ,GAAP;AACF,GAHkB,EAGhBL,GAHgB,CAAnB;;AAKA,MAAIG,YAAY,CAACO,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,MAA6B,GAAjC,EAAsC;AACpCP,IAAAA,YAAY,GAAGA,YAAY,CAACO,KAAb,CAAmB,CAAnB,CAAf;AACD;;AACD,SAAOP,YAAP;AACD,CAbM;;;;AAeA,MAAMQ,SAAS,GAAGC,SAAS,IAChCC,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBR,MAAvB,CAA8B,CAACC,GAAD,EAAMU,GAAN,KAAc;AAC1C,QAAMC,YAAY,GAAGjB,kBAAkB,CAACgB,GAAD,CAAvC;AACDV,EAAAA,GAAG,CAACW,YAAD,CAAH,GAAoBJ,SAAS,CAACG,GAAD,CAA7B;AACA,SAAOV,GAAP;AACA,CAJD,EAIG,EAJH,CADK;;;;AAOA,MAAMY,uBAAuB,GAAGjB,GAAG,IAAIA,GAAG,CAACO,OAAJ,CAAY,SAAZ,EAAuBW,CAAC,IAAIA,CAAC,CAAC,CAAD,CAAD,CAAKC,WAAL,EAA5B,CAAvC;;;;AAEP,MAAMC,QAAQ,GAAGC,KAAK,IAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAA5B,IAAyC,EAAED,KAAK,YAAYE,IAAnB,CAAzC,IAAqE,CAACC,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAtE,IAA8F,OAAOA,KAAP,KAAiB,QAAzI;;AAEO,MAAMK,aAAa,GAAGC,MAAM,IACjCd,MAAM,CAACC,IAAP,CAAYa,MAAZ,EAAoBvB,MAApB,CAA2B,CAACC,GAAD,EAAMU,GAAN,KAAc;AACvC,QAAMa,YAAY,GAAGX,uBAAuB,CAACF,GAAD,CAA5C;AACA,QAAMM,KAAK,GAAGM,MAAM,CAACZ,GAAD,CAApB;;AACA,MAAIS,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B;AACxB,UAAMQ,WAAW,GAAGR,KAAK,CAACS,GAAN,CAAUC,IAAI,IAAKX,QAAQ,CAACW,IAAD,CAAR,GAAiBL,aAAa,CAACK,IAAD,CAA9B,GAAuCA,IAA1D,CAApB;AACA1B,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBC,WAApB;AACD;;AAAC,MAAIT,QAAQ,CAACC,KAAD,CAAZ,EAAqB;AACrBhB,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBF,aAAa,CAACL,KAAD,CAAjC;AACD,GAFC,MAEK,IAAG,CAACD,QAAQ,CAACC,KAAD,CAAT,IAAoB,CAACG,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAxB,EAA8C;AACnDhB,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBP,KAApB;AACD;;AACF,SAAOhB,GAAP;AACA,CAZD,EAYG,EAZH,CADK",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "export const convertToSnakeCase = str => {\n  const upperChars = str.match(/([A-Z])/g);\n  if (!upperChars) return str;\n    \n  let snakeCaseStr = upperChars.reduce((acc, upperChar) => {\n  \t acc = acc.replace(new RegExp(upperChar), `_${upperChar.toLowerCase()}`);\n     return acc;\n  }, str);\n\n  if (snakeCaseStr.slice(0, 1) === '_') {\n    snakeCaseStr = snakeCaseStr.slice(1);\n  }\n  return snakeCaseStr;\n};\n\nexport const mapParams = paramsObj =>\n  Object.keys(paramsObj).reduce((acc, key) => {\n    const snakeCaseKey = convertToSnakeCase(key);\n  \tacc[snakeCaseKey] = paramsObj[key];\n  \treturn acc;\n  }, {});\n\nexport const convertSnakeToCamelCase = str => str.replace(/(\\_\\w)/g, m => m[1].toUpperCase());\n\nconst isObject = value => value !== null && value !== undefined && !(value instanceof Date) && !Array.isArray(value) && typeof value === 'object';\n\nexport const mapRepoEntity = entity =>\n  Object.keys(entity).reduce((acc, key) => {\n    const camelCaseKey = convertSnakeToCamelCase(key);\n    const value = entity[key];\n    if (Array.isArray(value)) {\n      const mappedArray = value.map(item => (isObject(item) ? mapRepoEntity(item) : item ));\n      acc[camelCaseKey] = mappedArray;\n    } if (isObject(value)) {\n      acc[camelCaseKey] = mapRepoEntity(value);\n    } else if(!isObject(value) && !Array.isArray(value)) {\n      acc[camelCaseKey] = value;\n    }\n  \treturn acc;\n  }, {});"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687667391
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/services/external-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/services/external-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/services/external-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/services/external-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
        "sourceFileName": "external-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initiatePayment = exports.getProduct = exports.createUser = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _config = require(\"../config\");\n\nvar _superagent = _interopRequireDefault(require(\"superagent\"));\n\nvar _cryptoService = require(\"./crypto-service\");\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nconst getTemporalToken = async () => {\n  const {\n    email,\n    password\n  } = _config.authExternalLoginCredentials;\n  const encryptedCredentials = (0, _cryptoService.encrypt)({\n    email,\n    password\n  });\n  const {\n    body\n  } = await _superagent.default.post(_config.authExternalLoginUrl).type('form').accept('application/json').send({\n    body: encryptedCredentials\n  });\n  return body.token;\n};\n\nconst createUser = async customer => {\n  const token = await getTemporalToken();\n\n  try {\n    const result = await _superagent.default.post(_config.authCreateUserUrl).type('form').set('Authorization', `Bearer ${token}`).accept('application/json').send((0, _objectSpread2.default)({}, customer, {\n      isCustomer: true\n    }));\n    console.log('resultHola', result);\n    console.log('bodyHola', result.body);\n    return result.body.id;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.createUser = createUser;\n\nconst getProduct = async (req, productId) => {\n  const result = await _superagent.default.get(`${_config.productUrl}/${productId}`).set('Authorization', `Bearer ${req.token}`).set('Accept', 'application/json').set('Content-Type', 'application/json');\n  return result.body;\n};\n\nexports.getProduct = getProduct;\n\nconst initiatePayment = async ({\n  invoice,\n  customerId,\n  amount\n}) => {\n  try {\n    const content = (0, _cryptoService.encrypt)({\n      invoice: (0, _v.default)(),\n      customerId,\n      amount\n    }, _config.crypto.paymentEncryptionKey);\n    const result = await _superagent.default.post(_config.initiatePaymentUrl).type('form').accept('application/json').send({\n      content,\n      clientId: _config.paymentClientId\n    });\n    const {\n      formUrl\n    } = (0, _cryptoService.decrypt)(JSON.parse(result.body).content, _config.crypto.paymentEncryptionKey);\n    return formUrl;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.initiatePayment = initiatePayment;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVybmFsLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2V0VGVtcG9yYWxUb2tlbiIsImVtYWlsIiwicGFzc3dvcmQiLCJhdXRoRXh0ZXJuYWxMb2dpbkNyZWRlbnRpYWxzIiwiZW5jcnlwdGVkQ3JlZGVudGlhbHMiLCJib2R5IiwicmVxdWVzdCIsInBvc3QiLCJhdXRoRXh0ZXJuYWxMb2dpblVybCIsInR5cGUiLCJhY2NlcHQiLCJzZW5kIiwidG9rZW4iLCJjcmVhdGVVc2VyIiwiY3VzdG9tZXIiLCJyZXN1bHQiLCJhdXRoQ3JlYXRlVXNlclVybCIsInNldCIsImlzQ3VzdG9tZXIiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJlcnJvciIsImdldFByb2R1Y3QiLCJyZXEiLCJwcm9kdWN0SWQiLCJnZXQiLCJwcm9kdWN0VXJsIiwiaW5pdGlhdGVQYXltZW50IiwiaW52b2ljZSIsImN1c3RvbWVySWQiLCJhbW91bnQiLCJjb250ZW50IiwiY3J5cHRvIiwicGF5bWVudEVuY3J5cHRpb25LZXkiLCJpbml0aWF0ZVBheW1lbnRVcmwiLCJjbGllbnRJZCIsInBheW1lbnRDbGllbnRJZCIsImZvcm1VcmwiLCJKU09OIiwicGFyc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcsWUFBVztBQUNsQyxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFzQkMsb0NBQTVCO0FBQ0EsUUFBTUMsb0JBQW9CLEdBQUcsNEJBQVE7QUFBRUgsSUFBQUEsS0FBRjtBQUFTQyxJQUFBQTtBQUFULEdBQVIsQ0FBN0I7QUFDQSxRQUFNO0FBQUVHLElBQUFBO0FBQUYsTUFBVyxNQUFNQyxvQkFDcEJDLElBRG9CLENBQ2ZDLDRCQURlLEVBRXBCQyxJQUZvQixDQUVmLE1BRmUsRUFHcEJDLE1BSG9CLENBR2Isa0JBSGEsRUFJcEJDLElBSm9CLENBSWY7QUFBRU4sSUFBQUEsSUFBSSxFQUFFRDtBQUFSLEdBSmUsQ0FBdkI7QUFNQSxTQUFPQyxJQUFJLENBQUNPLEtBQVo7QUFDRCxDQVZEOztBQVlPLE1BQU1DLFVBQVUsR0FBRyxNQUFNQyxRQUFOLElBQWtCO0FBRTFDLFFBQU1GLEtBQUssR0FBRyxNQUFNWixnQkFBZ0IsRUFBcEM7O0FBRUEsTUFBSTtBQUNGLFVBQU1lLE1BQU0sR0FBRyxNQUFNVCxvQkFDbEJDLElBRGtCLENBQ2JTLHlCQURhLEVBRWxCUCxJQUZrQixDQUViLE1BRmEsRUFHbEJRLEdBSGtCLENBR2QsZUFIYyxFQUdJLFVBQVNMLEtBQU0sRUFIbkIsRUFJbEJGLE1BSmtCLENBSVgsa0JBSlcsRUFLbEJDLElBTGtCLGlDQUtSRyxRQUxRO0FBS0VJLE1BQUFBLFVBQVUsRUFBRTtBQUxkLE9BQXJCO0FBTUVDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVosRUFBMEJMLE1BQTFCO0FBQ0FJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVosRUFBd0JMLE1BQU0sQ0FBQ1YsSUFBL0I7QUFDQSxXQUFPVSxNQUFNLENBQUNWLElBQVAsQ0FBWWdCLEVBQW5CO0FBQ0YsR0FWRixDQVVHLE9BQU1DLEtBQU4sRUFBYTtBQUNiLFVBQU1BLEtBQU47QUFDRDtBQUNILENBakJNOzs7O0FBbUJBLE1BQU1DLFVBQVUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLFNBQVosS0FBMEI7QUFDbEQsUUFBTVYsTUFBTSxHQUFHLE1BQU1ULG9CQUNsQm9CLEdBRGtCLENBQ2IsR0FBRUMsa0JBQVcsSUFBR0YsU0FBVSxFQURiLEVBRWxCUixHQUZrQixDQUVkLGVBRmMsRUFFSSxVQUFTTyxHQUFHLENBQUNaLEtBQU0sRUFGdkIsRUFHbEJLLEdBSGtCLENBR2QsUUFIYyxFQUdKLGtCQUhJLEVBSWxCQSxHQUprQixDQUlkLGNBSmMsRUFJRSxrQkFKRixDQUFyQjtBQUtBLFNBQU9GLE1BQU0sQ0FBQ1YsSUFBZDtBQUNELENBUE07Ozs7QUFTQSxNQUFNdUIsZUFBZSxHQUFHLE9BQU87QUFBR0MsRUFBQUEsT0FBSDtBQUFZQyxFQUFBQSxVQUFaO0FBQXdCQyxFQUFBQTtBQUF4QixDQUFQLEtBQTRDO0FBQ3pFLE1BQUk7QUFDRixVQUFNQyxPQUFPLEdBQUcsNEJBQVE7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQW9CQyxNQUFBQSxVQUFwQjtBQUFnQ0MsTUFBQUE7QUFBaEMsS0FBUixFQUFrREUsZUFBT0Msb0JBQXpELENBQWhCO0FBQ0EsVUFBTW5CLE1BQU0sR0FBRyxNQUFNVCxvQkFDbEJDLElBRGtCLENBQ2I0QiwwQkFEYSxFQUVsQjFCLElBRmtCLENBRWIsTUFGYSxFQUdsQkMsTUFIa0IsQ0FHWCxrQkFIVyxFQUlsQkMsSUFKa0IsQ0FJYjtBQUFFcUIsTUFBQUEsT0FBRjtBQUFXSSxNQUFBQSxRQUFRLEVBQUVDO0FBQXJCLEtBSmEsQ0FBckI7QUFNRSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBYyw0QkFBUUMsSUFBSSxDQUFDQyxLQUFMLENBQVd6QixNQUFNLENBQUNWLElBQWxCLEVBQXdCMkIsT0FBaEMsRUFBeUNDLGVBQU9DLG9CQUFoRCxDQUFwQjtBQUNBLFdBQU9JLE9BQVA7QUFDRixHQVZGLENBVUcsT0FBTWhCLEtBQU4sRUFBYTtBQUNiLFVBQU1BLEtBQU47QUFDRDtBQUNILENBZE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1dGhFeHRlcm5hbExvZ2luVXJsLCBhdXRoQ3JlYXRlVXNlclVybCwgYXV0aEV4dGVybmFsTG9naW5DcmVkZW50aWFscywgcHJvZHVjdFVybCwgaW5pdGlhdGVQYXltZW50VXJsLCBjcnlwdG8sIHBheW1lbnRDbGllbnRJZCB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcmFnZW50JztcbmltcG9ydCB7IGVuY3J5cHQsIGRlY3J5cHQgfSBmcm9tICcuL2NyeXB0by1zZXJ2aWNlJztcbmltcG9ydCBuZXdJZCBmcm9tICd1dWlkL3Y0JztcblxuY29uc3QgZ2V0VGVtcG9yYWxUb2tlbiA9IGFzeW5jKCkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gYXV0aEV4dGVybmFsTG9naW5DcmVkZW50aWFscztcbiAgY29uc3QgZW5jcnlwdGVkQ3JlZGVudGlhbHMgPSBlbmNyeXB0KHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHJlcXVlc3RcbiAgICAucG9zdChhdXRoRXh0ZXJuYWxMb2dpblVybClcbiAgICAudHlwZSgnZm9ybScpXG4gICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gICAgLnNlbmQoeyBib2R5OiBlbmNyeXB0ZWRDcmVkZW50aWFscyB9KTtcblxuICByZXR1cm4gYm9keS50b2tlbjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgY3VzdG9tZXIgPT4ge1xuXG4gIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VGVtcG9yYWxUb2tlbigpO1xuXG4gIHRyeSB7ICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0XG4gICAgICAucG9zdChhdXRoQ3JlYXRlVXNlclVybClcbiAgICAgIC50eXBlKCdmb3JtJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgLnNlbmQoeyAuLi5jdXN0b21lciwgaXNDdXN0b21lcjogdHJ1ZSB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHRIb2xhJywgcmVzdWx0KTtcbiAgICAgIGNvbnNvbGUubG9nKCdib2R5SG9sYScsIHJlc3VsdC5ib2R5KTtcbiAgICAgIHJldHVybiByZXN1bHQuYm9keS5pZDtcbiAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgdGhyb3cgZXJyb3I7XG4gICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdCA9IGFzeW5jIChyZXEsIHByb2R1Y3RJZCkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0XG4gICAgLmdldChgJHtwcm9kdWN0VXJsfS8ke3Byb2R1Y3RJZH1gKVxuICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7cmVxLnRva2VufWApXG4gICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJldHVybiByZXN1bHQuYm9keTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVBheW1lbnQgPSBhc3luYyAoeyAgaW52b2ljZSwgY3VzdG9tZXJJZCwgYW1vdW50IH0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb250ZW50ID0gZW5jcnlwdCh7IGludm9pY2U6IG5ld0lkKCksIGN1c3RvbWVySWQsIGFtb3VudCB9LCBjcnlwdG8ucGF5bWVudEVuY3J5cHRpb25LZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RcbiAgICAgIC5wb3N0KGluaXRpYXRlUGF5bWVudFVybClcbiAgICAgIC50eXBlKCdmb3JtJylcbiAgICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgLnNlbmQoeyBjb250ZW50LCBjbGllbnRJZDogcGF5bWVudENsaWVudElkIH0pO1xuICAgIFxuICAgICAgY29uc3QgeyBmb3JtVXJsIH0gPSBkZWNyeXB0KEpTT04ucGFyc2UocmVzdWx0LmJvZHkpLmNvbnRlbnQsIGNyeXB0by5wYXltZW50RW5jcnlwdGlvbktleSk7XG4gICAgICByZXR1cm4gZm9ybVVybDtcbiAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgdGhyb3cgZXJyb3I7XG4gICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "external-service.js"
      ],
      "names": [
        "getTemporalToken",
        "email",
        "password",
        "authExternalLoginCredentials",
        "encryptedCredentials",
        "body",
        "request",
        "post",
        "authExternalLoginUrl",
        "type",
        "accept",
        "send",
        "token",
        "createUser",
        "customer",
        "result",
        "authCreateUserUrl",
        "set",
        "isCustomer",
        "console",
        "log",
        "id",
        "error",
        "getProduct",
        "req",
        "productId",
        "get",
        "productUrl",
        "initiatePayment",
        "invoice",
        "customerId",
        "amount",
        "content",
        "crypto",
        "paymentEncryptionKey",
        "initiatePaymentUrl",
        "clientId",
        "paymentClientId",
        "formUrl",
        "JSON",
        "parse"
      ],
      "mappings": ";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,gBAAgB,GAAG,YAAW;AAClC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBC,oCAA5B;AACA,QAAMC,oBAAoB,GAAG,4BAAQ;AAAEH,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAR,CAA7B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAW,MAAMC,oBACpBC,IADoB,CACfC,4BADe,EAEpBC,IAFoB,CAEf,MAFe,EAGpBC,MAHoB,CAGb,kBAHa,EAIpBC,IAJoB,CAIf;AAAEN,IAAAA,IAAI,EAAED;AAAR,GAJe,CAAvB;AAMA,SAAOC,IAAI,CAACO,KAAZ;AACD,CAVD;;AAYO,MAAMC,UAAU,GAAG,MAAMC,QAAN,IAAkB;AAE1C,QAAMF,KAAK,GAAG,MAAMZ,gBAAgB,EAApC;;AAEA,MAAI;AACF,UAAMe,MAAM,GAAG,MAAMT,oBAClBC,IADkB,CACbS,yBADa,EAElBP,IAFkB,CAEb,MAFa,EAGlBQ,GAHkB,CAGd,eAHc,EAGI,UAASL,KAAM,EAHnB,EAIlBF,MAJkB,CAIX,kBAJW,EAKlBC,IALkB,iCAKRG,QALQ;AAKEI,MAAAA,UAAU,EAAE;AALd,OAArB;AAMEC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BL,MAA1B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBL,MAAM,CAACV,IAA/B;AACA,WAAOU,MAAM,CAACV,IAAP,CAAYgB,EAAnB;AACF,GAVF,CAUG,OAAMC,KAAN,EAAa;AACb,UAAMA,KAAN;AACD;AACH,CAjBM;;;;AAmBA,MAAMC,UAAU,GAAG,OAAOC,GAAP,EAAYC,SAAZ,KAA0B;AAClD,QAAMV,MAAM,GAAG,MAAMT,oBAClBoB,GADkB,CACb,GAAEC,kBAAW,IAAGF,SAAU,EADb,EAElBR,GAFkB,CAEd,eAFc,EAEI,UAASO,GAAG,CAACZ,KAAM,EAFvB,EAGlBK,GAHkB,CAGd,QAHc,EAGJ,kBAHI,EAIlBA,GAJkB,CAId,cAJc,EAIE,kBAJF,CAArB;AAKA,SAAOF,MAAM,CAACV,IAAd;AACD,CAPM;;;;AASA,MAAMuB,eAAe,GAAG,OAAO;AAAGC,EAAAA,OAAH;AAAYC,EAAAA,UAAZ;AAAwBC,EAAAA;AAAxB,CAAP,KAA4C;AACzE,MAAI;AACF,UAAMC,OAAO,GAAG,4BAAQ;AAAEH,MAAAA,OAAO,EAAE,iBAAX;AAAoBC,MAAAA,UAApB;AAAgCC,MAAAA;AAAhC,KAAR,EAAkDE,eAAOC,oBAAzD,CAAhB;AACA,UAAMnB,MAAM,GAAG,MAAMT,oBAClBC,IADkB,CACb4B,0BADa,EAElB1B,IAFkB,CAEb,MAFa,EAGlBC,MAHkB,CAGX,kBAHW,EAIlBC,IAJkB,CAIb;AAAEqB,MAAAA,OAAF;AAAWI,MAAAA,QAAQ,EAAEC;AAArB,KAJa,CAArB;AAME,UAAM;AAAEC,MAAAA;AAAF,QAAc,4BAAQC,IAAI,CAACC,KAAL,CAAWzB,MAAM,CAACV,IAAlB,EAAwB2B,OAAhC,EAAyCC,eAAOC,oBAAhD,CAApB;AACA,WAAOI,OAAP;AACF,GAVF,CAUG,OAAMhB,KAAN,EAAa;AACb,UAAMA,KAAN;AACD;AACH,CAdM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "sourcesContent": [
        "import { authExternalLoginUrl, authCreateUserUrl, authExternalLoginCredentials, productUrl, initiatePaymentUrl, crypto, paymentClientId } from '../config';\nimport request from 'superagent';\nimport { encrypt, decrypt } from './crypto-service';\nimport newId from 'uuid/v4';\n\nconst getTemporalToken = async() => {\n  const { email, password } = authExternalLoginCredentials;\n  const encryptedCredentials = encrypt({ email, password });\n  const { body } = await request\n    .post(authExternalLoginUrl)\n    .type('form')\n    .accept('application/json')\n    .send({ body: encryptedCredentials });\n\n  return body.token;\n};\n\nexport const createUser = async customer => {\n\n  const token = await getTemporalToken();\n\n  try {  \n    const result = await request\n      .post(authCreateUserUrl)\n      .type('form')\n      .set('Authorization', `Bearer ${token}`)\n      .accept('application/json')\n      .send({ ...customer, isCustomer: true });\n      console.log('resultHola', result);\n      console.log('bodyHola', result.body);\n      return result.body.id;\n   } catch(error) {\n     throw error;\n   }\n};\n\nexport const getProduct = async (req, productId) => {\n  const result = await request\n    .get(`${productUrl}/${productId}`)\n    .set('Authorization', `Bearer ${req.token}`)\n    .set('Accept', 'application/json')\n    .set('Content-Type', 'application/json');\n  return result.body;\n};\n\nexport const initiatePayment = async ({  invoice, customerId, amount }) => {\n  try {\n    const content = encrypt({ invoice: newId(), customerId, amount }, crypto.paymentEncryptionKey);\n    const result = await request\n      .post(initiatePaymentUrl)\n      .type('form')\n      .accept('application/json')\n      .send({ content, clientId: paymentClientId });\n    \n      const { formUrl } = decrypt(JSON.parse(result.body).content, crypto.paymentEncryptionKey);\n      return formUrl;\n   } catch(error) {\n     throw error;\n   }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219406
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/services/crypto-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/services/crypto-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/services/crypto-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/services/crypto-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
        "sourceFileName": "crypto-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decrypt = exports.encrypt = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _config = require(\"../config\");\n\nconst encrypt = (data, customEncryptionKey, isText = false) => {\n  const {\n    algorithmIvSize,\n    algorithm,\n    sharedEncryptionKey,\n    algorithmEncode,\n    algorithmCharset,\n    algorithmKeySize\n  } = _config.crypto;\n\n  const initializationVector = _crypto.default.randomBytes(algorithmIvSize).toString(algorithmEncode).slice(0, algorithmIvSize);\n\n  const cipher = _crypto.default.createCipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n\n  let encryptedJSON = cipher.update(isText ? data : JSON.stringify(data), algorithmCharset, algorithmEncode);\n  encryptedJSON += cipher.final(algorithmEncode);\n  return `${initializationVector}:${encryptedJSON}`;\n};\n\nexports.encrypt = encrypt;\n\nconst decrypt = (encryptedJSON, customEncryptionKey = null, isText = false) => {\n  const {\n    algorithm,\n    sharedEncryptionKey,\n    algorithmEncode,\n    algorithmCharset,\n    algorithmKeySize\n  } = _config.crypto;\n  const encryptedParts = encryptedJSON.split(':');\n  const initializationVector = encryptedParts[0];\n  const encryptedText = encryptedParts[1];\n  console.log('customEncryptionKey', customEncryptionKey);\n\n  const decipher = _crypto.default.createDecipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n\n  let decryptedText = decipher.update(encryptedText, algorithmEncode, algorithmCharset);\n  decryptedText += decipher.final(algorithmCharset);\n  return isText ? decryptedText : JSON.parse(decryptedText);\n};\n\nexports.decrypt = decrypt;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyeXB0by1zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImVuY3J5cHQiLCJkYXRhIiwiY3VzdG9tRW5jcnlwdGlvbktleSIsImlzVGV4dCIsImFsZ29yaXRobUl2U2l6ZSIsImFsZ29yaXRobSIsInNoYXJlZEVuY3J5cHRpb25LZXkiLCJhbGdvcml0aG1FbmNvZGUiLCJhbGdvcml0aG1DaGFyc2V0IiwiYWxnb3JpdGhtS2V5U2l6ZSIsImNyeXB0b0NvbmZpZyIsImluaXRpYWxpemF0aW9uVmVjdG9yIiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsInNsaWNlIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0ZWRKU09OIiwidXBkYXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbmFsIiwiZGVjcnlwdCIsImVuY3J5cHRlZFBhcnRzIiwic3BsaXQiLCJlbmNyeXB0ZWRUZXh0IiwiY29uc29sZSIsImxvZyIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsImRlY3J5cHRlZFRleHQiLCJwYXJzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRU8sTUFBTUEsT0FBTyxHQUFHLENBQUNDLElBQUQsRUFBT0MsbUJBQVAsRUFBNEJDLE1BQU0sR0FBRyxLQUFyQyxLQUErQztBQUNwRSxRQUFNO0FBQUVDLElBQUFBLGVBQUY7QUFBbUJDLElBQUFBLFNBQW5CO0FBQThCQyxJQUFBQSxtQkFBOUI7QUFBbURDLElBQUFBLGVBQW5EO0FBQW9FQyxJQUFBQSxnQkFBcEU7QUFBc0ZDLElBQUFBO0FBQXRGLE1BQTJHQyxjQUFqSDs7QUFFQSxRQUFNQyxvQkFBb0IsR0FBR0MsZ0JBQzFCQyxXQUQwQixDQUNkVCxlQURjLEVBRTFCVSxRQUYwQixDQUVqQlAsZUFGaUIsRUFHMUJRLEtBSDBCLENBR3BCLENBSG9CLEVBR2pCWCxlQUhpQixDQUE3Qjs7QUFLQSxRQUFNWSxNQUFNLEdBQUdKLGdCQUFPSyxjQUFQLENBQXNCWixTQUF0QixFQUFpQyxDQUFDSCxtQkFBbUIsSUFBSUksbUJBQXhCLEVBQTZDUyxLQUE3QyxDQUFtRCxDQUFuRCxFQUFzRE4sZ0JBQXRELENBQWpDLEVBQTBHRSxvQkFBMUcsQ0FBZjs7QUFDQSxNQUFJTyxhQUFhLEdBQUdGLE1BQU0sQ0FBQ0csTUFBUCxDQUFlaEIsTUFBTSxHQUFHRixJQUFILEdBQVVtQixJQUFJLENBQUNDLFNBQUwsQ0FBZXBCLElBQWYsQ0FBL0IsRUFBc0RPLGdCQUF0RCxFQUF3RUQsZUFBeEUsQ0FBcEI7QUFDQVcsRUFBQUEsYUFBYSxJQUFJRixNQUFNLENBQUNNLEtBQVAsQ0FBYWYsZUFBYixDQUFqQjtBQUVBLFNBQVEsR0FBRUksb0JBQXFCLElBQUdPLGFBQWMsRUFBaEQ7QUFDRCxDQWJNOzs7O0FBaUJBLE1BQU1LLE9BQU8sR0FBRyxDQUFDTCxhQUFELEVBQWdCaEIsbUJBQW1CLEdBQUcsSUFBdEMsRUFBNENDLE1BQU0sR0FBRyxLQUFyRCxLQUFnRTtBQUNyRixRQUFNO0FBQUVFLElBQUFBLFNBQUY7QUFBYUMsSUFBQUEsbUJBQWI7QUFBa0NDLElBQUFBLGVBQWxDO0FBQW1EQyxJQUFBQSxnQkFBbkQ7QUFBcUVDLElBQUFBO0FBQXJFLE1BQTBGQyxjQUFoRztBQUVBLFFBQU1jLGNBQWMsR0FBR04sYUFBYSxDQUFDTyxLQUFkLENBQW9CLEdBQXBCLENBQXZCO0FBQ0EsUUFBTWQsb0JBQW9CLEdBQUdhLGNBQWMsQ0FBQyxDQUFELENBQTNDO0FBQ0EsUUFBTUUsYUFBYSxHQUFHRixjQUFjLENBQUMsQ0FBRCxDQUFwQztBQUNBRyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixFQUFtQzFCLG1CQUFuQzs7QUFDQSxRQUFNMkIsUUFBUSxHQUFHakIsZ0JBQU9rQixnQkFBUCxDQUF3QnpCLFNBQXhCLEVBQW1DLENBQUNILG1CQUFtQixJQUFJSSxtQkFBeEIsRUFBNkNTLEtBQTdDLENBQW1ELENBQW5ELEVBQXNETixnQkFBdEQsQ0FBbkMsRUFBNEdFLG9CQUE1RyxDQUFqQjs7QUFDQSxNQUFJb0IsYUFBYSxHQUFHRixRQUFRLENBQUNWLE1BQVQsQ0FBZ0JPLGFBQWhCLEVBQStCbkIsZUFBL0IsRUFBZ0RDLGdCQUFoRCxDQUFwQjtBQUNBdUIsRUFBQUEsYUFBYSxJQUFJRixRQUFRLENBQUNQLEtBQVQsQ0FBZWQsZ0JBQWYsQ0FBakI7QUFDQSxTQUFPTCxNQUFNLEdBQUc0QixhQUFILEdBQW1CWCxJQUFJLENBQUNZLEtBQUwsQ0FBV0QsYUFBWCxDQUFoQztBQUNELENBWE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCB7IGNyeXB0byBhcyBjcnlwdG9Db25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5leHBvcnQgY29uc3QgZW5jcnlwdCA9IChkYXRhLCBjdXN0b21FbmNyeXB0aW9uS2V5LCBpc1RleHQgPSBmYWxzZSkgPT4geyBcbiAgY29uc3QgeyBhbGdvcml0aG1JdlNpemUsIGFsZ29yaXRobSwgc2hhcmVkRW5jcnlwdGlvbktleSwgYWxnb3JpdGhtRW5jb2RlLCBhbGdvcml0aG1DaGFyc2V0LCBhbGdvcml0aG1LZXlTaXplIH0gPSBjcnlwdG9Db25maWc7XG4gIFxuICBjb25zdCBpbml0aWFsaXphdGlvblZlY3RvciA9IGNyeXB0b1xuICAgIC5yYW5kb21CeXRlcyhhbGdvcml0aG1JdlNpemUpXG4gICAgLnRvU3RyaW5nKGFsZ29yaXRobUVuY29kZSlcbiAgICAuc2xpY2UoMCwgYWxnb3JpdGhtSXZTaXplKTtcblxuICBjb25zdCBjaXBoZXIgPSBjcnlwdG8uY3JlYXRlQ2lwaGVyaXYoYWxnb3JpdGhtLCAoY3VzdG9tRW5jcnlwdGlvbktleSB8fCBzaGFyZWRFbmNyeXB0aW9uS2V5KS5zbGljZSgwLCBhbGdvcml0aG1LZXlTaXplKSwgaW5pdGlhbGl6YXRpb25WZWN0b3IpO1xuICBsZXQgZW5jcnlwdGVkSlNPTiA9IGNpcGhlci51cGRhdGUoKGlzVGV4dCA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSksIGFsZ29yaXRobUNoYXJzZXQsIGFsZ29yaXRobUVuY29kZSk7XG4gIGVuY3J5cHRlZEpTT04gKz0gY2lwaGVyLmZpbmFsKGFsZ29yaXRobUVuY29kZSk7XG5cbiAgcmV0dXJuIGAke2luaXRpYWxpemF0aW9uVmVjdG9yfToke2VuY3J5cHRlZEpTT059YDtcbn07XG5cblxuXG5leHBvcnQgY29uc3QgZGVjcnlwdCA9IChlbmNyeXB0ZWRKU09OLCBjdXN0b21FbmNyeXB0aW9uS2V5ID0gbnVsbCwgaXNUZXh0ID0gZmFsc2UgKSA9PiB7XG4gIGNvbnN0IHsgYWxnb3JpdGhtLCBzaGFyZWRFbmNyeXB0aW9uS2V5LCBhbGdvcml0aG1FbmNvZGUsIGFsZ29yaXRobUNoYXJzZXQsIGFsZ29yaXRobUtleVNpemUgfSA9IGNyeXB0b0NvbmZpZztcbiAgXG4gIGNvbnN0IGVuY3J5cHRlZFBhcnRzID0gZW5jcnlwdGVkSlNPTi5zcGxpdCgnOicpO1xuICBjb25zdCBpbml0aWFsaXphdGlvblZlY3RvciA9IGVuY3J5cHRlZFBhcnRzWzBdO1xuICBjb25zdCBlbmNyeXB0ZWRUZXh0ID0gZW5jcnlwdGVkUGFydHNbMV07XG4gIGNvbnNvbGUubG9nKCdjdXN0b21FbmNyeXB0aW9uS2V5JywgY3VzdG9tRW5jcnlwdGlvbktleSk7XG4gIGNvbnN0IGRlY2lwaGVyID0gY3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoYWxnb3JpdGhtLCAoY3VzdG9tRW5jcnlwdGlvbktleSB8fCBzaGFyZWRFbmNyeXB0aW9uS2V5KS5zbGljZSgwLCBhbGdvcml0aG1LZXlTaXplKSwgaW5pdGlhbGl6YXRpb25WZWN0b3IpO1xuICBsZXQgZGVjcnlwdGVkVGV4dCA9IGRlY2lwaGVyLnVwZGF0ZShlbmNyeXB0ZWRUZXh0LCBhbGdvcml0aG1FbmNvZGUsIGFsZ29yaXRobUNoYXJzZXQpO1xuICBkZWNyeXB0ZWRUZXh0ICs9IGRlY2lwaGVyLmZpbmFsKGFsZ29yaXRobUNoYXJzZXQpO1xuICByZXR1cm4gaXNUZXh0ID8gZGVjcnlwdGVkVGV4dCA6IEpTT04ucGFyc2UoZGVjcnlwdGVkVGV4dCk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "crypto-service.js"
      ],
      "names": [
        "encrypt",
        "data",
        "customEncryptionKey",
        "isText",
        "algorithmIvSize",
        "algorithm",
        "sharedEncryptionKey",
        "algorithmEncode",
        "algorithmCharset",
        "algorithmKeySize",
        "cryptoConfig",
        "initializationVector",
        "crypto",
        "randomBytes",
        "toString",
        "slice",
        "cipher",
        "createCipheriv",
        "encryptedJSON",
        "update",
        "JSON",
        "stringify",
        "final",
        "decrypt",
        "encryptedParts",
        "split",
        "encryptedText",
        "console",
        "log",
        "decipher",
        "createDecipheriv",
        "decryptedText",
        "parse"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,OAAO,GAAG,CAACC,IAAD,EAAOC,mBAAP,EAA4BC,MAAM,GAAG,KAArC,KAA+C;AACpE,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,SAAnB;AAA8BC,IAAAA,mBAA9B;AAAmDC,IAAAA,eAAnD;AAAoEC,IAAAA,gBAApE;AAAsFC,IAAAA;AAAtF,MAA2GC,cAAjH;;AAEA,QAAMC,oBAAoB,GAAGC,gBAC1BC,WAD0B,CACdT,eADc,EAE1BU,QAF0B,CAEjBP,eAFiB,EAG1BQ,KAH0B,CAGpB,CAHoB,EAGjBX,eAHiB,CAA7B;;AAKA,QAAMY,MAAM,GAAGJ,gBAAOK,cAAP,CAAsBZ,SAAtB,EAAiC,CAACH,mBAAmB,IAAII,mBAAxB,EAA6CS,KAA7C,CAAmD,CAAnD,EAAsDN,gBAAtD,CAAjC,EAA0GE,oBAA1G,CAAf;;AACA,MAAIO,aAAa,GAAGF,MAAM,CAACG,MAAP,CAAehB,MAAM,GAAGF,IAAH,GAAUmB,IAAI,CAACC,SAAL,CAAepB,IAAf,CAA/B,EAAsDO,gBAAtD,EAAwED,eAAxE,CAApB;AACAW,EAAAA,aAAa,IAAIF,MAAM,CAACM,KAAP,CAAaf,eAAb,CAAjB;AAEA,SAAQ,GAAEI,oBAAqB,IAAGO,aAAc,EAAhD;AACD,CAbM;;;;AAiBA,MAAMK,OAAO,GAAG,CAACL,aAAD,EAAgBhB,mBAAmB,GAAG,IAAtC,EAA4CC,MAAM,GAAG,KAArD,KAAgE;AACrF,QAAM;AAAEE,IAAAA,SAAF;AAAaC,IAAAA,mBAAb;AAAkCC,IAAAA,eAAlC;AAAmDC,IAAAA,gBAAnD;AAAqEC,IAAAA;AAArE,MAA0FC,cAAhG;AAEA,QAAMc,cAAc,GAAGN,aAAa,CAACO,KAAd,CAAoB,GAApB,CAAvB;AACA,QAAMd,oBAAoB,GAAGa,cAAc,CAAC,CAAD,CAA3C;AACA,QAAME,aAAa,GAAGF,cAAc,CAAC,CAAD,CAApC;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC1B,mBAAnC;;AACA,QAAM2B,QAAQ,GAAGjB,gBAAOkB,gBAAP,CAAwBzB,SAAxB,EAAmC,CAACH,mBAAmB,IAAII,mBAAxB,EAA6CS,KAA7C,CAAmD,CAAnD,EAAsDN,gBAAtD,CAAnC,EAA4GE,oBAA5G,CAAjB;;AACA,MAAIoB,aAAa,GAAGF,QAAQ,CAACV,MAAT,CAAgBO,aAAhB,EAA+BnB,eAA/B,EAAgDC,gBAAhD,CAApB;AACAuB,EAAAA,aAAa,IAAIF,QAAQ,CAACP,KAAT,CAAed,gBAAf,CAAjB;AACA,SAAOL,MAAM,GAAG4B,aAAH,GAAmBX,IAAI,CAACY,KAAL,CAAWD,aAAX,CAAhC;AACD,CAXM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "sourcesContent": [
        "import crypto from 'crypto';\nimport { crypto as cryptoConfig } from '../config';\n\nexport const encrypt = (data, customEncryptionKey, isText = false) => { \n  const { algorithmIvSize, algorithm, sharedEncryptionKey, algorithmEncode, algorithmCharset, algorithmKeySize } = cryptoConfig;\n  \n  const initializationVector = crypto\n    .randomBytes(algorithmIvSize)\n    .toString(algorithmEncode)\n    .slice(0, algorithmIvSize);\n\n  const cipher = crypto.createCipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n  let encryptedJSON = cipher.update((isText ? data : JSON.stringify(data)), algorithmCharset, algorithmEncode);\n  encryptedJSON += cipher.final(algorithmEncode);\n\n  return `${initializationVector}:${encryptedJSON}`;\n};\n\n\n\nexport const decrypt = (encryptedJSON, customEncryptionKey = null, isText = false ) => {\n  const { algorithm, sharedEncryptionKey, algorithmEncode, algorithmCharset, algorithmKeySize } = cryptoConfig;\n  \n  const encryptedParts = encryptedJSON.split(':');\n  const initializationVector = encryptedParts[0];\n  const encryptedText = encryptedParts[1];\n  console.log('customEncryptionKey', customEncryptionKey);\n  const decipher = crypto.createDecipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n  let decryptedText = decipher.update(encryptedText, algorithmEncode, algorithmCharset);\n  decryptedText += decipher.final(algorithmCharset);\n  return isText ? decryptedText : JSON.parse(decryptedText);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1557779464884
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/decorators\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/decorators/authorization-handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/decorators",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/decorators/authorization-handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/decorators/authorization-handler.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/decorators/authorization-handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/decorators",
        "sourceFileName": "authorization-handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequiredRight = exports.RequiredRole = exports.authenticate = void 0;\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _superagent = _interopRequireDefault(require(\"superagent\"));\n\nvar _config = require(\"../config\");\n\nvar _request = require(\"../helpers/request\");\n\nconst logger = _bunyan.default.createLogger({\n  name: 'Authorization Handler'\n});\n\nconst authenticate = async (req, res, next) => {\n  const tokenBody = await _superagent.default.get(_config.authExternalAuthenticateUrl).set('Authorization', `Bearer ${(0, _request.getTokenFromRequest)(req)}`).set('Content-Type', 'application/json').catch(error => {\n    logger.error(error, 'Authenticate error');\n  });\n\n  if (!tokenBody) {\n    next();\n  }\n\n  req.tokenBody = JSON.parse(tokenBody.text);\n  next();\n};\n\nexports.authenticate = authenticate;\n\nconst RequiredRole = roles => (target, name, descriptor) => {\n  var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const {\n      role = {},\n      user = {}\n    } = args[0].tokenBody;\n\n    if (roles.includes(role.name)) {\n      return oldValue.apply(void 0, args);\n    }\n\n    const message = `Unauthorized Role for ${name}`;\n    logger.error({\n      userId: user.id,\n      role: role.name\n    }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexports.RequiredRole = RequiredRole;\n\nconst RequiredRight = rights => (target, name, descriptor) => {\n  var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const {\n      role = {},\n      user = {}\n    } = JSON.parse(args[0].tokenBody);\n\n    if (role.rights.some(r => rights.includes(r))) {\n      return oldValue.apply(void 0, args);\n    }\n\n    const message = `Unauthorized rights for ${name}`;\n    logger.error({\n      userId: user.id,\n      role: role.name\n    }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexports.RequiredRight = RequiredRight;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24taGFuZGxlci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwiYXV0aGVudGljYXRlIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuQm9keSIsInJlcXVlc3QiLCJnZXQiLCJhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwiLCJzZXQiLCJjYXRjaCIsImVycm9yIiwiSlNPTiIsInBhcnNlIiwidGV4dCIsIlJlcXVpcmVkUm9sZSIsInJvbGVzIiwidGFyZ2V0IiwiZGVzY3JpcHRvciIsIm9sZFZhbHVlIiwidmFsdWUiLCJhcmdzIiwicm9sZSIsInVzZXIiLCJpbmNsdWRlcyIsImFwcGx5IiwibWVzc2FnZSIsInVzZXJJZCIsImlkIiwiRXJyb3IiLCJzdGF0dXMiLCJSZXF1aXJlZFJpZ2h0IiwicmlnaHRzIiwic29tZSIsInIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFTyxNQUFNQyxZQUFZLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUNwRCxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsb0JBQ3JCQyxHQURxQixDQUNqQkMsbUNBRGlCLEVBRXJCQyxHQUZxQixDQUVqQixlQUZpQixFQUVDLFVBQVMsa0NBQW9CUCxHQUFwQixDQUF5QixFQUZuQyxFQUdyQk8sR0FIcUIsQ0FHakIsY0FIaUIsRUFHRCxrQkFIQyxFQUlyQkMsS0FKcUIsQ0FJZkMsS0FBSyxJQUFJO0FBQ2RkLElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhQSxLQUFiLEVBQW9CLG9CQUFwQjtBQUNELEdBTnFCLENBQXhCOztBQVFBLE1BQUksQ0FBQ04sU0FBTCxFQUFnQjtBQUNkRCxJQUFBQSxJQUFJO0FBQ0w7O0FBQ0RGLEVBQUFBLEdBQUcsQ0FBQ0csU0FBSixHQUFnQk8sSUFBSSxDQUFDQyxLQUFMLENBQVdSLFNBQVMsQ0FBQ1MsSUFBckIsQ0FBaEI7QUFDQVYsRUFBQUEsSUFBSTtBQUNMLENBZE07Ozs7QUFnQkEsTUFBTVcsWUFBWSxHQUFHQyxLQUFLLElBQUksQ0FBQ0MsTUFBRCxFQUFTakIsSUFBVCxFQUFla0IsVUFBZixLQUE4QjtBQUVsRSxNQUFJQyxRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsS0FBMUI7O0FBRUNGLEVBQUFBLFVBQVUsQ0FBQ0UsS0FBWCxHQUFtQixDQUFDLEdBQUdDLElBQUosS0FBYTtBQUM5QixVQUFNO0FBQUVDLE1BQUFBLElBQUksR0FBRyxFQUFUO0FBQWFDLE1BQUFBLElBQUksR0FBRztBQUFwQixRQUEyQkYsSUFBSSxDQUFDLENBQUQsQ0FBSixDQUFRaEIsU0FBekM7O0FBRUEsUUFBSVcsS0FBSyxDQUFDUSxRQUFOLENBQWVGLElBQUksQ0FBQ3RCLElBQXBCLENBQUosRUFBK0I7QUFDN0IsYUFBT21CLFFBQVEsQ0FBQ00sS0FBVCxTQUFxQkosSUFBckIsQ0FBUDtBQUNEOztBQUVELFVBQU1LLE9BQU8sR0FBSSx5QkFBd0IxQixJQUFLLEVBQTlDO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhO0FBQUVnQixNQUFBQSxNQUFNLEVBQUVKLElBQUksQ0FBQ0ssRUFBZjtBQUFtQk4sTUFBQUEsSUFBSSxFQUFFQSxJQUFJLENBQUN0QjtBQUE5QixLQUFiLEVBQW1EMEIsT0FBbkQ7QUFDQSxVQUFNZixLQUFLLEdBQUcsSUFBSWtCLEtBQUosQ0FBVSxtQkFBVixDQUFkO0FBQ0FsQixJQUFBQSxLQUFLLENBQUNtQixNQUFOLEdBQWUsR0FBZjtBQUNBLFVBQU1uQixLQUFOO0FBQ0QsR0FaRDs7QUFjQSxTQUFPTyxVQUFQO0FBQ0QsQ0FuQk07Ozs7QUFxQkEsTUFBTWEsYUFBYSxHQUFHQyxNQUFNLElBQUksQ0FBQ2YsTUFBRCxFQUFTakIsSUFBVCxFQUFla0IsVUFBZixLQUE4QjtBQUNwRSxNQUFJQyxRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsS0FBMUI7O0FBRUNGLEVBQUFBLFVBQVUsQ0FBQ0UsS0FBWCxHQUFtQixDQUFDLEdBQUdDLElBQUosS0FBYTtBQUM5QixVQUFNO0FBQUVDLE1BQUFBLElBQUksR0FBRyxFQUFUO0FBQWFDLE1BQUFBLElBQUksR0FBRztBQUFwQixRQUEyQlgsSUFBSSxDQUFDQyxLQUFMLENBQVdRLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUWhCLFNBQW5CLENBQWpDOztBQUVBLFFBQUlpQixJQUFJLENBQUNVLE1BQUwsQ0FBWUMsSUFBWixDQUFpQkMsQ0FBQyxJQUFJRixNQUFNLENBQUNSLFFBQVAsQ0FBZ0JVLENBQWhCLENBQXRCLENBQUosRUFBK0M7QUFDL0MsYUFBT2YsUUFBUSxDQUFDTSxLQUFULFNBQXFCSixJQUFyQixDQUFQO0FBQ0M7O0FBRUQsVUFBTUssT0FBTyxHQUFJLDJCQUEwQjFCLElBQUssRUFBaEQ7QUFDQUgsSUFBQUEsTUFBTSxDQUFDYyxLQUFQLENBQWE7QUFBRWdCLE1BQUFBLE1BQU0sRUFBRUosSUFBSSxDQUFDSyxFQUFmO0FBQW1CTixNQUFBQSxJQUFJLEVBQUVBLElBQUksQ0FBQ3RCO0FBQTlCLEtBQWIsRUFBbUQwQixPQUFuRDtBQUNBLFVBQU1mLEtBQUssR0FBRyxJQUFJa0IsS0FBSixDQUFVLG1CQUFWLENBQWQ7QUFDQWxCLElBQUFBLEtBQUssQ0FBQ21CLE1BQU4sR0FBZSxHQUFmO0FBQ0EsVUFBTW5CLEtBQU47QUFDRCxHQVpEOztBQWNBLFNBQU9PLFVBQVA7QUFDRCxDQWxCTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RlY29yYXRvcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcmFnZW50JztcbmltcG9ydCB7IGF1dGhFeHRlcm5hbEF1dGhlbnRpY2F0ZVVybCB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBnZXRUb2tlbkZyb21SZXF1ZXN0IH0gZnJvbSAnLi4vaGVscGVycy9yZXF1ZXN0JztcbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnQXV0aG9yaXphdGlvbiBIYW5kbGVyJ30pO1xuXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHRva2VuQm9keSA9IGF3YWl0IHJlcXVlc3RcbiAgICAuZ2V0KGF1dGhFeHRlcm5hbEF1dGhlbnRpY2F0ZVVybClcbiAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2dldFRva2VuRnJvbVJlcXVlc3QocmVxKX1gKVxuICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgbG9nZ2VyLmVycm9yKGVycm9yLCAnQXV0aGVudGljYXRlIGVycm9yJyk7XG4gICAgfSk7XG5cbiAgaWYgKCF0b2tlbkJvZHkpIHtcbiAgICBuZXh0KCk7XG4gIH1cbiAgcmVxLnRva2VuQm9keSA9IEpTT04ucGFyc2UodG9rZW5Cb2R5LnRleHQpO1xuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgY29uc3QgUmVxdWlyZWRSb2xlID0gcm9sZXMgPT4gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuXG4gdmFyIG9sZFZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICBkZXNjcmlwdG9yLnZhbHVlID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJvbGUgPSB7fSwgdXNlciA9IHt9IH0gPSBhcmdzWzBdLnRva2VuQm9keTtcbiAgICBcbiAgICBpZiAocm9sZXMuaW5jbHVkZXMocm9sZS5uYW1lKSkge1xuICAgICAgcmV0dXJuIG9sZFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpOyAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGBVbmF1dGhvcml6ZWQgUm9sZSBmb3IgJHtuYW1lfWA7XG4gICAgbG9nZ2VyLmVycm9yKHsgdXNlcklkOiB1c2VyLmlkLCByb2xlOiByb2xlLm5hbWUgfSwgbWVzc2FnZSk7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ05PVF9FTk9VR0hfUklHSFRTJyk7XG4gICAgZXJyb3Iuc3RhdHVzID0gNDAzO1xuICAgIHRocm93IGVycm9yO1xuICB9O1xuXG4gIHJldHVybiBkZXNjcmlwdG9yO1xufTtcblxuZXhwb3J0IGNvbnN0IFJlcXVpcmVkUmlnaHQgPSByaWdodHMgPT4gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuIHZhciBvbGRWYWx1ZSA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgZGVzY3JpcHRvci52YWx1ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgeyByb2xlID0ge30sIHVzZXIgPSB7fSB9ID0gSlNPTi5wYXJzZShhcmdzWzBdLnRva2VuQm9keSk7XG5cbiAgICBpZiAocm9sZS5yaWdodHMuc29tZShyID0+IHJpZ2h0cy5pbmNsdWRlcyhyKSkpIHtcbiAgICByZXR1cm4gb2xkVmFsdWUuYXBwbHkodGhpcywgYXJncyk7ICAgICBcbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlID0gYFVuYXV0aG9yaXplZCByaWdodHMgZm9yICR7bmFtZX1gO1xuICAgIGxvZ2dlci5lcnJvcih7IHVzZXJJZDogdXNlci5pZCwgcm9sZTogcm9sZS5uYW1lIH0sIG1lc3NhZ2UpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdOT1RfRU5PVUdIX1JJR0hUUycpO1xuICAgIGVycm9yLnN0YXR1cyA9IDQwMztcbiAgICB0aHJvdyBlcnJvcjtcbiAgfTtcblxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "authorization-handler.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "authenticate",
        "req",
        "res",
        "next",
        "tokenBody",
        "request",
        "get",
        "authExternalAuthenticateUrl",
        "set",
        "catch",
        "error",
        "JSON",
        "parse",
        "text",
        "RequiredRole",
        "roles",
        "target",
        "descriptor",
        "oldValue",
        "value",
        "args",
        "role",
        "user",
        "includes",
        "apply",
        "message",
        "userId",
        "id",
        "Error",
        "status",
        "RequiredRight",
        "rights",
        "some",
        "r"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/decorators",
      "sourcesContent": [
        "import bunyan from 'bunyan';\nimport request from 'superagent';\nimport { authExternalAuthenticateUrl } from '../config';\nimport { getTokenFromRequest } from '../helpers/request';\nconst logger = bunyan.createLogger({ name: 'Authorization Handler'});\n\nexport const authenticate = async (req, res, next) => {\n  const tokenBody = await request\n    .get(authExternalAuthenticateUrl)\n    .set('Authorization', `Bearer ${getTokenFromRequest(req)}`)\n    .set('Content-Type', 'application/json')\n    .catch(error => {\n      logger.error(error, 'Authenticate error');\n    });\n\n  if (!tokenBody) {\n    next();\n  }\n  req.tokenBody = JSON.parse(tokenBody.text);\n  next();\n};\n\nexport const RequiredRole = roles => (target, name, descriptor) => {\n\n var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const { role = {}, user = {} } = args[0].tokenBody;\n    \n    if (roles.includes(role.name)) {\n      return oldValue.apply(this, args);     \n    }\n\n    const message = `Unauthorized Role for ${name}`;\n    logger.error({ userId: user.id, role: role.name }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexport const RequiredRight = rights => (target, name, descriptor) => {\n var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const { role = {}, user = {} } = JSON.parse(args[0].tokenBody);\n\n    if (role.rights.some(r => rights.includes(r))) {\n    return oldValue.apply(this, args);     \n    }\n\n    const message = `Unauthorized rights for ${name}`;\n    logger.error({ userId: user.id, role: role.name }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1556240414256
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/request.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/request.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/request.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/request.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "request.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTokenFromRequest = void 0;\n\nconst getTokenFromRequest = req => {\n  if (req.headers.authorization && req.headers.authorization.split(' ')[0] === 'Bearer') {\n    return req.headers.authorization.split(' ')[1];\n  }\n\n  if (req.query && req.query.token) {\n    return req.query.token;\n  }\n\n  return null;\n};\n\nexports.getTokenFromRequest = getTokenFromRequest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW5Gcm9tUmVxdWVzdCIsInJlcSIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3BsaXQiLCJxdWVyeSIsInRva2VuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUdDLEdBQUcsSUFBSTtBQUN4QyxNQUFJQSxHQUFHLENBQUNDLE9BQUosQ0FBWUMsYUFBWixJQUE2QkYsR0FBRyxDQUFDQyxPQUFKLENBQVlDLGFBQVosQ0FBMEJDLEtBQTFCLENBQWdDLEdBQWhDLEVBQXFDLENBQXJDLE1BQTRDLFFBQTdFLEVBQXVGO0FBQ3JGLFdBQU9ILEdBQUcsQ0FBQ0MsT0FBSixDQUFZQyxhQUFaLENBQTBCQyxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFQO0FBQ0Q7O0FBQ0QsTUFBSUgsR0FBRyxDQUFDSSxLQUFKLElBQWFKLEdBQUcsQ0FBQ0ksS0FBSixDQUFVQyxLQUEzQixFQUFrQztBQUNoQyxXQUFPTCxHQUFHLENBQUNJLEtBQUosQ0FBVUMsS0FBakI7QUFDRDs7QUFDRCxTQUFPLElBQVA7QUFDRCxDQVJNIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBnZXRUb2tlbkZyb21SZXF1ZXN0ID0gcmVxID0+IHtcbiAgaWYgKHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiYgcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzBdID09PSAnQmVhcmVyJykge1xuICAgIHJldHVybiByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV07XG4gIH1cbiAgaWYgKHJlcS5xdWVyeSAmJiByZXEucXVlcnkudG9rZW4pIHtcbiAgICByZXR1cm4gcmVxLnF1ZXJ5LnRva2VuO1xuICB9XG4gIHJldHVybiBudWxsO1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "request.js"
      ],
      "names": [
        "getTokenFromRequest",
        "req",
        "headers",
        "authorization",
        "split",
        "query",
        "token"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,mBAAmB,GAAGC,GAAG,IAAI;AACxC,MAAIA,GAAG,CAACC,OAAJ,CAAYC,aAAZ,IAA6BF,GAAG,CAACC,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,MAA4C,QAA7E,EAAuF;AACrF,WAAOH,GAAG,CAACC,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAP;AACD;;AACD,MAAIH,GAAG,CAACI,KAAJ,IAAaJ,GAAG,CAACI,KAAJ,CAAUC,KAA3B,EAAkC;AAChC,WAAOL,GAAG,CAACI,KAAJ,CAAUC,KAAjB;AACD;;AACD,SAAO,IAAP;AACD,CARM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "export const getTokenFromRequest = req => {\n  if (req.headers.authorization && req.headers.authorization.split(' ')[0] === 'Bearer') {\n    return req.headers.authorization.split(' ')[1];\n  }\n  if (req.query && req.query.token) {\n    return req.query.token;\n  }\n  return null;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/enums/dal-types.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/dal-types.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/enums/dal-types.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/dal-types.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
        "sourceFileName": "dal-types.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  PredefinedRole: {\n    SYSTEM: 'system',\n    CUSTOMER: 'customer',\n    ADMIN: 'admin',\n    EXTERNAL: 'external'\n  },\n  OrderStatus: {\n    PENDING: 'pending',\n    PROCESSED: 'processed',\n    CANCELLED: 'cancelled'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhbC10eXBlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUHJlZGVmaW5lZFJvbGUiLCJTWVNURU0iLCJDVVNUT01FUiIsIkFETUlOIiwiRVhURVJOQUwiLCJPcmRlclN0YXR1cyIsIlBFTkRJTkciLCJQUk9DRVNTRUQiLCJDQU5DRUxMRUQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxjQUFjLEVBQUU7QUFDZEMsSUFBQUEsTUFBTSxFQUFFLFFBRE07QUFFZEMsSUFBQUEsUUFBUSxFQUFFLFVBRkk7QUFHZEMsSUFBQUEsS0FBSyxFQUFFLE9BSE87QUFJZEMsSUFBQUEsUUFBUSxFQUFFO0FBSkksR0FERDtBQU9mQyxFQUFBQSxXQUFXLEVBQUU7QUFDWEMsSUFBQUEsT0FBTyxFQUFFLFNBREU7QUFFWEMsSUFBQUEsU0FBUyxFQUFFLFdBRkE7QUFHWEMsSUFBQUEsU0FBUyxFQUFFO0FBSEE7QUFQRSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXG4gIFByZWRlZmluZWRSb2xlOiB7XG4gICAgU1lTVEVNOiAnc3lzdGVtJyxcbiAgICBDVVNUT01FUjogJ2N1c3RvbWVyJyxcbiAgICBBRE1JTjogJ2FkbWluJyxcbiAgICBFWFRFUk5BTDogJ2V4dGVybmFsJyxcbiAgfSxcbiAgT3JkZXJTdGF0dXM6IHtcbiAgICBQRU5ESU5HOiAncGVuZGluZycsXG4gICAgUFJPQ0VTU0VEOiAncHJvY2Vzc2VkJyxcbiAgICBDQU5DRUxMRUQ6ICdjYW5jZWxsZWQnLFxuICB9LFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "dal-types.js"
      ],
      "names": [
        "module",
        "exports",
        "PredefinedRole",
        "SYSTEM",
        "CUSTOMER",
        "ADMIN",
        "EXTERNAL",
        "OrderStatus",
        "PENDING",
        "PROCESSED",
        "CANCELLED"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAE;AACdC,IAAAA,MAAM,EAAE,QADM;AAEdC,IAAAA,QAAQ,EAAE,UAFI;AAGdC,IAAAA,KAAK,EAAE,OAHO;AAIdC,IAAAA,QAAQ,EAAE;AAJI,GADD;AAOfC,EAAAA,WAAW,EAAE;AACXC,IAAAA,OAAO,EAAE,SADE;AAEXC,IAAAA,SAAS,EAAE,WAFA;AAGXC,IAAAA,SAAS,EAAE;AAHA;AAPE,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "sourcesContent": [
        "module.exports = { \n  PredefinedRole: {\n    SYSTEM: 'system',\n    CUSTOMER: 'customer',\n    ADMIN: 'admin',\n    EXTERNAL: 'external',\n  },\n  OrderStatus: {\n    PENDING: 'pending',\n    PROCESSED: 'processed',\n    CANCELLED: 'cancelled',\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687667391
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/order.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/order.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/order.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/order.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "order.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar orderService = _interopRequireWildcard(require(\"../services/order-service\"));\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _authorizationHandler = require(\"../decorators/authorization-handler\");\n\nvar _dalTypes = require(\"../helpers/enums/dal-types\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class;\n\nconst {\n  POSTGRES_CONTEXT\n} = _unit_of_work.UnitOfWorkContext;\nlet CustomerApi = (_dec = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec2 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec3 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec4 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec5 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec6 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec7 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec8 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec9 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec10 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), (_class = class CustomerApi {\n  constructor(app) {\n    app.get('/api/orders/byCustomer/:customerId', _authorizationHandler.authenticate, this.getOrdersByCustomerId);\n    app.get('/api/orders/:orderId', _authorizationHandler.authenticate, this.getOrderById);\n    app.get('/api/orders/:customerId/byStatus/:status', _authorizationHandler.authenticate, this.getOrderByStatus);\n    app.post('/api/orders', _authorizationHandler.authenticate, this.createOrder);\n    app.post('/api/orders/lines', _authorizationHandler.authenticate, this.createOrderLine);\n    app.put('/api/orders/:orderId', _authorizationHandler.authenticate, this.updateOrder);\n    app.put('/api/orders/lines/:orderId/:productId', _authorizationHandler.authenticate, this.updateOrderLine);\n    app.delete('/api/orders/:orderId', _authorizationHandler.authenticate, this.deleteOrder);\n    app.delete('/api/orders/lines/:orderId/:productId', _authorizationHandler.authenticate, this.deleteOrderLine);\n    app.post('/api/orders/place', _authorizationHandler.authenticate, this.placeOrder);\n    app.post('/api/orders/transaction', this.processTransaction);\n  }\n\n  async getOrdersByCustomerId(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await orderService.getOrdersByCustomerId(POSTGRES_CONTEXT, customerId);\n  }\n\n  async getOrderById(req) {\n    const {\n      orderId\n    } = req.params || {};\n    return await orderService.getOrderById(POSTGRES_CONTEXT, {\n      orderId\n    });\n  }\n\n  async getOrderByStatus(req) {\n    const {\n      status,\n      customerId\n    } = req.params || {};\n    return await orderService.getOrderByStatus(POSTGRES_CONTEXT, {\n      status,\n      customerId\n    });\n  }\n\n  async createOrder(req) {\n    const {\n      body\n    } = req;\n    return await orderService.createOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      order: body\n    });\n  }\n\n  async placeOrder(req) {\n    const {\n      body\n    } = req;\n    return await orderService.placeOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      order: body\n    });\n  }\n\n  async processTransaction(req) {\n    const {\n      body\n    } = req;\n    return await orderService.processTransaction(POSTGRES_CONTEXT, body);\n  }\n\n  async createOrderLine(req) {\n    const {\n      body\n    } = req;\n    return await orderService.createOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderLine: body\n    });\n  }\n\n  async updateOrder(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    return await orderService.updateOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderId: params.orderId,\n      order: body\n    });\n  }\n\n  async updateOrderLine(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    const {\n      orderId,\n      productId\n    } = params;\n    return await orderService.updateOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderLine: (0, _objectSpread2.default)({}, body, {\n        orderId,\n        externalProductId: productId\n      })\n    });\n  }\n\n  async deleteOrder(req) {\n    const {\n      orderId\n    } = req.params || {};\n    return await orderService.deleteOrder(POSTGRES_CONTEXT, orderId);\n  }\n\n  async deleteOrderLine(req) {\n    const {\n      orderId,\n      productId\n    } = req.params || {};\n    return await orderService.deleteOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderId,\n      externalProductId: productId\n    });\n  }\n\n}, ((0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrdersByCustomerId\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrdersByCustomerId\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrderById\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrderById\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrderByStatus\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrderByStatus\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createOrder\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"createOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"placeOrder\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"placeOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createOrderLine\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createOrderLine\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateOrder\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateOrderLine\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"updateOrderLine\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteOrder\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteOrderLine\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteOrderLine\"), _class.prototype)), _class));\nexports.default = CustomerApi;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLmpzIl0sIm5hbWVzIjpbIlBPU1RHUkVTX0NPTlRFWFQiLCJVbml0T2ZXb3JrQ29udGV4dCIsIkN1c3RvbWVyQXBpIiwiUHJlZGVmaW5lZFJvbGUiLCJBRE1JTiIsIkNVU1RPTUVSIiwiY29uc3RydWN0b3IiLCJhcHAiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJnZXRPcmRlcnNCeUN1c3RvbWVySWQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPcmRlckJ5U3RhdHVzIiwicG9zdCIsImNyZWF0ZU9yZGVyIiwiY3JlYXRlT3JkZXJMaW5lIiwicHV0IiwidXBkYXRlT3JkZXIiLCJ1cGRhdGVPcmRlckxpbmUiLCJkZWxldGUiLCJkZWxldGVPcmRlciIsImRlbGV0ZU9yZGVyTGluZSIsInBsYWNlT3JkZXIiLCJwcm9jZXNzVHJhbnNhY3Rpb24iLCJyZXEiLCJjdXN0b21lcklkIiwicGFyYW1zIiwib3JkZXJTZXJ2aWNlIiwib3JkZXJJZCIsInN0YXR1cyIsImJvZHkiLCJkYkNvbnRleHQiLCJvcmRlciIsIm9yZGVyTGluZSIsInByb2R1Y3RJZCIsImV4dGVybmFsUHJvZHVjdElkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUF1QkMsK0JBQTdCO0lBRXFCQyxXLFdBZ0JsQix3Q0FBYSxDQUFDQyx5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0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QUEsS0FBSyxFQUFFRjtBQUEvRCxLQUE5QixDQUFiO0FBQ0Q7O0FBRUQsUUFDTVosZUFETixDQUNzQk0sR0FEdEIsRUFDMkI7QUFDekIsVUFBTTtBQUFFTSxNQUFBQSxJQUFGO0FBQVFKLE1BQUFBLE1BQU0sR0FBRztBQUFqQixRQUF3QkYsR0FBOUI7QUFDQSxVQUFNO0FBQUVJLE1BQUFBLE9BQUY7QUFBV00sTUFBQUE7QUFBWCxRQUF5QlIsTUFBL0I7QUFDQSxXQUFPLE1BQU1DLFlBQVksQ0FBQ1QsZUFBYixDQUE2Qk0sR0FBN0IsRUFBa0M7QUFBRU8sTUFBQUEsU0FBUyxFQUFFL0IsZ0JBQWI7QUFBK0JpQyxNQUFBQSxTQUFTLGtDQUFPSCxJQUFQO0FBQWFGLFFBQUFBLE9BQWI7QUFBc0JPLFFBQUFBLGlCQUFpQixFQUFFRDtBQUF6QztBQUF4QyxLQUFsQyxDQUFiO0FBQ0Q7O0FBRUQsUUFDTWQsV0FETixDQUNrQkksR0FEbEIsRUFDdUI7QUFDckIsVUFBTTtBQUFFSSxNQUFBQTtBQUFGLFFBQWNKLEdBQUcsQ0FBQ0UsTUFBSixJQUFjLEVBQWxDO0FBQ0EsV0FBTyxNQUFNQyxZQUFZLENBQUNQLFdBQWIsQ0FBeUJwQixnQkFBekIsRUFBMkM0QixPQUEzQyxDQUFiO0FBQ0Q7O0FBRUQsUUFDTVAsZUFETixDQUNzQkcsR0FEdEIsRUFDMkI7QUFDekIsVUFBTTtBQUFFSSxNQUFBQSxPQUFGO0FBQVdNLE1BQUFBO0FBQVgsUUFBeUJWLEdBQUcsQ0FBQ0UsTUFBSixJQUFjLEVBQTdDO0FBQ0EsV0FBTyxNQUFNQyxZQUFZLENBQUNOLGVBQWIsQ0FBNkJHLEdBQTdCLEVBQWtDO0FBQUVPLE1BQUFBLFNBQVMsRUFBRS9CLGdCQUFiO0FBQStCNEIsTUFBQUEsT0FBL0I7QUFBd0NPLE1BQUFBLGlCQUFpQixFQUFFRDtBQUEzRCxLQUFsQyxDQUFiO0FBQ0Q7O0FBakY4QixDIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvYXBpIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgb3JkZXJTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL29yZGVyLXNlcnZpY2UnO1xuaW1wb3J0IHsgVW5pdE9mV29ya0NvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2VudW1zL3VuaXRfb2Zfd29yayc7XG5pbXBvcnQgeyBSZXF1aXJlZFJvbGUsIGF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL2RlY29yYXRvcnMvYXV0aG9yaXphdGlvbi1oYW5kbGVyJztcbmltcG9ydCB7IFByZWRlZmluZWRSb2xlIH0gZnJvbSAnLi4vaGVscGVycy9lbnVtcy9kYWwtdHlwZXMnO1xuXG5jb25zdCB7IFBPU1RHUkVTX0NPTlRFWFQgfSA9IFVuaXRPZldvcmtDb250ZXh0O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21lckFwaSB7XG5cbiAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgYXBwLmdldCgnL2FwaS9vcmRlcnMvYnlDdXN0b21lci86Y3VzdG9tZXJJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRPcmRlcnNCeUN1c3RvbWVySWQpO1xuICAgIGFwcC5nZXQoJy9hcGkvb3JkZXJzLzpvcmRlcklkJywgYXV0aGVudGljYXRlLCB0aGlzLmdldE9yZGVyQnlJZCk7XG4gICAgYXBwLmdldCgnL2FwaS9vcmRlcnMvOmN1c3RvbWVySWQvYnlTdGF0dXMvOnN0YXR1cycsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRPcmRlckJ5U3RhdHVzKTtcbiAgICBhcHAucG9zdCgnL2FwaS9vcmRlcnMnLCBhdXRoZW50aWNhdGUsIHRoaXMuY3JlYXRlT3JkZXIpO1xuICAgIGFwcC5wb3N0KCcvYXBpL29yZGVycy9saW5lcycsYXV0aGVudGljYXRlLCAgdGhpcy5jcmVhdGVPcmRlckxpbmUpO1xuICAgIGFwcC5wdXQoJy9hcGkvb3JkZXJzLzpvcmRlcklkJyxhdXRoZW50aWNhdGUsICB0aGlzLnVwZGF0ZU9yZGVyKTtcbiAgICBhcHAucHV0KCcvYXBpL29yZGVycy9saW5lcy86b3JkZXJJZC86cHJvZHVjdElkJywgYXV0aGVudGljYXRlLCB0aGlzLnVwZGF0ZU9yZGVyTGluZSk7XG4gICAgYXBwLmRlbGV0ZSgnL2FwaS9vcmRlcnMvOm9yZGVySWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZGVsZXRlT3JkZXIpO1xuICAgIGFwcC5kZWxldGUoJy9hcGkvb3JkZXJzL2xpbmVzLzpvcmRlcklkLzpwcm9kdWN0SWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZGVsZXRlT3JkZXJMaW5lKTtcbiAgICBhcHAucG9zdCgnL2FwaS9vcmRlcnMvcGxhY2UnLCBhdXRoZW50aWNhdGUsIHRoaXMucGxhY2VPcmRlcik7XG4gICAgYXBwLnBvc3QoJy9hcGkvb3JkZXJzL3RyYW5zYWN0aW9uJywgdGhpcy5wcm9jZXNzVHJhbnNhY3Rpb24pO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgZ2V0T3JkZXJzQnlDdXN0b21lcklkKHJlcSkgeyBcbiAgICBjb25zdCB7IGN1c3RvbWVySWQgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS5nZXRPcmRlcnNCeUN1c3RvbWVySWQoUE9TVEdSRVNfQ09OVEVYVCwgY3VzdG9tZXJJZCk7IFxuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgZ2V0T3JkZXJCeUlkKHJlcSkge1xuICAgIGNvbnN0IHsgb3JkZXJJZCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLmdldE9yZGVyQnlJZChQT1NUR1JFU19DT05URVhULCB7IG9yZGVySWQgfSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyBnZXRPcmRlckJ5U3RhdHVzKHJlcSkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBjdXN0b21lcklkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UuZ2V0T3JkZXJCeVN0YXR1cyhQT1NUR1JFU19DT05URVhULCB7IHN0YXR1cywgY3VzdG9tZXJJZCB9KTtcbiAgfVxuICBcbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgY3JlYXRlT3JkZXIocmVxKSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSByZXE7XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS5jcmVhdGVPcmRlcihyZXEsIHsgZGJDb250ZXh0OiBQT1NUR1JFU19DT05URVhULCBvcmRlcjogYm9keSB9KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIHBsYWNlT3JkZXIocmVxKSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSByZXE7XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS5wbGFjZU9yZGVyKHJlcSwgeyBkYkNvbnRleHQ6IFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVyOiBib2R5IH0pO1xuICB9XG5cbiAgYXN5bmMgcHJvY2Vzc1RyYW5zYWN0aW9uKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxO1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UucHJvY2Vzc1RyYW5zYWN0aW9uKFBPU1RHUkVTX0NPTlRFWFQsIGJvZHkpO1xuICB9XG4gIFxuICBcbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgY3JlYXRlT3JkZXJMaW5lKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxO1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UuY3JlYXRlT3JkZXJMaW5lKHJlcSwgeyBkYkNvbnRleHQ6IFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVyTGluZTogYm9keSB9KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIHVwZGF0ZU9yZGVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSwgcGFyYW1zID0ge30gfSA9IHJlcTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLnVwZGF0ZU9yZGVyKHJlcSwgeyBkYkNvbnRleHQ6IFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVySWQ6IHBhcmFtcy5vcmRlcklkLCBvcmRlcjogYm9keSB9KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIHVwZGF0ZU9yZGVyTGluZShyZXEpIHtcbiAgICBjb25zdCB7IGJvZHksIHBhcmFtcyA9IHt9IH0gPSByZXE7XG4gICAgY29uc3QgeyBvcmRlcklkLCBwcm9kdWN0SWQgfSA9IHBhcmFtczsgXG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS51cGRhdGVPcmRlckxpbmUocmVxLCB7IGRiQ29udGV4dDogUE9TVEdSRVNfQ09OVEVYVCwgb3JkZXJMaW5lOiB7IC4uLmJvZHksIG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkOiBwcm9kdWN0SWQgfSB9KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGRlbGV0ZU9yZGVyKHJlcSkge1xuICAgIGNvbnN0IHsgb3JkZXJJZCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLmRlbGV0ZU9yZGVyKFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVySWQpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgZGVsZXRlT3JkZXJMaW5lKHJlcSkge1xuICAgIGNvbnN0IHsgb3JkZXJJZCwgcHJvZHVjdElkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UuZGVsZXRlT3JkZXJMaW5lKHJlcSwgeyBkYkNvbnRleHQ6IFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkOiBwcm9kdWN0SWQgfSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "order.js"
      ],
      "names": [
        "POSTGRES_CONTEXT",
        "UnitOfWorkContext",
        "CustomerApi",
        "PredefinedRole",
        "ADMIN",
        "CUSTOMER",
        "constructor",
        "app",
        "get",
        "authenticate",
        "getOrdersByCustomerId",
        "getOrderById",
        "getOrderByStatus",
        "post",
        "createOrder",
        "createOrderLine",
        "put",
        "updateOrder",
        "updateOrderLine",
        "delete",
        "deleteOrder",
        "deleteOrderLine",
        "placeOrder",
        "processTransaction",
        "req",
        "customerId",
        "params",
        "orderService",
        "orderId",
        "status",
        "body",
        "dbContext",
        "order",
        "orderLine",
        "productId",
        "externalProductId"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import * as orderService from '../services/order-service';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { RequiredRole, authenticate } from '../decorators/authorization-handler';\nimport { PredefinedRole } from '../helpers/enums/dal-types';\n\nconst { POSTGRES_CONTEXT } = UnitOfWorkContext;\n\nexport default class CustomerApi {\n\n  constructor(app) {\n    app.get('/api/orders/byCustomer/:customerId', authenticate, this.getOrdersByCustomerId);\n    app.get('/api/orders/:orderId', authenticate, this.getOrderById);\n    app.get('/api/orders/:customerId/byStatus/:status', authenticate, this.getOrderByStatus);\n    app.post('/api/orders', authenticate, this.createOrder);\n    app.post('/api/orders/lines',authenticate,  this.createOrderLine);\n    app.put('/api/orders/:orderId',authenticate,  this.updateOrder);\n    app.put('/api/orders/lines/:orderId/:productId', authenticate, this.updateOrderLine);\n    app.delete('/api/orders/:orderId', authenticate, this.deleteOrder);\n    app.delete('/api/orders/lines/:orderId/:productId', authenticate, this.deleteOrderLine);\n    app.post('/api/orders/place', authenticate, this.placeOrder);\n    app.post('/api/orders/transaction', this.processTransaction);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrdersByCustomerId(req) { \n    const { customerId } = req.params || {};\n    return await orderService.getOrdersByCustomerId(POSTGRES_CONTEXT, customerId); \n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrderById(req) {\n    const { orderId } = req.params || {};\n    return await orderService.getOrderById(POSTGRES_CONTEXT, { orderId });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrderByStatus(req) {\n    const { status, customerId } = req.params || {};\n    return await orderService.getOrderByStatus(POSTGRES_CONTEXT, { status, customerId });\n  }\n  \n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async createOrder(req) {\n    const { body } = req;\n    return await orderService.createOrder(req, { dbContext: POSTGRES_CONTEXT, order: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async placeOrder(req) {\n    const { body } = req;\n    return await orderService.placeOrder(req, { dbContext: POSTGRES_CONTEXT, order: body });\n  }\n\n  async processTransaction(req) {\n    const { body } = req;\n    return await orderService.processTransaction(POSTGRES_CONTEXT, body);\n  }\n  \n  \n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async createOrderLine(req) {\n    const { body } = req;\n    return await orderService.createOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderLine: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async updateOrder(req) {\n    const { body, params = {} } = req;\n    return await orderService.updateOrder(req, { dbContext: POSTGRES_CONTEXT, orderId: params.orderId, order: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async updateOrderLine(req) {\n    const { body, params = {} } = req;\n    const { orderId, productId } = params; \n    return await orderService.updateOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderLine: { ...body, orderId, externalProductId: productId } });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async deleteOrder(req) {\n    const { orderId } = req.params || {};\n    return await orderService.deleteOrder(POSTGRES_CONTEXT, orderId);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async deleteOrderLine(req) {\n    const { orderId, productId } = req.params || {};\n    return await orderService.deleteOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderId, externalProductId: productId });\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558355747011
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/services/order-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/services/order-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/services/order-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/services/order-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
        "sourceFileName": "order-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processTransaction = exports.placeOrder = exports.deleteOrder = exports.createOrder = exports.updateOrder = exports.deleteOrderLine = exports.createOrderLine = exports.updateOrderLine = exports.getOrderByStatus = exports.getOrderById = exports.getOrdersByCustomerId = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar orderRepo = _interopRequireWildcard(require(\"../dal/order-repo\"));\n\nvar _validator = require(\"../helpers/validator\");\n\nvar _mapper = require(\"../helpers/mapper\");\n\nvar _externalService = require(\"./external-service\");\n\nvar _config = require(\"../config\");\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _dalTypes = _interopRequireDefault(require(\"../helpers/enums/dal-types\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _cryptoService = require(\"./crypto-service\");\n\nvar _socketIO = require(\"../socketIO\");\n\nvar _socketTypes = _interopRequireDefault(require(\"../helpers/enums/socket-types\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'OrderService'\n});\n\nconst getOrdersByCustomerId = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  return (await orderRepo.getOrdersByCustomerId(dbContext, customerId)).map(order => (0, _mapper.mapRepoEntity)(order));\n};\n\nexports.getOrdersByCustomerId = getOrdersByCustomerId;\n\nconst getOrderById = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId'], {\n    dbContext,\n    orderId\n  });\n  return (0, _mapper.mapRepoEntity)((await orderRepo.getOrderById(dbContext, {\n    orderId,\n    trx\n  })));\n};\n\nexports.getOrderById = getOrderById;\n\nconst getOrderByStatus = async (dbContext, {\n  status,\n  customerId\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'status'], {\n    dbContext,\n    status,\n    customerId\n  });\n  return (0, _mapper.mapRepoEntity)((await orderRepo.getOrderByStatus(dbContext, {\n    status,\n    customerId\n  })));\n};\n\nexports.getOrderByStatus = getOrderByStatus;\n\nconst validateProductQuantity = (req, orderLine) => {\n  const {\n    quantity\n  } = orderLine;\n\n  if (quantity > _config.maxAllowedProductQuantity) {\n    logger.error((0, _objectSpread2.default)({}, req.tokenBody, orderLine), 'Quantity exceeds the max');\n    const error = new Error('QUANTITY_EXCEEDS_THE_MAX');\n    error.status = 412;\n    throw error;\n  }\n};\n\nconst updateOrderAmount = async (req, {\n  dbContext,\n  orderId,\n  trx\n}) => {\n  const {\n    orderLines = []\n  } = await getOrderById(dbContext, {\n    orderId,\n    trx\n  });\n  if (!orderLines.length) return;\n  const products = await Promise.all(orderLines.map(async ({\n    externalProductCategoryId\n  }) => await (0, _externalService.getProduct)(req, externalProductCategoryId)));\n\n  if (!products || !products.length) {\n    logger.error((0, _objectSpread2.default)({}, req.tokenBody, {\n      orderId\n    }), 'Empty product list');\n    const error = new Error('EMPTY_PRODUCT_LIST');\n    error.status = 500;\n    throw error;\n  }\n\n  const total_amount = products.reduce((acc, product) => {\n    const {\n      id,\n      quantity\n    } = orderLines.find(ol => ol.externalProductCategoryId === product.id);\n\n    if (quantity > product.available) {\n      logger.error({\n        id,\n        quantity,\n        orderId,\n        available: product.available\n      }, 'Not enough products');\n      const error = new Error('NOT_ENOUGH_PRODUCTS');\n      error.status = 500;\n      throw error;\n    }\n\n    acc = acc + product.price * quantity;\n    return acc;\n  }, 0);\n  console.log('total_amount', total_amount);\n  await orderRepo.updateOrder(dbContext, {\n    orderId,\n    order: {\n      total_amount\n    },\n    trx\n  });\n};\n\nconst updateOrderLine = async (req, {\n  dbContext,\n  orderLine,\n  trx\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductId'], (0, _objectSpread2.default)({\n    dbContext\n  }, orderLine));\n  validateProductQuantity(req, orderLine);\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        orderId,\n        externalProductId\n      } = orderLine;\n      await orderRepo.updateOrderLine(dbContext, {\n        orderId,\n        externalProductId,\n        orderLine: (0, _mapper.mapParams)(orderLine),\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n    } catch (error) {\n      reject(error);\n    }\n\n    resolve(true);\n  });\n};\n\nexports.updateOrderLine = updateOrderLine;\n\nconst createOrderLine = async (req, {\n  dbContext,\n  orderLine\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductName', 'externalProductId', 'quantity', 'externalProductCategoryId'], (0, _objectSpread2.default)({\n    dbContext\n  }, orderLine));\n  validateProductQuantity(req, orderLine);\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const dbOrderLine = await orderRepo.createOrderLine(dbContext, {\n        orderLine: (0, _mapper.mapParams)(orderLine),\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId: orderLine.orderId,\n        trx\n      });\n      resolve((0, _mapper.mapRepoEntity)(dbOrderLine));\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.createOrderLine = createOrderLine;\n\nconst deleteOrderLine = async (req, {\n  dbContext,\n  orderId,\n  externalProductId\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductId'], {\n    dbContext,\n    orderId,\n    externalProductId\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.deleteOrderLine(dbContext, {\n        orderId,\n        externalProductId,\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.deleteOrderLine = deleteOrderLine;\n\nconst updateOrder = async (req, {\n  dbContext,\n  orderId,\n  order,\n  skipUpdateAmount = false\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'order'], {\n    dbContext,\n    orderId,\n    order\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.updateOrder(dbContext, {\n        orderId,\n        order: (0, _mapper.mapParams)(order),\n        trx\n      });\n      const {\n        orderLines = []\n      } = order;\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.upsertOrderLine(dbContext, {\n          orderId,\n          externalProductId: orderLine.externalProductId,\n          orderLine: (0, _mapper.mapParams)((0, _objectSpread2.default)({}, orderLine, {\n            orderId\n          })),\n          trx\n        })));\n      }\n\n      !skipUpdateAmount && (await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      }));\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.updateOrder = updateOrder;\n\nconst createOrder = async (req, {\n  dbContext,\n  order\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], (0, _objectSpread2.default)({\n    dbContext\n  }, order));\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const mappedOrder = (0, _mapper.mapParams)(order);\n      const {\n        id: orderId\n      } = await orderRepo.createOrder(dbContext, {\n        order: (0, _objectSpread2.default)({\n          total_amount: 0,\n          status: _dalTypes.default.OrderStatus.PENDING\n        }, mappedOrder),\n        trx\n      });\n      const {\n        orderLines = []\n      } = order;\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.createOrderLine(dbContext, {\n          orderLine: (0, _objectSpread2.default)({}, (0, _mapper.mapParams)(orderLine), {\n            order_id: orderId\n          }),\n          trx\n        })));\n      }\n\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n      const dbOrder = await getOrderById(dbContext, {\n        orderId,\n        trx\n      });\n      resolve(dbOrder);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.createOrder = createOrder;\n\nconst deleteOrder = async (dbContext, orderId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId'], {\n    dbContext,\n    orderId\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        orderLines\n      } = await getOrderById(dbContext, {\n        orderId,\n        trx\n      });\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async ({\n          externalProductId\n        }) => await orderRepo.deleteOrderLine(dbContext, {\n          orderId,\n          externalProductId,\n          trx\n        })));\n      }\n\n      await orderRepo.deleteOrder(dbContext, {\n        orderId,\n        trx\n      });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.deleteOrder = deleteOrder;\n\nconst placeOrder = async (req, {\n  dbContext,\n  order\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'id'], (0, _objectSpread2.default)({\n    dbContext\n  }, order));\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        customerId,\n        totalAmount\n      } = await getOrderById(dbContext, {\n        orderId: order.id,\n        trx\n      });\n      const formUrl = await (0, _externalService.initiatePayment)({\n        customerId,\n        amount: totalAmount\n      });\n      resolve({\n        formUrl\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.placeOrder = placeOrder;\n\nconst processTransaction = async (dbContext, body) => {\n  console.log('body', body);\n  const {\n    customerId\n  } = (0, _cryptoService.decrypt)(body.content, _config.crypto.paymentEncryptionKey);\n  const notifyType = _socketTypes.default.PAYMENT_RESULT;\n\n  if (!customerId) {\n    return await (0, _socketIO.notify)({\n      type: notifyType,\n      msg: {\n        success: false\n      }\n    });\n  }\n\n  const {\n    id: orderId\n  } = await getOrderByStatus(dbContext, {\n    status: _dalTypes.default.OrderStatus.PENDING,\n    customerId\n  });\n  await updateOrder({}, {\n    dbContext,\n    orderId,\n    order: {\n      status: _dalTypes.default.OrderStatus.PROCESSED\n    },\n    skipUpdateAmount: true\n  });\n  return await (0, _socketIO.notify)({\n    type: notifyType,\n    msg: {\n      success: true\n    }\n  });\n};\n\nexports.processTransaction = processTransaction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLXNlcnZpY2UuanMiXSwibmFtZXMiOlsibG9nZ2VyIiwiYnVueWFuIiwiY3JlYXRlTG9nZ2VyIiwibmFtZSIsImdldE9yZGVyc0J5Q3VzdG9tZXJJZCIsImRiQ29udGV4dCIsImN1c3RvbWVySWQiLCJvcmRlclJlcG8iLCJtYXAiLCJvcmRlciIsImdldE9yZGVyQnlJZCIsIm9yZGVySWQiLCJ0cngiLCJnZXRPcmRlckJ5U3RhdHVzIiwic3RhdHVzIiwidmFsaWRhdGVQcm9kdWN0UXVhbnRpdHkiLCJyZXEiLCJvcmRlckxpbmUiLCJxdWFudGl0eSIsIm1heEFsbG93ZWRQcm9kdWN0UXVhbnRpdHkiLCJlcnJvciIsInRva2VuQm9keSIsIkVycm9yIiwidXBkYXRlT3JkZXJBbW91bnQiLCJvcmRlckxpbmVzIiwibGVuZ3RoIiwicHJvZHVjdHMiLCJQcm9taXNlIiwiYWxsIiwiZXh0ZXJuYWxQcm9kdWN0Q2F0ZWdvcnlJZCIsInRvdGFsX2Ftb3VudCIsInJlZHVjZSIsImFjYyIsInByb2R1Y3QiLCJpZCIsImZpbmQiLCJvbCIsImF2YWlsYWJsZSIsInByaWNlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZU9yZGVyIiwidXBkYXRlT3JkZXJMaW5lIiwiVW5pdE9mV29yayIsInRyYW5zYWN0IiwicmVzb2x2ZSIsInJlamVjdCIsImV4dGVybmFsUHJvZHVjdElkIiwiY3JlYXRlT3JkZXJMaW5lIiwiZGJPcmRlckxpbmUiLCJkZWxldGVPcmRlckxpbmUiLCJza2lwVXBkYXRlQW1vdW50IiwidXBzZXJ0T3JkZXJMaW5lIiwiY3JlYXRlT3JkZXIiLCJtYXBwZWRPcmRlciIsIkRhbFR5cGVzIiwiT3JkZXJTdGF0dXMiLCJQRU5ESU5HIiwib3JkZXJfaWQiLCJkYk9yZGVyIiwiZGVsZXRlT3JkZXIiLCJwbGFjZU9yZGVyIiwidG90YWxBbW91bnQiLCJmb3JtVXJsIiwiYW1vdW50IiwicHJvY2Vzc1RyYW5zYWN0aW9uIiwiYm9keSIsImNvbnRlbnQiLCJjcnlwdG8iLCJwYXltZW50RW5jcnlwdGlvbktleSIsIm5vdGlmeVR5cGUiLCJTb2NrZVR5cGVzIiwiUEFZTUVOVF9SRVNVTFQiLCJ0eXBlIiwibXNnIiwic3VjY2VzcyIsIlBST0NFU1NFRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFTyxNQUFNQyxxQkFBcUIsR0FBRyxPQUFPQyxTQUFQLEVBQWtCQyxVQUFsQixLQUFpQztBQUNwRSx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsWUFBZCxDQUF0QixFQUFtRDtBQUFFRCxJQUFBQSxTQUFGO0FBQWFDLElBQUFBO0FBQWIsR0FBbkQ7QUFDQSxTQUFPLENBQUMsTUFBTUMsU0FBUyxDQUFDSCxxQkFBVixDQUFnQ0MsU0FBaEMsRUFBMkNDLFVBQTNDLENBQVAsRUFBK0RFLEdBQS9ELENBQW1FQyxLQUFLLElBQUksMkJBQWNBLEtBQWQsQ0FBNUUsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNQyxZQUFZLEdBQUcsT0FBT0wsU0FBUCxFQUFrQjtBQUFFTSxFQUFBQSxPQUFGO0FBQVdDLEVBQUFBO0FBQVgsQ0FBbEIsS0FBdUM7QUFDakUsd0NBQXNCLENBQUMsV0FBRCxFQUFjLFNBQWQsQ0FBdEIsRUFBZ0Q7QUFBRVAsSUFBQUEsU0FBRjtBQUFhTSxJQUFBQTtBQUFiLEdBQWhEO0FBQ0EsU0FBTyw0QkFBZSxNQUFNSixTQUFTLENBQUNHLFlBQVYsQ0FBdUJMLFNBQXZCLEVBQWtDO0FBQUVNLElBQUFBLE9BQUY7QUFBV0MsSUFBQUE7QUFBWCxHQUFsQyxDQUFyQixFQUFQO0FBQ0QsQ0FITTs7OztBQUtBLE1BQU1DLGdCQUFnQixHQUFHLE9BQU9SLFNBQVAsRUFBa0I7QUFBRVMsRUFBQUEsTUFBRjtBQUFVUixF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O0FBRmEsR0FBUCxDQUFiO0FBSUQsQ0FuQk0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG9yZGVyUmVwbyBmcm9tICcuLi9kYWwvb3JkZXItcmVwbyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVByZWNvbmRpdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvcic7XG5pbXBvcnQgeyBtYXBSZXBvRW50aXR5LCBtYXBQYXJhbXMgfSBmcm9tICcuLi9oZWxwZXJzL21hcHBlcic7XG5pbXBvcnQgeyBnZXRQcm9kdWN0LCBpbml0aWF0ZVBheW1lbnQgfSBmcm9tICcuL2V4dGVybmFsLXNlcnZpY2UnO1xuaW1wb3J0IHsgbWF4QWxsb3dlZFByb2R1Y3RRdWFudGl0eSwgY3J5cHRvIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCBVbml0T2ZXb3JrIGZyb20gJy4uL2RhdGFiYXNlL3VuaXRfb2Zfd29yay5qcyc7XG5pbXBvcnQgRGFsVHlwZXMgZnJvbSAnLi4vaGVscGVycy9lbnVtcy9kYWwtdHlwZXMnO1xuaW1wb3J0IGJ1bnlhbiBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgZGVjcnlwdCB9IGZyb20gJy4vY3J5cHRvLXNlcnZpY2UnO1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSAnLi4vc29ja2V0SU8nO1xuaW1wb3J0IFNvY2tlVHlwZXMgZnJvbSAnLi4vaGVscGVycy9lbnVtcy9zb2NrZXQtdHlwZXMnO1xuXG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ09yZGVyU2VydmljZSd9KTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyc0J5Q3VzdG9tZXJJZCA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdjdXN0b21lcklkJ10sIHsgZGJDb250ZXh0LCBjdXN0b21lcklkIH0pO1xuICByZXR1cm4gKGF3YWl0IG9yZGVyUmVwby5nZXRPcmRlcnNCeUN1c3RvbWVySWQoZGJDb250ZXh0LCBjdXN0b21lcklkKSkubWFwKG9yZGVyID0+IG1hcFJlcG9FbnRpdHkob3JkZXIpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlckJ5SWQgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVySWQsIHRyeCB9KSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdvcmRlcklkJ10sIHsgZGJDb250ZXh0LCBvcmRlcklkIH0pO1xuICByZXR1cm4gbWFwUmVwb0VudGl0eSgoYXdhaXQgb3JkZXJSZXBvLmdldE9yZGVyQnlJZChkYkNvbnRleHQsIHsgb3JkZXJJZCwgdHJ4IH0pKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJCeVN0YXR1cyA9IGFzeW5jIChkYkNvbnRleHQsIHsgc3RhdHVzLCBjdXN0b21lcklkIH0pID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ3N0YXR1cyddLCB7IGRiQ29udGV4dCwgc3RhdHVzLCBjdXN0b21lcklkIH0pO1xuICByZXR1cm4gbWFwUmVwb0VudGl0eSgoYXdhaXQgb3JkZXJSZXBvLmdldE9yZGVyQnlTdGF0dXMoZGJDb250ZXh0LCB7IHN0YXR1cywgY3VzdG9tZXJJZCB9KSkpO1xufTtcblxuY29uc3QgdmFsaWRhdGVQcm9kdWN0UXVhbnRpdHkgPSAocmVxLCBvcmRlckxpbmUpID0+IHtcbiAgY29uc3QgeyBxdWFudGl0eSB9ID0gb3JkZXJMaW5lO1xuICBpZiAocXVhbnRpdHkgPiBtYXhBbGxvd2VkUHJvZHVjdFF1YW50aXR5KSB7XG4gICAgbG9nZ2VyLmVycm9yKHsgLi4ucmVxLnRva2VuQm9keSwgLi4ub3JkZXJMaW5lIH0sICdRdWFudGl0eSBleGNlZWRzIHRoZSBtYXgnKTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignUVVBTlRJVFlfRVhDRUVEU19USEVfTUFYJyk7XG4gICAgZXJyb3Iuc3RhdHVzID0gNDEyO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVPcmRlckFtb3VudCA9IGFzeW5jKHJlcSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIHRyeCB9KSA9PiB7XG4gIGNvbnN0IHsgb3JkZXJMaW5lcyA9IFtdIH0gPSBhd2FpdCBnZXRPcmRlckJ5SWQoZGJDb250ZXh0LCB7IG9yZGVySWQsIHRyeCB9KTtcbiAgaWYgKCFvcmRlckxpbmVzLmxlbmd0aCkgcmV0dXJuO1xuXG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvbWlzZS5hbGwob3JkZXJMaW5lcy5tYXAoYXN5bmMgKHsgZXh0ZXJuYWxQcm9kdWN0Q2F0ZWdvcnlJZCB9KSA9PiBhd2FpdCBnZXRQcm9kdWN0KHJlcSwgZXh0ZXJuYWxQcm9kdWN0Q2F0ZWdvcnlJZCkpKTtcbiAgaWYgKCFwcm9kdWN0cyB8fCAhcHJvZHVjdHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLmVycm9yKHsgLi4ucmVxLnRva2VuQm9keSwgb3JkZXJJZCB9LCAnRW1wdHkgcHJvZHVjdCBsaXN0Jyk7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0VNUFRZX1BST0RVQ1RfTElTVCcpO1xuICAgIGVycm9yLnN0YXR1cyA9IDUwMDtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsX2Ftb3VudCA9IHByb2R1Y3RzLnJlZHVjZSgoYWNjLCBwcm9kdWN0KSA9PiB7XG4gICAgY29uc3QgeyBpZCwgcXVhbnRpdHkgfSA9IG9yZGVyTGluZXMuZmluZChvbCA9PiBvbC5leHRlcm5hbFByb2R1Y3RDYXRlZ29yeUlkID09PSBwcm9kdWN0LmlkKTtcbiAgICBpZiAocXVhbnRpdHkgPiBwcm9kdWN0LmF2YWlsYWJsZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKHsgaWQsIHF1YW50aXR5LCBvcmRlcklkLCBhdmFpbGFibGU6IHByb2R1Y3QuYXZhaWxhYmxlIH0sICdOb3QgZW5vdWdoIHByb2R1Y3RzJyk7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignTk9UX0VOT1VHSF9QUk9EVUNUUycpO1xuICAgICAgZXJyb3Iuc3RhdHVzID0gNTAwO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGFjYyA9IGFjYyArIChwcm9kdWN0LnByaWNlICogcXVhbnRpdHkpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIDApO1xuICBjb25zb2xlLmxvZygndG90YWxfYW1vdW50JywgdG90YWxfYW1vdW50KTtcblxuICBhd2FpdCBvcmRlclJlcG8udXBkYXRlT3JkZXIoZGJDb250ZXh0LCB7IG9yZGVySWQsIG9yZGVyOiB7IHRvdGFsX2Ftb3VudCB9LCB0cnggfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlT3JkZXJMaW5lID0gYXN5bmMgKHJlcSwgeyBkYkNvbnRleHQsIG9yZGVyTGluZSwgdHJ4IH0pID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdvcmRlcklkJywgJ2V4dGVybmFsUHJvZHVjdElkJ10sIHsgZGJDb250ZXh0LCAuLi5vcmRlckxpbmUgfSk7XG4gIHZhbGlkYXRlUHJvZHVjdFF1YW50aXR5KHJlcSwgb3JkZXJMaW5lKTtcbiBcbiAgcmV0dXJuIGF3YWl0ICgobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KSkudHJhbnNhY3QoYXN5bmMgKHRyeCwgcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgb3JkZXJJZCwgZXh0ZXJuYWxQcm9kdWN0SWQgfSA9IG9yZGVyTGluZTtcbiAgICAgIGF3YWl0IG9yZGVyUmVwby51cGRhdGVPcmRlckxpbmUoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCBvcmRlckxpbmU6IG1hcFBhcmFtcyhvcmRlckxpbmUpLCB0cnggfSk7XG4gICAgICBhd2FpdCB1cGRhdGVPcmRlckFtb3VudChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCB0cnggfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgcmVzb2x2ZSh0cnVlKTtcbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyTGluZSA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlckxpbmUgfSkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnb3JkZXJJZCcsICdleHRlcm5hbFByb2R1Y3ROYW1lJywgJ2V4dGVybmFsUHJvZHVjdElkJywgJ3F1YW50aXR5JywgJ2V4dGVybmFsUHJvZHVjdENhdGVnb3J5SWQnXSwgeyBkYkNvbnRleHQsIC4uLm9yZGVyTGluZSB9KTtcbiAgdmFsaWRhdGVQcm9kdWN0UXVhbnRpdHkocmVxLCBvcmRlckxpbmUpO1xuICBcbiAgcmV0dXJuIGF3YWl0ICgobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KSkudHJhbnNhY3QoYXN5bmMgKHRyeCwgcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHsgIFxuICAgICAgY29uc3QgZGJPcmRlckxpbmUgPSBhd2FpdCBvcmRlclJlcG8uY3JlYXRlT3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlckxpbmU6IG1hcFBhcmFtcyhvcmRlckxpbmUpLCB0cnggfSk7XG4gICAgICBhd2FpdCB1cGRhdGVPcmRlckFtb3VudChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkOiBvcmRlckxpbmUub3JkZXJJZCwgdHJ4IH0pO1xuICAgICAgcmVzb2x2ZShtYXBSZXBvRW50aXR5KGRiT3JkZXJMaW5lKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlT3JkZXJMaW5lID0gYXN5bmMgKHJlcSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkIH0pID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ29yZGVySWQnLCAnZXh0ZXJuYWxQcm9kdWN0SWQnXSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkIH0pO1xuICBcbiAgcmV0dXJuIGF3YWl0ICgobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KSkudHJhbnNhY3QoYXN5bmMgKHRyeCwgcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9yZGVyUmVwby5kZWxldGVPcmRlckxpbmUoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCB0cnggfSk7XG4gICAgICBhd2FpdCB1cGRhdGVPcmRlckFtb3VudChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCB0cnggfSk7XG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyID0gYXN5bmMgKHJlcSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIG9yZGVyLCBza2lwVXBkYXRlQW1vdW50ID0gZmFsc2UgfSkgPT4geyBcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ29yZGVySWQnLCAnb3JkZXInXSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIG9yZGVyIH0pO1xuXG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7ICBcbiAgICAgIGF3YWl0IG9yZGVyUmVwby51cGRhdGVPcmRlcihkYkNvbnRleHQsIHsgb3JkZXJJZCwgb3JkZXI6IG1hcFBhcmFtcyhvcmRlciksIHRyeCB9KTtcbiAgICBcbiAgICAgIGNvbnN0IHsgb3JkZXJMaW5lcyA9IFtdIH0gPSBvcmRlcjtcbiAgICAgIGlmIChvcmRlckxpbmVzLmxlbmd0aCl7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG9yZGVyTGluZXMubWFwKGFzeW5jIG9yZGVyTGluZSA9PiBhd2FpdCBvcmRlclJlcG8udXBzZXJ0T3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZDogb3JkZXJMaW5lLmV4dGVybmFsUHJvZHVjdElkLCBvcmRlckxpbmU6IG1hcFBhcmFtcyh7IC4uLm9yZGVyTGluZSwgb3JkZXJJZCB9KSwgdHJ4IH0pKSk7XG4gICAgICB9XG5cbiAgICAgICFza2lwVXBkYXRlQW1vdW50ICYmIGF3YWl0IHVwZGF0ZU9yZGVyQW1vdW50KHJlcSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIHRyeCB9KTtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KSk7XG59O1xuIFxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyID0gYXN5bmMgKHJlcSwgeyBkYkNvbnRleHQsIG9yZGVyIH0pID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2N1c3RvbWVySWQnXSwgeyBkYkNvbnRleHQsIC4uLm9yZGVyIH0pO1xuXG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtYXBwZWRPcmRlciA9IG1hcFBhcmFtcyhvcmRlcik7XG4gICAgICBjb25zdCB7IGlkOiBvcmRlcklkIH0gPSBhd2FpdCBvcmRlclJlcG8uY3JlYXRlT3JkZXIoZGJDb250ZXh0LCB7IG9yZGVyOiB7IHRvdGFsX2Ftb3VudDogMCwgc3RhdHVzOiBEYWxUeXBlcy5PcmRlclN0YXR1cy5QRU5ESU5HLCAuLi5tYXBwZWRPcmRlciB9LCB0cnggfSk7XG4gICAgXG4gICAgICBjb25zdCB7IG9yZGVyTGluZXMgPSBbXSB9ID0gb3JkZXI7XG4gICAgICBpZiAob3JkZXJMaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwob3JkZXJMaW5lcy5tYXAoYXN5bmMgb3JkZXJMaW5lID0+IGF3YWl0IG9yZGVyUmVwby5jcmVhdGVPcmRlckxpbmUoZGJDb250ZXh0LCB7IG9yZGVyTGluZTogeyAuLi5tYXBQYXJhbXMob3JkZXJMaW5lKSwgb3JkZXJfaWQ6IG9yZGVySWQgfSwgdHJ4IH0pKSk7XG4gICAgICB9XG4gICAgICBhd2FpdCB1cGRhdGVPcmRlckFtb3VudChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCB0cnggfSk7XG4gICAgICBjb25zdCBkYk9yZGVyID0gYXdhaXQgZ2V0T3JkZXJCeUlkKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSk7XG4gICAgICByZXNvbHZlKGRiT3JkZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU9yZGVyID0gYXN5bmMgKGRiQ29udGV4dCwgb3JkZXJJZCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnb3JkZXJJZCddLCB7IGRiQ29udGV4dCwgb3JkZXJJZCB9KTtcblxuICByZXR1cm4gYXdhaXQgKChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpKS50cmFuc2FjdChhc3luYyAodHJ4LCByZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBvcmRlckxpbmVzIH0gPSBhd2FpdCBnZXRPcmRlckJ5SWQoZGJDb250ZXh0LCB7IG9yZGVySWQsIHRyeCB9KTtcblxuICAgICAgaWYgKG9yZGVyTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG9yZGVyTGluZXMubWFwKGFzeW5jICh7IGV4dGVybmFsUHJvZHVjdElkIH0pID0+IGF3YWl0IG9yZGVyUmVwby5kZWxldGVPcmRlckxpbmUoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCB0cnggfSkpKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgb3JkZXJSZXBvLmRlbGV0ZU9yZGVyKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSk7XG5cbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgcGxhY2VPcmRlciA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlciB9KSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdpZCddLCB7IGRiQ29udGV4dCwgLi4ub3JkZXIgfSk7XG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGN1c3RvbWVySWQsIHRvdGFsQW1vdW50IH0gPSBhd2FpdCBnZXRPcmRlckJ5SWQoZGJDb250ZXh0LCB7IG9yZGVySWQ6IG9yZGVyLmlkLCB0cnggfSk7XG4gICAgICBjb25zdCBmb3JtVXJsID0gYXdhaXQgaW5pdGlhdGVQYXltZW50KHsgY3VzdG9tZXJJZCwgYW1vdW50OiB0b3RhbEFtb3VudCB9KTtcbiAgICAgXG4gICAgICByZXNvbHZlKHsgZm9ybVVybCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzVHJhbnNhY3Rpb24gPSBhc3luYyhkYkNvbnRleHQsIGJvZHkpID0+IHtcbiAgY29uc29sZS5sb2coJ2JvZHknLCBib2R5KTtcbiAgY29uc3QgeyBjdXN0b21lcklkIH0gPSBkZWNyeXB0KGJvZHkuY29udGVudCwgY3J5cHRvLnBheW1lbnRFbmNyeXB0aW9uS2V5KTtcbiAgY29uc3Qgbm90aWZ5VHlwZSA9IFNvY2tlVHlwZXMuUEFZTUVOVF9SRVNVTFQ7XG5cbiAgaWYgKCFjdXN0b21lcklkKXsgICBcbiAgICByZXR1cm4gYXdhaXQgbm90aWZ5KHtcbiAgICAgIHR5cGU6IG5vdGlmeVR5cGUsXG4gICAgICBtc2c6IHsgc3VjY2VzczogZmFsc2UgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHtpZDogb3JkZXJJZCB9ID0gYXdhaXQgZ2V0T3JkZXJCeVN0YXR1cyhkYkNvbnRleHQsIHsgc3RhdHVzOiBEYWxUeXBlcy5PcmRlclN0YXR1cy5QRU5ESU5HLCBjdXN0b21lcklkIH0pO1xuICBhd2FpdCB1cGRhdGVPcmRlcih7fSwgeyBkYkNvbnRleHQsIG9yZGVySWQsIG9yZGVyOiB7IHN0YXR1czogRGFsVHlwZXMuT3JkZXJTdGF0dXMuUFJPQ0VTU0VEIH0sIHNraXBVcGRhdGVBbW91bnQ6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGF3YWl0IG5vdGlmeSh7XG4gICAgdHlwZTogbm90aWZ5VHlwZSxcbiAgICBtc2c6IHsgc3VjY2VzczogdHJ1ZSB9LFxuICB9KTtcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "order-service.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "getOrdersByCustomerId",
        "dbContext",
        "customerId",
        "orderRepo",
        "map",
        "order",
        "getOrderById",
        "orderId",
        "trx",
        "getOrderByStatus",
        "status",
        "validateProductQuantity",
        "req",
        "orderLine",
        "quantity",
        "maxAllowedProductQuantity",
        "error",
        "tokenBody",
        "Error",
        "updateOrderAmount",
        "orderLines",
        "length",
        "products",
        "Promise",
        "all",
        "externalProductCategoryId",
        "total_amount",
        "reduce",
        "acc",
        "product",
        "id",
        "find",
        "ol",
        "available",
        "price",
        "console",
        "log",
        "updateOrder",
        "updateOrderLine",
        "UnitOfWork",
        "transact",
        "resolve",
        "reject",
        "externalProductId",
        "createOrderLine",
        "dbOrderLine",
        "deleteOrderLine",
        "skipUpdateAmount",
        "upsertOrderLine",
        "createOrder",
        "mappedOrder",
        "DalTypes",
        "OrderStatus",
        "PENDING",
        "order_id",
        "dbOrder",
        "deleteOrder",
        "placeOrder",
        "totalAmount",
        "formUrl",
        "amount",
        "processTransaction",
        "body",
        "content",
        "crypto",
        "paymentEncryptionKey",
        "notifyType",
        "SockeTypes",
        "PAYMENT_RESULT",
        "type",
        "msg",
        "success",
        "PROCESSED"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "sourcesContent": [
        "import * as orderRepo from '../dal/order-repo';\nimport { validatePreconditions } from '../helpers/validator';\nimport { mapRepoEntity, mapParams } from '../helpers/mapper';\nimport { getProduct, initiatePayment } from './external-service';\nimport { maxAllowedProductQuantity, crypto } from '../config';\nimport UnitOfWork from '../database/unit_of_work.js';\nimport DalTypes from '../helpers/enums/dal-types';\nimport bunyan from 'bunyan';\nimport { decrypt } from './crypto-service';\nimport { notify } from '../socketIO';\nimport SockeTypes from '../helpers/enums/socket-types';\n\nconst logger = bunyan.createLogger({ name: 'OrderService'});\n\nexport const getOrdersByCustomerId = async (dbContext, customerId) => { \n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  return (await orderRepo.getOrdersByCustomerId(dbContext, customerId)).map(order => mapRepoEntity(order));\n};\n\nexport const getOrderById = async (dbContext, { orderId, trx }) => {\n  validatePreconditions(['dbContext', 'orderId'], { dbContext, orderId });\n  return mapRepoEntity((await orderRepo.getOrderById(dbContext, { orderId, trx })));\n};\n\nexport const getOrderByStatus = async (dbContext, { status, customerId }) => {\n  validatePreconditions(['dbContext', 'status'], { dbContext, status, customerId });\n  return mapRepoEntity((await orderRepo.getOrderByStatus(dbContext, { status, customerId })));\n};\n\nconst validateProductQuantity = (req, orderLine) => {\n  const { quantity } = orderLine;\n  if (quantity > maxAllowedProductQuantity) {\n    logger.error({ ...req.tokenBody, ...orderLine }, 'Quantity exceeds the max');\n    const error = new Error('QUANTITY_EXCEEDS_THE_MAX');\n    error.status = 412;\n    throw error;\n  }\n};\n\nconst updateOrderAmount = async(req, { dbContext, orderId, trx }) => {\n  const { orderLines = [] } = await getOrderById(dbContext, { orderId, trx });\n  if (!orderLines.length) return;\n\n  const products = await Promise.all(orderLines.map(async ({ externalProductCategoryId }) => await getProduct(req, externalProductCategoryId)));\n  if (!products || !products.length) {\n    logger.error({ ...req.tokenBody, orderId }, 'Empty product list');\n    const error = new Error('EMPTY_PRODUCT_LIST');\n    error.status = 500;\n    throw error;\n  }\n\n  const total_amount = products.reduce((acc, product) => {\n    const { id, quantity } = orderLines.find(ol => ol.externalProductCategoryId === product.id);\n    if (quantity > product.available) {\n      logger.error({ id, quantity, orderId, available: product.available }, 'Not enough products');\n      const error = new Error('NOT_ENOUGH_PRODUCTS');\n      error.status = 500;\n      throw error;\n    }\n    acc = acc + (product.price * quantity);\n    return acc;\n  }, 0);\n  console.log('total_amount', total_amount);\n\n  await orderRepo.updateOrder(dbContext, { orderId, order: { total_amount }, trx });\n};\n\nexport const updateOrderLine = async (req, { dbContext, orderLine, trx }) => { \n  validatePreconditions(['dbContext', 'orderId', 'externalProductId'], { dbContext, ...orderLine });\n  validateProductQuantity(req, orderLine);\n \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { orderId, externalProductId } = orderLine;\n      await orderRepo.updateOrderLine(dbContext, { orderId, externalProductId, orderLine: mapParams(orderLine), trx });\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n    } catch (error) {\n      reject(error);\n    }\n\n    resolve(true);\n  }));\n};\n\nexport const createOrderLine = async (req, { dbContext, orderLine }) => {\n  validatePreconditions(['dbContext', 'orderId', 'externalProductName', 'externalProductId', 'quantity', 'externalProductCategoryId'], { dbContext, ...orderLine });\n  validateProductQuantity(req, orderLine);\n  \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {  \n      const dbOrderLine = await orderRepo.createOrderLine(dbContext, { orderLine: mapParams(orderLine), trx });\n      await updateOrderAmount(req, { dbContext, orderId: orderLine.orderId, trx });\n      resolve(mapRepoEntity(dbOrderLine));\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const deleteOrderLine = async (req, { dbContext, orderId, externalProductId }) => {\n  validatePreconditions(['dbContext', 'orderId', 'externalProductId'], { dbContext, orderId, externalProductId });\n  \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.deleteOrderLine(dbContext, { orderId, externalProductId, trx });\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const updateOrder = async (req, { dbContext, orderId, order, skipUpdateAmount = false }) => { \n  validatePreconditions(['dbContext', 'orderId', 'order'], { dbContext, orderId, order });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {  \n      await orderRepo.updateOrder(dbContext, { orderId, order: mapParams(order), trx });\n    \n      const { orderLines = [] } = order;\n      if (orderLines.length){\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.upsertOrderLine(dbContext, { orderId, externalProductId: orderLine.externalProductId, orderLine: mapParams({ ...orderLine, orderId }), trx })));\n      }\n\n      !skipUpdateAmount && await updateOrderAmount(req, { dbContext, orderId, trx });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n \nexport const createOrder = async (req, { dbContext, order }) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, ...order });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const mappedOrder = mapParams(order);\n      const { id: orderId } = await orderRepo.createOrder(dbContext, { order: { total_amount: 0, status: DalTypes.OrderStatus.PENDING, ...mappedOrder }, trx });\n    \n      const { orderLines = [] } = order;\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.createOrderLine(dbContext, { orderLine: { ...mapParams(orderLine), order_id: orderId }, trx })));\n      }\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n      const dbOrder = await getOrderById(dbContext, { orderId, trx });\n      resolve(dbOrder);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const deleteOrder = async (dbContext, orderId) => {\n  validatePreconditions(['dbContext', 'orderId'], { dbContext, orderId });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { orderLines } = await getOrderById(dbContext, { orderId, trx });\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async ({ externalProductId }) => await orderRepo.deleteOrderLine(dbContext, { orderId, externalProductId, trx })));\n      }\n\n      await orderRepo.deleteOrder(dbContext, { orderId, trx });\n\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const placeOrder = async (req, { dbContext, order }) => {\n  validatePreconditions(['dbContext', 'id'], { dbContext, ...order });\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { customerId, totalAmount } = await getOrderById(dbContext, { orderId: order.id, trx });\n      const formUrl = await initiatePayment({ customerId, amount: totalAmount });\n     \n      resolve({ formUrl });\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const processTransaction = async(dbContext, body) => {\n  console.log('body', body);\n  const { customerId } = decrypt(body.content, crypto.paymentEncryptionKey);\n  const notifyType = SockeTypes.PAYMENT_RESULT;\n\n  if (!customerId){   \n    return await notify({\n      type: notifyType,\n      msg: { success: false },\n    });\n  }\n\n  const {id: orderId } = await getOrderByStatus(dbContext, { status: DalTypes.OrderStatus.PENDING, customerId });\n  await updateOrder({}, { dbContext, orderId, order: { status: DalTypes.OrderStatus.PROCESSED }, skipUpdateAmount: true });\n\n  return await notify({\n    type: notifyType,\n    msg: { success: true },\n  });\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558367569199
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/dal\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/dal/order-repo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/dal/order-repo.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/dal/order-repo.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/dal/order-repo.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
        "sourceFileName": "order-repo.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createOrder = exports.createOrderLine = exports.deleteOrder = exports.deleteOrderLine = exports.updateOrder = exports.upsertOrderLine = exports.updateOrderLine = exports.getOrdersByCustomerId = exports.getOrderByStatus = exports.getOrderById = exports.ORDER_LINE_TABLE = exports.ORDER_TABLE = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _unit_of_work2 = require(\"../helpers/enums/unit_of_work\");\n\nvar _config = require(\"../config\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _formatter = require(\"../helpers/formatter\");\n\nconst ORDER_TABLE = 'order';\nexports.ORDER_TABLE = ORDER_TABLE;\nconst ORDER_LINE_TABLE = 'order_line';\nexports.ORDER_LINE_TABLE = ORDER_LINE_TABLE;\nconst ORDER_TABLE_COLUMNS = ['id', 'customer_id', 'total_amount', 'status', 'created_at', 'updated_at'];\nconst ORDER_LINE_TABLE_COLUMNS = ['id', 'order_id', 'external_product_name', 'external_product_id', 'external_product_category_id', 'quantity', 'created_at', 'updated_at'];\n\nconst getOrderById = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  const order = await unitOfWork.getOneWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id = :orderId', {\n      orderId,\n      ORDER_TABLE\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    }),\n    trx\n  });\n  const {\n    orderLines,\n    id\n  } = order;\n  if (!id) return {};\n  return (0, _objectSpread2.default)({}, order, {\n    orderLines: orderLines ? orderLines.filter(ol => ol) : []\n  });\n};\n\nexports.getOrderById = getOrderById;\n\nconst getOrderByStatus = async (dbContext, {\n  status,\n  customerId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  const order = await unitOfWork.getOneWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.customer_id = :customerId AND :ORDER_TABLE:.status = :status', {\n      customerId,\n      status,\n      ORDER_TABLE\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    }),\n    trx\n  });\n  const {\n    orderLines,\n    id\n  } = order;\n  if (!id) return {};\n  return (0, _objectSpread2.default)({}, order, {\n    orderLines: orderLines ? orderLines.filter(ol => ol) : []\n  });\n};\n\nexports.getOrderByStatus = getOrderByStatus;\n\nconst getOrdersByCustomerId = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return (await unitOfWork.getAllWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw('customer_id = :customerId', {\n      customerId\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    })\n  })).map(order => (0, _objectSpread2.default)({}, order, {\n    orderLines: order.orderLines.filter(ol => ol)\n  }));\n};\n\nexports.getOrdersByCustomerId = getOrdersByCustomerId;\n\nconst updateOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  orderLine,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', {\n      orderId,\n      externalProductId\n    }),\n    trx\n  });\n};\n\nexports.updateOrderLine = updateOrderLine;\n\nconst upsertOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  orderLine,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.create(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    onConflict: unitOfWork.dbConnection.raw(`ON CONFLICT (order_id, external_product_Id) DO UPDATE SET ${unitOfWork.formatSetValues(ORDER_LINE_TABLE_COLUMNS, orderLine)}`),\n    trx\n  });\n};\n\nexports.upsertOrderLine = upsertOrderLine;\n\nconst updateOrder = async (dbContext, {\n  orderId,\n  order,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    where: unitOfWork.dbConnection.raw('id = :orderId', {\n      orderId\n    }),\n    trx\n  });\n};\n\nexports.updateOrder = updateOrder;\n\nconst deleteOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', {\n      orderId,\n      externalProductId\n    }),\n    trx\n  });\n};\n\nexports.deleteOrderLine = deleteOrderLine;\n\nconst deleteOrder = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: ORDER_TABLE,\n    where: unitOfWork.dbConnection.raw('id = :orderId', {\n      orderId\n    }),\n    trx\n  });\n};\n\nexports.deleteOrder = deleteOrder;\n\nconst createOrderLine = async (dbContext, {\n  orderLine,\n  trx\n}) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    trx\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createOrderLine = createOrderLine;\n\nconst createOrder = async (dbContext, {\n  order,\n  trx\n}) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    trx\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createOrder = createOrder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLXJlcG8uanMiXSwibmFtZXMiOlsiT1JERVJfVEFCTEUiLCJPUkRFUl9MSU5FX1RBQkxFIiwiT1JERVJfVEFCTEVfQ09MVU1OUyIsIk9SREVSX0xJTkVfVEFCTEVfQ09MVU1OUyIsImdldE9yZGVyQnlJZCIsImRiQ29udGV4dCIsIm9yZGVySWQiLCJ0cngiLCJ1bml0T2ZXb3JrIiwiVW5pdE9mV29yayIsIm9yZGVyIiwiZ2V0T25lV2hlcmUiLCJzY2hlbWEiLCJ0YWJsZU5hbWUiLCJjb2x1bW5zIiwiam9pbiIsImRiQ29ubmVjdGlvbiIsInJhdyIsIndoZXJlIiwiZ3JvdXBCeSIsIm9yZGVyTGluZXMiLCJpZCIsImZpbHRlciIsIm9sIiwiZ2V0T3JkZXJCeVN0YXR1cyIsInN0YXR1cyIsImN1c3RvbWVySWQiLCJnZXRPcmRlcnNCeUN1c3RvbWVySWQiLCJnZXRBbGxXaGVyZSIsIm1hcCIsInVwZGF0ZU9yZGVyTGluZSIsImV4dGVybmFsUHJvZHVjdElkIiwib3JkZXJMaW5lIiwidXBkYXRlIiwiZW50aXR5IiwidXBzZXJ0T3JkZXJMaW5lIiwiY3JlYXRlIiwib25Db25mbGljdCIsImZvcm1hdFNldFZhbHVlcyIsInVwZGF0ZU9yZGVyIiwiZGVsZXRlT3JkZXJMaW5lIiwiZGVsZXRlIiwiZGVsZXRlT3JkZXIiLCJjcmVhdGVPcmRlckxpbmUiLCJyZXN1bHQiLCJsZW5ndGgiLCJjcmVhdGVPcmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxXQUFXLEdBQUcsT0FBcEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsWUFBekI7O0FBRVAsTUFBTUMsbUJBQW1CLEdBQUcsQ0FDMUIsSUFEMEIsRUFFMUIsYUFGMEIsRUFHMUIsY0FIMEIsRUFJMUIsUUFKMEIsRUFLMUIsWUFMMEIsRUFNMUIsWUFOMEIsQ0FBNUI7QUFTQSxNQUFNQyx3QkFBd0IsR0FBRyxDQUMvQixJQUQrQixFQUUv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QVRNOzs7O0FBV0EsTUFBTUUsV0FBVyxHQUFHLE9BQU96QyxTQUFQLEVBQWtCO0FBQUVLLEVBQUFBLEtBQUY7QUFBU0gsRUFBQUE7QUFBVCxDQUFsQixLQUFxQztBQUM5RCxRQUFNcUMsTUFBTSxHQUFHLE1BQU8sSUFBSW5DLHFCQUFKLENBQWVKLFNBQWYsRUFBMEIrQixNQUExQixDQUFpQ3hCLGNBQWpDLEVBQXlDO0FBQzdEQyxJQUFBQSxTQUFTLEVBQUViLFdBRGtEO0FBRTdEYyxJQUFBQSxPQUFPLEVBQUVaLG1CQUZvRDtBQUc3RGdDLElBQUFBLE1BQU0sRUFBRXhCLEtBSHFEO0FBSTdESCxJQUFBQTtBQUo2RCxHQUF6QyxDQUF0QjtBQU9BLFNBQVFxQyxNQUFNLENBQUNDLE1BQVAsSUFBaUJELE1BQU0sQ0FBQyxDQUFELENBQXhCLElBQWdDLEVBQXZDO0FBQ0QsQ0FUTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RhbCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml0T2ZXb3JrIGZyb20gJy4uL2RhdGFiYXNlL3VuaXRfb2Zfd29yay5qcyc7XG5pbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBmb3JtYXREQkNvbHVtbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Zvcm1hdHRlcic7XG5cbmV4cG9ydCBjb25zdCBPUkRFUl9UQUJMRSA9ICdvcmRlcic7XG5leHBvcnQgY29uc3QgT1JERVJfTElORV9UQUJMRSA9ICdvcmRlcl9saW5lJztcblxuY29uc3QgT1JERVJfVEFCTEVfQ09MVU1OUyA9IFtcbiAgJ2lkJyxcbiAgJ2N1c3RvbWVyX2lkJyxcbiAgJ3RvdGFsX2Ftb3VudCcsXG4gICdzdGF0dXMnLFxuICAnY3JlYXRlZF9hdCcsXG4gICd1cGRhdGVkX2F0J1xuXTtcblxuY29uc3QgT1JERVJfTElORV9UQUJMRV9DT0xVTU5TID0gW1xuICAnaWQnLFxuICAnb3JkZXJfaWQnLFxuICAnZXh0ZXJuYWxfcHJvZHVjdF9uYW1lJyxcbiAgJ2V4dGVybmFsX3Byb2R1Y3RfaWQnLFxuICAnZXh0ZXJuYWxfcHJvZHVjdF9jYXRlZ29yeV9pZCcsXG4gICdxdWFudGl0eScsXG4gICdjcmVhdGVkX2F0JyxcbiAgJ3VwZGF0ZWRfYXQnXG5dO1xuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgdW5pdE9mV29yay5nZXRPbmVXaGVyZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogWy4uLmZvcm1hdERCQ29sdW1ucyhPUkRFUl9UQUJMRSwgT1JERVJfVEFCTEVfQ09MVU1OUyksIGBqc29uX2FnZyhcIiR7T1JERVJfTElORV9UQUJMRX1cIi4qKSBhcyBcIm9yZGVyTGluZXNcImBdLFxuICAgIGpvaW46IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnTEVGVCBKT0lOIDpzY2hlbWE6LjpPUkRFUl9MSU5FX1RBQkxFOiBPTiA6T1JERVJfVEFCTEU6LmlkID0gOk9SREVSX0xJTkVfVEFCTEU6Lm9yZGVyX2lkJywgeyBPUkRFUl9MSU5FX1RBQkxFLCBPUkRFUl9UQUJMRSwgc2NoZW1hIH0pLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJzpPUkRFUl9UQUJMRTouaWQgPSA6b3JkZXJJZCcsIHsgb3JkZXJJZCwgT1JERVJfVEFCTEUgfSksXG4gICAgZ3JvdXBCeTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCc6T1JERVJfVEFCTEU6LmlkJywgeyBPUkRFUl9UQUJMRSB9KSxcbiAgICB0cngsXG4gIH0pO1xuICBjb25zdCB7IG9yZGVyTGluZXMsIGlkIH0gPSBvcmRlcjtcbiAgaWYoIWlkKSByZXR1cm4ge307XG5cbiAgcmV0dXJuIHsgLi4ub3JkZXIsIG9yZGVyTGluZXM6IChvcmRlckxpbmVzID8gb3JkZXJMaW5lcy5maWx0ZXIob2wgPT4gb2wpIDogW10pIH07XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlckJ5U3RhdHVzID0gYXN5bmMgKGRiQ29udGV4dCwgeyBzdGF0dXMsIGN1c3RvbWVySWQsIHRyeCB9KSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCB1bml0T2ZXb3JrLmdldE9uZVdoZXJlKHNjaGVtYSwgeyBcbiAgICB0YWJsZU5hbWU6IE9SREVSX1RBQkxFLCBcbiAgICBjb2x1bW5zOiBbLi4uZm9ybWF0REJDb2x1bW5zKE9SREVSX1RBQkxFLCBPUkRFUl9UQUJMRV9DT0xVTU5TKSwgYGpzb25fYWdnKFwiJHtPUkRFUl9MSU5FX1RBQkxFfVwiLiopIGFzIFwib3JkZXJMaW5lc1wiYF0sXG4gICAgam9pbjogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdMRUZUIEpPSU4gOnNjaGVtYTouOk9SREVSX0xJTkVfVEFCTEU6IE9OIDpPUkRFUl9UQUJMRTouaWQgPSA6T1JERVJfTElORV9UQUJMRToub3JkZXJfaWQnLCB7IE9SREVSX0xJTkVfVEFCTEUsIE9SREVSX1RBQkxFLCBzY2hlbWEgfSksXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnOk9SREVSX1RBQkxFOi5jdXN0b21lcl9pZCA9IDpjdXN0b21lcklkIEFORCA6T1JERVJfVEFCTEU6LnN0YXR1cyA9IDpzdGF0dXMnLCB7IGN1c3RvbWVySWQsIHN0YXR1cywgT1JERVJfVEFCTEUgfSksXG4gICAgZ3JvdXBCeTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCc6T1JERVJfVEFCTEU6LmlkJywgeyBPUkRFUl9UQUJMRSB9KSxcbiAgICB0cngsXG4gIH0pO1xuICBjb25zdCB7IG9yZGVyTGluZXMsIGlkIH0gPSBvcmRlcjtcbiAgaWYoIWlkKSByZXR1cm4ge307XG5cbiAgcmV0dXJuIHsgLi4ub3JkZXIsIG9yZGVyTGluZXM6IChvcmRlckxpbmVzID8gb3JkZXJMaW5lcy5maWx0ZXIob2wgPT4gb2wpIDogW10pIH07XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlcnNCeUN1c3RvbWVySWQgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcklkKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIChhd2FpdCB1bml0T2ZXb3JrLmdldEFsbFdoZXJlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IE9SREVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBbLi4uZm9ybWF0REJDb2x1bW5zKE9SREVSX1RBQkxFLCBPUkRFUl9UQUJMRV9DT0xVTU5TKSwgYGpzb25fYWdnKFwiJHtPUkRFUl9MSU5FX1RBQkxFfVwiLiopIGFzIFwib3JkZXJMaW5lc1wiYF0sXG4gICAgam9pbjogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdMRUZUIEpPSU4gOnNjaGVtYTouOk9SREVSX0xJTkVfVEFCTEU6IE9OIDpPUkRFUl9UQUJMRTouaWQgPSA6T1JERVJfTElORV9UQUJMRToub3JkZXJfaWQnLCB7IE9SREVSX0xJTkVfVEFCTEUsIE9SREVSX1RBQkxFLCBzY2hlbWEgfSksXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnY3VzdG9tZXJfaWQgPSA6Y3VzdG9tZXJJZCcsIHsgY3VzdG9tZXJJZCB9KSxcbiAgICBncm91cEJ5OiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJzpPUkRFUl9UQUJMRTouaWQnLCB7IE9SREVSX1RBQkxFIH0pLFxuICB9KSkubWFwKG9yZGVyID0+ICh7IC4uLm9yZGVyLCBvcmRlckxpbmVzOiBvcmRlci5vcmRlckxpbmVzLmZpbHRlcihvbCA9PiBvbCkgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyTGluZSA9IGFzeW5jIChkYkNvbnRleHQsIHsgb3JkZXJJZCwgZXh0ZXJuYWxQcm9kdWN0SWQsIG9yZGVyTGluZSwgdHJ4IH0pID0+IHtcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLnVwZGF0ZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBPUkRFUl9MSU5FX1RBQkxFLCBcbiAgICBjb2x1bW5zOiBPUkRFUl9MSU5FX1RBQkxFX0NPTFVNTlMsXG4gICAgZW50aXR5OiBvcmRlckxpbmUsXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnb3JkZXJfaWQgPSA6b3JkZXJJZCBBTkQgZXh0ZXJuYWxfcHJvZHVjdF9pZCA9IDpleHRlcm5hbFByb2R1Y3RJZCcsIHsgb3JkZXJJZCwgZXh0ZXJuYWxQcm9kdWN0SWQgfSksXG4gICAgdHJ4LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cHNlcnRPcmRlckxpbmUgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCBvcmRlckxpbmUsIHRyeCB9KSA9PiB7XG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5jcmVhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogT1JERVJfTElORV9UQUJMRSwgXG4gICAgY29sdW1uczogT1JERVJfTElORV9UQUJMRV9DT0xVTU5TLFxuICAgIGVudGl0eTogb3JkZXJMaW5lLFxuICAgIG9uQ29uZmxpY3Q6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdyhgT04gQ09ORkxJQ1QgKG9yZGVyX2lkLCBleHRlcm5hbF9wcm9kdWN0X0lkKSBETyBVUERBVEUgU0VUICR7dW5pdE9mV29yay5mb3JtYXRTZXRWYWx1ZXMoT1JERVJfTElORV9UQUJMRV9DT0xVTU5TLCBvcmRlckxpbmUpfWApLFxuICAgIHRyeCxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlT3JkZXIgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVySWQsIG9yZGVyLCB0cnggfSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLnVwZGF0ZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogT1JERVJfVEFCTEVfQ09MVU1OUyxcbiAgXHRlbnRpdHk6IG9yZGVyLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOm9yZGVySWQnLCB7IG9yZGVySWQgfSksXG4gICAgdHJ4LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVPcmRlckxpbmUgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCB0cnggfSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmRlbGV0ZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBPUkRFUl9MSU5FX1RBQkxFLCBcbiAgICB3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdvcmRlcl9pZCA9IDpvcmRlcklkIEFORCBleHRlcm5hbF9wcm9kdWN0X2lkID0gOmV4dGVybmFsUHJvZHVjdElkJywgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCB9KSxcbiAgICB0cngsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU9yZGVyID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmRlbGV0ZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnaWQgPSA6b3JkZXJJZCcsIHsgb3JkZXJJZCB9KSxcbiAgICB0cnhcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlT3JkZXJMaW5lID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlckxpbmUsIHRyeCB9KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpLmNyZWF0ZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBPUkRFUl9MSU5FX1RBQkxFLCBcbiAgICBjb2x1bW5zOiBPUkRFUl9MSU5FX1RBQkxFX0NPTFVNTlMsXG4gICAgZW50aXR5OiBvcmRlckxpbmUsXG4gICAgdHJ4LFxuICB9KSk7XG4gIFxuICByZXR1cm4gKHJlc3VsdC5sZW5ndGggJiYgcmVzdWx0WzBdKSB8fCB7fTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlciA9IGFzeW5jIChkYkNvbnRleHQsIHsgb3JkZXIsIHRyeCB9KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpLmNyZWF0ZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gICAgY29sdW1uczogT1JERVJfVEFCTEVfQ09MVU1OUyxcbiAgICBlbnRpdHk6IG9yZGVyLFxuICAgIHRyeCxcbiAgfSkpO1xuICBcbiAgcmV0dXJuIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFswXSkgfHwge307XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "order-repo.js"
      ],
      "names": [
        "ORDER_TABLE",
        "ORDER_LINE_TABLE",
        "ORDER_TABLE_COLUMNS",
        "ORDER_LINE_TABLE_COLUMNS",
        "getOrderById",
        "dbContext",
        "orderId",
        "trx",
        "unitOfWork",
        "UnitOfWork",
        "order",
        "getOneWhere",
        "schema",
        "tableName",
        "columns",
        "join",
        "dbConnection",
        "raw",
        "where",
        "groupBy",
        "orderLines",
        "id",
        "filter",
        "ol",
        "getOrderByStatus",
        "status",
        "customerId",
        "getOrdersByCustomerId",
        "getAllWhere",
        "map",
        "updateOrderLine",
        "externalProductId",
        "orderLine",
        "update",
        "entity",
        "upsertOrderLine",
        "create",
        "onConflict",
        "formatSetValues",
        "updateOrder",
        "deleteOrderLine",
        "delete",
        "deleteOrder",
        "createOrderLine",
        "result",
        "length",
        "createOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "sourcesContent": [
        "import UnitOfWork from '../database/unit_of_work.js';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { schema } from '../config';\nimport moment from 'moment';\nimport { formatDBColumns } from '../helpers/formatter';\n\nexport const ORDER_TABLE = 'order';\nexport const ORDER_LINE_TABLE = 'order_line';\n\nconst ORDER_TABLE_COLUMNS = [\n  'id',\n  'customer_id',\n  'total_amount',\n  'status',\n  'created_at',\n  'updated_at'\n];\n\nconst ORDER_LINE_TABLE_COLUMNS = [\n  'id',\n  'order_id',\n  'external_product_name',\n  'external_product_id',\n  'external_product_category_id',\n  'quantity',\n  'created_at',\n  'updated_at'\n];\n\nexport const getOrderById = async (dbContext, { orderId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  const order = await unitOfWork.getOneWhere(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n  \twhere: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id = :orderId', { orderId, ORDER_TABLE }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n    trx,\n  });\n  const { orderLines, id } = order;\n  if(!id) return {};\n\n  return { ...order, orderLines: (orderLines ? orderLines.filter(ol => ol) : []) };\n};\n\n\nexport const getOrderByStatus = async (dbContext, { status, customerId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  const order = await unitOfWork.getOneWhere(schema, { \n    tableName: ORDER_TABLE, \n    columns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.customer_id = :customerId AND :ORDER_TABLE:.status = :status', { customerId, status, ORDER_TABLE }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n    trx,\n  });\n  const { orderLines, id } = order;\n  if(!id) return {};\n\n  return { ...order, orderLines: (orderLines ? orderLines.filter(ol => ol) : []) };\n};\n\n\nexport const getOrdersByCustomerId = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return (await unitOfWork.getAllWhere(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n  \twhere: unitOfWork.dbConnection.raw('customer_id = :customerId', { customerId }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n  })).map(order => ({ ...order, orderLines: order.orderLines.filter(ol => ol) }));\n};\n\nexport const updateOrderLine = async (dbContext, { orderId, externalProductId, orderLine, trx }) => {\n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', { orderId, externalProductId }),\n    trx,\n  });\n};\n\nexport const upsertOrderLine = async (dbContext, { orderId, externalProductId, orderLine, trx }) => {\n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.create(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    onConflict: unitOfWork.dbConnection.raw(`ON CONFLICT (order_id, external_product_Id) DO UPDATE SET ${unitOfWork.formatSetValues(ORDER_LINE_TABLE_COLUMNS, orderLine)}`),\n    trx,\n  });\n};\n\nexport const updateOrder = async (dbContext, { orderId, order, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: ORDER_TABLE_COLUMNS,\n  \tentity: order,\n  \twhere: unitOfWork.dbConnection.raw('id = :orderId', { orderId }),\n    trx,\n  });\n};\n\nexport const deleteOrderLine = async (dbContext, { orderId, externalProductId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n    tableName: ORDER_LINE_TABLE, \n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', { orderId, externalProductId }),\n    trx,\n  });\n};\n\nexport const deleteOrder = async (dbContext, { orderId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n  \ttableName: ORDER_TABLE, \n  \twhere: unitOfWork.dbConnection.raw('id = :orderId', { orderId }),\n    trx\n  });\n};\n\nexport const createOrderLine = async (dbContext, { orderLine, trx }) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    trx,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n\nexport const createOrder = async (dbContext, { order, trx }) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: ORDER_TABLE, \n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    trx,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558528366014
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/formatter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/formatter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/formatter.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/formatter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "formatter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatDBColumns = void 0;\n\nconst formatDBColumns = (table = '', columns = []) => columns.map(column => `\"${table}\".\"${column}\"`);\n\nexports.formatDBColumns = formatDBColumns;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1hdHRlci5qcyJdLCJuYW1lcyI6WyJmb3JtYXREQkNvbHVtbnMiLCJ0YWJsZSIsImNvbHVtbnMiLCJtYXAiLCJjb2x1bW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxNQUFNQSxlQUFlLEdBQUcsQ0FBQ0MsS0FBSyxHQUFHLEVBQVQsRUFBYUMsT0FBTyxHQUFHLEVBQXZCLEtBQThCQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsTUFBTSxJQUFLLElBQUdILEtBQU0sTUFBS0csTUFBTyxHQUE1QyxDQUF0RCIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZm9ybWF0REJDb2x1bW5zID0gKHRhYmxlID0gJycsIGNvbHVtbnMgPSBbXSkgPT4gY29sdW1ucy5tYXAoY29sdW1uID0+IGBcIiR7dGFibGV9XCIuXCIke2NvbHVtbn1cImApOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "formatter.js"
      ],
      "names": [
        "formatDBColumns",
        "table",
        "columns",
        "map",
        "column"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,eAAe,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,OAAO,GAAG,EAAvB,KAA8BA,OAAO,CAACC,GAAR,CAAYC,MAAM,IAAK,IAAGH,KAAM,MAAKG,MAAO,GAA5C,CAAtD",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "export const formatDBColumns = (table = '', columns = []) => columns.map(column => `\"${table}\".\"${column}\"`);"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/socketIO.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/socketIO.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/socketIO.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/socketIO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer",
        "sourceFileName": "socketIO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.notify = exports.connectIo = exports.createSocketServer = void 0;\n\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\n\nvar _http = require(\"http\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'SocketIO'\n});\n\nlet io;\n\nconst createSocketServer = app => {\n  const server = (0, _http.createServer)(app);\n  io = new _socket.default(server);\n  server.listen(8090);\n  logger.info('SocketIO server created on port 8090');\n};\n\nexports.createSocketServer = createSocketServer;\n\nconst connectIo = async () => await io.on('connection', socket => socket);\n\nexports.connectIo = connectIo;\n\nconst notify = async params => {\n  const conn = await connectIo();\n  conn.emit(params.type, params.msg);\n  logger.info(params, 'Notification sent');\n};\n\nexports.notify = notify;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldElPLmpzIl0sIm5hbWVzIjpbImxvZ2dlciIsImJ1bnlhbiIsImNyZWF0ZUxvZ2dlciIsIm5hbWUiLCJpbyIsImNyZWF0ZVNvY2tldFNlcnZlciIsImFwcCIsInNlcnZlciIsIlNvY2tldElPIiwibGlzdGVuIiwiaW5mbyIsImNvbm5lY3RJbyIsIm9uIiwic29ja2V0Iiwibm90aWZ5IiwicGFyYW1zIiwiY29ubiIsImVtaXQiLCJ0eXBlIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsRUFBSjs7QUFFTyxNQUFNQyxrQkFBa0IsR0FBR0MsR0FBRyxJQUFJO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBRyx3QkFBYUQsR0FBYixDQUFmO0FBQ0FGLEVBQUFBLEVBQUUsR0FBRyxJQUFJSSxlQUFKLENBQWFELE1BQWIsQ0FBTDtBQUNBQSxFQUFBQSxNQUFNLENBQUNFLE1BQVAsQ0FBYyxJQUFkO0FBQ0FULEVBQUFBLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLHNDQUFaO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1DLFNBQVMsR0FBRyxZQUFZLE1BQU1QLEVBQUUsQ0FBQ1EsRUFBSCxDQUFNLFlBQU4sRUFBb0JDLE1BQU0sSUFBSUEsTUFBOUIsQ0FBcEM7Ozs7QUFFQSxNQUFNQyxNQUFNLEdBQUcsTUFBTUMsTUFBTixJQUFnQjtBQUNwQyxRQUFNQyxJQUFJLEdBQUcsTUFBTUwsU0FBUyxFQUE1QjtBQUNBSyxFQUFBQSxJQUFJLENBQUNDLElBQUwsQ0FBVUYsTUFBTSxDQUFDRyxJQUFqQixFQUF1QkgsTUFBTSxDQUFDSSxHQUE5QjtBQUNBbkIsRUFBQUEsTUFBTSxDQUFDVSxJQUFQLENBQVlLLE1BQVosRUFBb0IsbUJBQXBCO0FBQ0QsQ0FKTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvY2tldElPIGZyb20gJ3NvY2tldC5pbyc7XG5pbXBvcnQgIHsgY3JlYXRlU2VydmVyIH0gZnJvbSAnaHR0cCc7XG5pbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ1NvY2tldElPJ30pO1xuXG5sZXQgaW87IFxuXG5leHBvcnQgY29uc3QgY3JlYXRlU29ja2V0U2VydmVyID0gYXBwID0+IHsgXG4gIGNvbnN0IHNlcnZlciA9IGNyZWF0ZVNlcnZlcihhcHApO1xuICBpbyA9IG5ldyBTb2NrZXRJTyhzZXJ2ZXIpO1xuICBzZXJ2ZXIubGlzdGVuKDgwOTApOyBcbiAgbG9nZ2VyLmluZm8oJ1NvY2tldElPIHNlcnZlciBjcmVhdGVkIG9uIHBvcnQgODA5MCcpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbm5lY3RJbyA9IGFzeW5jICgpID0+IGF3YWl0IGlvLm9uKCdjb25uZWN0aW9uJywgc29ja2V0ID0+IHNvY2tldCk7XG5cbmV4cG9ydCBjb25zdCBub3RpZnkgPSBhc3luYyBwYXJhbXMgPT4ge1xuICBjb25zdCBjb25uID0gYXdhaXQgY29ubmVjdElvKCk7XG4gIGNvbm4uZW1pdChwYXJhbXMudHlwZSwgcGFyYW1zLm1zZyk7XG4gIGxvZ2dlci5pbmZvKHBhcmFtcywgJ05vdGlmaWNhdGlvbiBzZW50Jyk7XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "socketIO.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "io",
        "createSocketServer",
        "app",
        "server",
        "SocketIO",
        "listen",
        "info",
        "connectIo",
        "on",
        "socket",
        "notify",
        "params",
        "conn",
        "emit",
        "type",
        "msg"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,EAAJ;;AAEO,MAAMC,kBAAkB,GAAGC,GAAG,IAAI;AACvC,QAAMC,MAAM,GAAG,wBAAaD,GAAb,CAAf;AACAF,EAAAA,EAAE,GAAG,IAAII,eAAJ,CAAaD,MAAb,CAAL;AACAA,EAAAA,MAAM,CAACE,MAAP,CAAc,IAAd;AACAT,EAAAA,MAAM,CAACU,IAAP,CAAY,sCAAZ;AACD,CALM;;;;AAOA,MAAMC,SAAS,GAAG,YAAY,MAAMP,EAAE,CAACQ,EAAH,CAAM,YAAN,EAAoBC,MAAM,IAAIA,MAA9B,CAApC;;;;AAEA,MAAMC,MAAM,GAAG,MAAMC,MAAN,IAAgB;AACpC,QAAMC,IAAI,GAAG,MAAML,SAAS,EAA5B;AACAK,EAAAA,IAAI,CAACC,IAAL,CAAUF,MAAM,CAACG,IAAjB,EAAuBH,MAAM,CAACI,GAA9B;AACAnB,EAAAA,MAAM,CAACU,IAAP,CAAYK,MAAZ,EAAoB,mBAApB;AACD,CAJM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer",
      "sourcesContent": [
        "import SocketIO from 'socket.io';\nimport  { createServer } from 'http';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'SocketIO'});\n\nlet io; \n\nexport const createSocketServer = app => { \n  const server = createServer(app);\n  io = new SocketIO(server);\n  server.listen(8090); \n  logger.info('SocketIO server created on port 8090');\n};\n\nexport const connectIo = async () => await io.on('connection', socket => socket);\n\nexport const notify = async params => {\n  const conn = await connectIo();\n  conn.emit(params.type, params.msg);\n  logger.info(params, 'Notification sent');\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219406
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/enums/socket-types.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/socket-types.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/enums/socket-types.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/socket-types.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
        "sourceFileName": "socket-types.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  PAYMENT_RESULT: 'PaymentResult'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC10eXBlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUEFZTUVOVF9SRVNVTFQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxjQUFjLEVBQUU7QUFERCxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXG4gIFBBWU1FTlRfUkVTVUxUOiAnUGF5bWVudFJlc3VsdCcsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "socket-types.js"
      ],
      "names": [
        "module",
        "exports",
        "PAYMENT_RESULT"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAE;AADD,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "sourcesContent": [
        "module.exports = { \n  PAYMENT_RESULT: 'PaymentResult',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219394
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/api-middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/api-middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/api-middleware.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/api-middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "api-middleware.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.routerMiddleware = exports.requestHandler = void 0;\n\nvar _request = require(\"../helpers/request\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'CustomerApiMiddleware'\n});\n\nconst unprotectedApis = ['/api/orders/transaction'];\n\nconst requestHandler = (route, action) => async (req, res, next) => {\n  if (!unprotectedApis.includes(route)) {\n    try {\n      const token = (0, _request.getTokenFromRequest)(req);\n\n      if (!token) {\n        throw new Error('UNAUTHORIZED');\n      }\n\n      req.token = token;\n    } catch (error) {\n      res.status(401).send('UNAUTHORIZED');\n      return;\n    }\n  }\n\n  try {\n    const result = await action(req);\n    res.setHeader('Content-Type', 'application/json');\n    res.json(result);\n  } catch (error) {\n    logger.error(error, 'Error on request');\n    res.status(error.status || 500).send(error.message);\n  }\n};\n\nexports.requestHandler = requestHandler;\n\nconst routerMiddleware = app => {\n  const routeMethods = ['get', 'put', 'post', 'delete'];\n  routeMethods.forEach(method => {\n    const router = {\n      [method]: app[method].bind(app)\n    };\n\n    app[method] = (route, ...routeMiddleware) => {\n      if (!routeMiddleware || !routeMiddleware.length) return router[method](route);\n      const [action] = routeMiddleware.splice(routeMiddleware.length - 1, 1);\n      return router[method](route, ...routeMiddleware, requestHandler(route, action));\n    };\n  });\n};\n\nexports.routerMiddleware = routerMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS1taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImxvZ2dlciIsImJ1bnlhbiIsImNyZWF0ZUxvZ2dlciIsIm5hbWUiLCJ1bnByb3RlY3RlZEFwaXMiLCJyZXF1ZXN0SGFuZGxlciIsInJvdXRlIiwiYWN0aW9uIiwicmVxIiwicmVzIiwibmV4dCIsImluY2x1ZGVzIiwidG9rZW4iLCJFcnJvciIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsInJlc3VsdCIsInNldEhlYWRlciIsImpzb24iLCJtZXNzYWdlIiwicm91dGVyTWlkZGxld2FyZSIsImFwcCIsInJvdXRlTWV0aG9kcyIsImZvckVhY2giLCJtZXRob2QiLCJyb3V0ZXIiLCJiaW5kIiwicm91dGVNaWRkbGV3YXJlIiwibGVuZ3RoIiwic3BsaWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsTUFBTUMsZUFBZSxHQUFHLENBQUMseUJBQUQsQ0FBeEI7O0FBRU8sTUFBTUMsY0FBYyxHQUFHLENBQUNDLEtBQUQsRUFBUUMsTUFBUixLQUM1QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ3hCLE1BQUksQ0FBQ04sZUFBZSxDQUFDTyxRQUFoQixDQUF5QkwsS0FBekIsQ0FBTCxFQUFzQztBQUNwQyxRQUFJO0FBQ0YsWUFBTU0sS0FBSyxHQUFHLGtDQUFvQkosR0FBcEIsQ0FBZDs7QUFDQSxVQUFJLENBQUNJLEtBQUwsRUFBVztBQUNULGNBQU0sSUFBSUMsS0FBSixDQUFVLGNBQVYsQ0FBTjtBQUNEOztBQUVETCxNQUFBQSxHQUFHLENBQUNJLEtBQUosR0FBWUEsS0FBWjtBQUNELEtBUEQsQ0FPRSxPQUFNRSxLQUFOLEVBQWE7QUFDYkwsTUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsY0FBckI7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsTUFBSTtBQUNGLFVBQU1DLE1BQU0sR0FBRyxNQUFNVixNQUFNLENBQUNDLEdBQUQsQ0FBM0I7QUFDQUMsSUFBQUEsR0FBRyxDQUFDUyxTQUFKLENBQWMsY0FBZCxFQUE4QixrQkFBOUI7QUFDQVQsSUFBQUEsR0FBRyxDQUFDVSxJQUFKLENBQVNGLE1BQVQ7QUFDRCxHQUpELENBSUUsT0FBTUgsS0FBTixFQUFhO0FBQ2JkLElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhQSxLQUFiLEVBQW9CLGtCQUFwQjtBQUNBTCxJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBV0QsS0FBSyxDQUFDQyxNQUFOLElBQWdCLEdBQTNCLEVBQWdDQyxJQUFoQyxDQUFxQ0YsS0FBSyxDQUFDTSxPQUEzQztBQUNEO0FBQ0YsQ0F4Qkk7Ozs7QUEwQkEsTUFBTUMsZ0JBQWdCLEdBQUdDLEdBQUcsSUFBSTtBQUNyQyxRQUFNQyxZQUFZLEdBQUcsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLE1BQWYsRUFBdUIsUUFBdkIsQ0FBckI7QUFFQUEsRUFBQUEsWUFBWSxDQUFDQyxPQUFiLENBQXFCQyxNQUFNLElBQUk7QUFDN0IsVUFBTUMsTUFBTSxHQUFHO0FBQUUsT0FBQ0QsTUFBRCxHQUFVSCxHQUFHLENBQUNHLE1BQUQsQ0FBSCxDQUFZRSxJQUFaLENBQWlCTCxHQUFqQjtBQUFaLEtBQWY7O0FBRUFBLElBQUFBLEdBQUcsQ0FBQ0csTUFBRCxDQUFILEdBQWMsQ0FBQ25CLEtBQUQsRUFBUSxHQUFHc0IsZUFBWCxLQUErQjtBQUMzQyxVQUFJLENBQUNBLGVBQUQsSUFBb0IsQ0FBQ0EsZUFBZSxDQUFDQyxNQUF6QyxFQUFpRCxPQUFPSCxNQUFNLENBQUNELE1BQUQsQ0FBTixDQUFlbkIsS0FBZixDQUFQO0FBRWpELFlBQU0sQ0FBQ0MsTUFBRCxJQUFXcUIsZUFBZSxDQUFDRSxNQUFoQixDQUF1QkYsZUFBZSxDQUFDQyxNQUFoQixHQUF5QixDQUFoRCxFQUFtRCxDQUFuRCxDQUFqQjtBQUNBLGFBQU9ILE1BQU0sQ0FBQ0QsTUFBRCxDQUFOLENBQWVuQixLQUFmLEVBQXNCLEdBQUdzQixlQUF6QixFQUEwQ3ZCLGNBQWMsQ0FBQ0MsS0FBRCxFQUFRQyxNQUFSLENBQXhELENBQVA7QUFDRCxLQUxEO0FBTUQsR0FURDtBQVVELENBYk0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9hcGkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbkZyb21SZXF1ZXN0IH0gZnJvbSAnLi4vaGVscGVycy9yZXF1ZXN0JztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnQ3VzdG9tZXJBcGlNaWRkbGV3YXJlJ30pO1xuXG5jb25zdCB1bnByb3RlY3RlZEFwaXMgPSBbJy9hcGkvb3JkZXJzL3RyYW5zYWN0aW9uJ107XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0SGFuZGxlciA9IChyb3V0ZSwgYWN0aW9uKSA9PlxuICBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZiAoIXVucHJvdGVjdGVkQXBpcy5pbmNsdWRlcyhyb3V0ZSkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW5Gcm9tUmVxdWVzdChyZXEpO1xuICAgICAgICBpZiAoIXRva2VuKXtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VOQVVUSE9SSVpFRCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxLnRva2VuID0gdG9rZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhY3Rpb24ocmVxKTtcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICByZXMuanNvbihyZXN1bHQpO1xuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihlcnJvciwgJ0Vycm9yIG9uIHJlcXVlc3QnKTtcbiAgICAgIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzIHx8IDUwMCkuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbmV4cG9ydCBjb25zdCByb3V0ZXJNaWRkbGV3YXJlID0gYXBwID0+IHtcbiAgY29uc3Qgcm91dGVNZXRob2RzID0gWydnZXQnLCAncHV0JywgJ3Bvc3QnLCAnZGVsZXRlJ107XG5cbiAgcm91dGVNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICBjb25zdCByb3V0ZXIgPSB7IFttZXRob2RdOiBhcHBbbWV0aG9kXS5iaW5kKGFwcCkgfTtcbiAgICBcbiAgICBhcHBbbWV0aG9kXSA9IChyb3V0ZSwgLi4ucm91dGVNaWRkbGV3YXJlKSA9PiB7XG4gICAgICBpZiAoIXJvdXRlTWlkZGxld2FyZSB8fCAhcm91dGVNaWRkbGV3YXJlLmxlbmd0aCkgcmV0dXJuIHJvdXRlclttZXRob2RdKHJvdXRlKTtcblxuICAgICAgY29uc3QgW2FjdGlvbl0gPSByb3V0ZU1pZGRsZXdhcmUuc3BsaWNlKHJvdXRlTWlkZGxld2FyZS5sZW5ndGggLSAxLCAxKTtcbiAgICAgIHJldHVybiByb3V0ZXJbbWV0aG9kXShyb3V0ZSwgLi4ucm91dGVNaWRkbGV3YXJlLCByZXF1ZXN0SGFuZGxlcihyb3V0ZSwgYWN0aW9uKSk7XG4gICAgfTtcbiAgfSk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "api-middleware.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "unprotectedApis",
        "requestHandler",
        "route",
        "action",
        "req",
        "res",
        "next",
        "includes",
        "token",
        "Error",
        "error",
        "status",
        "send",
        "result",
        "setHeader",
        "json",
        "message",
        "routerMiddleware",
        "app",
        "routeMethods",
        "forEach",
        "method",
        "router",
        "bind",
        "routeMiddleware",
        "length",
        "splice"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,MAAMC,eAAe,GAAG,CAAC,yBAAD,CAAxB;;AAEO,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAC5B,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACxB,MAAI,CAACN,eAAe,CAACO,QAAhB,CAAyBL,KAAzB,CAAL,EAAsC;AACpC,QAAI;AACF,YAAMM,KAAK,GAAG,kCAAoBJ,GAApB,CAAd;;AACA,UAAI,CAACI,KAAL,EAAW;AACT,cAAM,IAAIC,KAAJ,CAAU,cAAV,CAAN;AACD;;AAEDL,MAAAA,GAAG,CAACI,KAAJ,GAAYA,KAAZ;AACD,KAPD,CAOE,OAAME,KAAN,EAAa;AACbL,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,cAArB;AACA;AACD;AACF;;AAED,MAAI;AACF,UAAMC,MAAM,GAAG,MAAMV,MAAM,CAACC,GAAD,CAA3B;AACAC,IAAAA,GAAG,CAACS,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAT,IAAAA,GAAG,CAACU,IAAJ,CAASF,MAAT;AACD,GAJD,CAIE,OAAMH,KAAN,EAAa;AACbd,IAAAA,MAAM,CAACc,KAAP,CAAaA,KAAb,EAAoB,kBAApB;AACAL,IAAAA,GAAG,CAACM,MAAJ,CAAWD,KAAK,CAACC,MAAN,IAAgB,GAA3B,EAAgCC,IAAhC,CAAqCF,KAAK,CAACM,OAA3C;AACD;AACF,CAxBI;;;;AA0BA,MAAMC,gBAAgB,GAAGC,GAAG,IAAI;AACrC,QAAMC,YAAY,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,QAAvB,CAArB;AAEAA,EAAAA,YAAY,CAACC,OAAb,CAAqBC,MAAM,IAAI;AAC7B,UAAMC,MAAM,GAAG;AAAE,OAACD,MAAD,GAAUH,GAAG,CAACG,MAAD,CAAH,CAAYE,IAAZ,CAAiBL,GAAjB;AAAZ,KAAf;;AAEAA,IAAAA,GAAG,CAACG,MAAD,CAAH,GAAc,CAACnB,KAAD,EAAQ,GAAGsB,eAAX,KAA+B;AAC3C,UAAI,CAACA,eAAD,IAAoB,CAACA,eAAe,CAACC,MAAzC,EAAiD,OAAOH,MAAM,CAACD,MAAD,CAAN,CAAenB,KAAf,CAAP;AAEjD,YAAM,CAACC,MAAD,IAAWqB,eAAe,CAACE,MAAhB,CAAuBF,eAAe,CAACC,MAAhB,GAAyB,CAAhD,EAAmD,CAAnD,CAAjB;AACA,aAAOH,MAAM,CAACD,MAAD,CAAN,CAAenB,KAAf,EAAsB,GAAGsB,eAAzB,EAA0CvB,cAAc,CAACC,KAAD,EAAQC,MAAR,CAAxD,CAAP;AACD,KALD;AAMD,GATD;AAUD,CAbM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import { getTokenFromRequest } from '../helpers/request';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'CustomerApiMiddleware'});\n\nconst unprotectedApis = ['/api/orders/transaction'];\n\nexport const requestHandler = (route, action) =>\n  async (req, res, next) => {\n    if (!unprotectedApis.includes(route)) {\n      try {\n        const token = getTokenFromRequest(req);\n        if (!token){\n          throw new Error('UNAUTHORIZED');\n        }\n\n        req.token = token;\n      } catch(error) {\n        res.status(401).send('UNAUTHORIZED');\n        return;\n      }\n    }\n\n    try {\n      const result = await action(req);\n      res.setHeader('Content-Type', 'application/json');\n      res.json(result);\n    } catch(error) {\n      logger.error(error, 'Error on request');\n      res.status(error.status || 500).send(error.message);\n    }\n  };\n\nexport const routerMiddleware = app => {\n  const routeMethods = ['get', 'put', 'post', 'delete'];\n\n  routeMethods.forEach(method => {\n    const router = { [method]: app[method].bind(app) };\n    \n    app[method] = (route, ...routeMiddleware) => {\n      if (!routeMiddleware || !routeMiddleware.length) return router[method](route);\n\n      const [action] = routeMiddleware.splice(routeMiddleware.length - 1, 1);\n      return router[method](route, ...routeMiddleware, requestHandler(route, action));\n    };\n  });\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1558355584685
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/api.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initApis = void 0;\n\nvar _customer = _interopRequireDefault(require(\"./customer\"));\n\nvar _order = _interopRequireDefault(require(\"./order\"));\n\nconst initApis = app => {\n  new _customer.default(app);\n  new _order.default(app);\n};\n\nexports.initApis = initApis;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJpbml0QXBpcyIsImFwcCIsIkN1c3RvbWVyQXBpIiwiT3JkZXJBcGkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVPLE1BQU1BLFFBQVEsR0FBR0MsR0FBRyxJQUFJO0FBQzdCLE1BQUlDLGlCQUFKLENBQWdCRCxHQUFoQjtBQUNBLE1BQUlFLGNBQUosQ0FBYUYsR0FBYjtBQUNELENBSE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9jdXN0b21lci9hcGkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3VzdG9tZXJBcGkgZnJvbSAnLi9jdXN0b21lcic7XG5pbXBvcnQgT3JkZXJBcGkgZnJvbSAnLi9vcmRlcic7XG5cbmV4cG9ydCBjb25zdCBpbml0QXBpcyA9IGFwcCA9PiB7XG4gIG5ldyBDdXN0b21lckFwaShhcHApO1xuICBuZXcgT3JkZXJBcGkoYXBwKTtcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "initApis",
        "app",
        "CustomerApi",
        "OrderApi"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,QAAQ,GAAGC,GAAG,IAAI;AAC7B,MAAIC,iBAAJ,CAAgBD,GAAhB;AACA,MAAIE,cAAJ,CAAaF,GAAb;AACD,CAHM",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import CustomerApi from './customer';\nimport OrderApi from './order';\n\nexport const initApis = app => {\n  new CustomerApi(app);\n  new OrderApi(app);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687667387
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2tuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiZ2V0RW52VmFyaWFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2xpZW50IiwiY29ubmVjdGlvbiIsImhvc3QiLCJkYXRhYmFzZSIsInVzZXIiLCJwb3J0IiwicGFzc3dvcmQiLCJhZG1pblVzZXIiLCJhZG1pblBhc3N3b3JkIiwicm9sZSIsImFwcGxpY2F0aW9uX25hbWUiLCJjaGFyc2V0IiwicG9vbCIsIm1pbiIsIm1heCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwidGFibGVOYW1lIiwiZGVidWciXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBcUJELE9BQU8sQ0FBQywyQkFBRCxDQUFsQzs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLE1BQU0sRUFBRSxZQURLO0FBRWJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxJQUFJLEVBQUVMLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFdBQWxCLENBRFY7QUFFVk0sSUFBQUEsUUFBUSxFQUFFTixjQUFjLENBQUMsYUFBRCxFQUFnQixVQUFoQixDQUZkO0FBR1ZPLElBQUFBLElBQUksRUFBRVAsY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBSFY7QUFJVlEsSUFBQUEsSUFBSSxFQUFFUixjQUFjLENBQUMsa0JBQUQsRUFBcUIsSUFBckIsQ0FKVjtBQUtWUyxJQUFBQSxRQUFRLEVBQUVULGNBQWMsQ0FBQyxzQkFBRCxFQUF5Qix3QkFBekIsQ0FMZDtBQU1WVSxJQUFBQSxTQUFTLEVBQUVWLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFVBQWxCLENBTmY7QUFPVlcsSUFBQUEsYUFBYSxFQUFFWCxjQUFjLENBQUMsbUJBQUQsRUFBc0IsdUJBQXRCLENBUG5CO0FBUVZZLElBQUFBLElBQUksRUFBRVosY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBUlY7QUFTVmEsSUFBQUEsZ0JBQWdCLEVBQUUsVUFUUjtBQVVWQyxJQUFBQSxPQUFPLEVBQUU7QUFWQyxHQUZDO0FBY2JDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxHQUFHLEVBQUUsQ0FERDtBQUVKQyxJQUFBQSxHQUFHLEVBQUU7QUFGRCxHQWRPO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsU0FBUyxFQUFFckIsSUFBSSxDQUFDc0IsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGVBQXhCLENBREQ7QUFFVkMsSUFBQUEsU0FBUyxFQUFFO0FBRkQsR0FsQkM7QUFzQmJDLEVBQUFBLEtBQUssRUFBRTtBQXRCTSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgZ2V0RW52VmFyaWFibGUgfSA9IHJlcXVpcmUoJy4uLy4uL2hlbHBlcnMvZW52aXJvbm1lbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2xpZW50OiAncG9zdGdyZXNxbCcsXG4gICAgY29ubmVjdGlvbjoge1xuICAgICAgaG9zdDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0hPU1QnLCAnbG9jYWxob3N0JyksXG4gICAgICBkYXRhYmFzZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCJywgJ3Bvc3RncmVzJyksXG4gICAgICB1c2VyOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfVVNFUicsICdjdXN0b21lcl91c2VyJyksXG4gICAgICBwb3J0OiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUE9SVCcsIDU0MzIpLFxuICAgICAgcGFzc3dvcmQ6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9QQVNTV09SRCcsICcmJi8vYSkoPWZnZz8/PCpkZi5mZiUqJyksXG4gICAgICBhZG1pblVzZXI6IGdldEVudlZhcmlhYmxlKCdEQl9BRE1JTl9VU0VSJywgJ3Bvc3RncmVzJyksXG4gICAgICBhZG1pblBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fUEFTU1dPUkQnLCAnbWJ8MzNfPEM8a2wmQSpkZi5jOCUqJyksXG4gICAgICByb2xlOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUk9MRScsICdjdXN0b21lcl91c2VyJyksXG4gICAgICBhcHBsaWNhdGlvbl9uYW1lOiAnQ3VzdG9tZXInLFxuICAgICAgY2hhcnNldDogJ3V0ZjgnLFxuICAgIH0sXG4gICAgcG9vbDoge1xuICAgICAgbWluOiAyLFxuICAgICAgbWF4OiA1MCxcbiAgICB9LFxuICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgIGRpcmVjdG9yeTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uL21pZ3JhdGlvbnMnKSxcbiAgICAgIHRhYmxlTmFtZTogJ2N1c3RvbWVyX2tuZXhfbWlncmF0aW9ucycsXG4gICAgfSxcbiAgICBkZWJ1ZzogdHJ1ZSxcbiAgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,UAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/connections/pg_test_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
        "sourceFileName": "pg_test_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_test_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3Rfa25leGZpbGUuanMiXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJnZXRFbnZWYXJpYWJsZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBvcnQiLCJwYXNzd29yZCIsImFkbWluVXNlciIsImFkbWluUGFzc3dvcmQiLCJyb2xlIiwiYXBwbGljYXRpb25fbmFtZSIsImNoYXJzZXQiLCJwb29sIiwibWluIiwibWF4IiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJ0YWJsZU5hbWUiLCJkZWJ1ZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFxQkQsT0FBTyxDQUFDLDJCQUFELENBQWxDOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFBTSxFQUFFLFlBREs7QUFFYkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLElBQUFBLElBQUksRUFBRUwsY0FBYyxDQUFDLGVBQUQsRUFBa0IsV0FBbEIsQ0FEVjtBQUVWTSxJQUFBQSxRQUFRLEVBQUVOLGNBQWMsQ0FBQyxhQUFELEVBQWdCLGVBQWhCLENBRmQ7QUFHVk8sSUFBQUEsSUFBSSxFQUFFUCxjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FIVjtBQUlWUSxJQUFBQSxJQUFJLEVBQUVSLGNBQWMsQ0FBQyxrQkFBRCxFQUFxQixJQUFyQixDQUpWO0FBS1ZTLElBQUFBLFFBQVEsRUFBRVQsY0FBYyxDQUFDLHNCQUFELEVBQXlCLHdCQUF6QixDQUxkO0FBTVZVLElBQUFBLFNBQVMsRUFBRVYsY0FBYyxDQUFDLGVBQUQsRUFBa0IsVUFBbEIsQ0FOZjtBQU9WVyxJQUFBQSxhQUFhLEVBQUVYLGNBQWMsQ0FBQyxtQkFBRCxFQUFzQix1QkFBdEIsQ0FQbkI7QUFRVlksSUFBQUEsSUFBSSxFQUFFWixjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FSVjtBQVNWYSxJQUFBQSxnQkFBZ0IsRUFBRSxVQVRSO0FBVVZDLElBQUFBLE9BQU8sRUFBRTtBQVZDLEdBRkM7QUFjYkMsRUFBQUEsSUFBSSxFQUFFO0FBQ0pDLElBQUFBLEdBQUcsRUFBRSxDQUREO0FBRUpDLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBZE87QUFrQmJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxTQUFTLEVBQUVyQixJQUFJLENBQUNzQixPQUFMLENBQWFDLFNBQWIsRUFBd0IsZUFBeEIsQ0FERDtBQUVWQyxJQUFBQSxTQUFTLEVBQUU7QUFGRCxHQWxCQztBQXNCYkMsRUFBQUEsS0FBSyxFQUFFO0FBdEJNLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UvY29ubmVjdGlvbnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgeyBnZXRFbnZWYXJpYWJsZSB9ID0gcmVxdWlyZSgnLi4vLi4vaGVscGVycy9lbnZpcm9ubWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjbGllbnQ6ICdwb3N0Z3Jlc3FsJyxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBob3N0OiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfSE9TVCcsICdsb2NhbGhvc3QnKSxcbiAgICAgIGRhdGFiYXNlOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREInLCAnY3VzdG9tZXJfdGVzdCcpLFxuICAgICAgdXNlcjogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1VTRVInLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgcG9ydDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BPUlQnLCA1NDMyKSxcbiAgICAgIHBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUEFTU1dPUkQnLCAnJiYvL2EpKD1mZ2c/PzwqZGYuZmYlKicpLFxuICAgICAgYWRtaW5Vc2VyOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fVVNFUicsICdwb3N0Z3JlcycpLFxuICAgICAgYWRtaW5QYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1BBU1NXT1JEJywgJ21ifDMzXzxDPGtsJkEqZGYuYzglKicpLFxuICAgICAgcm9sZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1JPTEUnLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgYXBwbGljYXRpb25fbmFtZTogJ0N1c3RvbWVyJyxcbiAgICAgIGNoYXJzZXQ6ICd1dGY4JyxcbiAgICB9LFxuICAgIHBvb2w6IHtcbiAgICAgIG1pbjogMixcbiAgICAgIG1heDogNTAsXG4gICAgfSxcbiAgICBtaWdyYXRpb25zOiB7XG4gICAgICBkaXJlY3Rvcnk6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9taWdyYXRpb25zJyksXG4gICAgICB0YWJsZU5hbWU6ICdjdXN0b21lcl90ZXN0X2tuZXhfbWlncmF0aW9ucycsXG4gICAgfSxcbiAgICBkZWJ1ZzogdHJ1ZSxcbiAgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,eAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_test_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201192
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/environment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/environment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
        "sourceFileName": "environment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst getEnvVariable = function (name, def) {\n  return process.env[name] || def;\n};\n\nmodule.exports = {\n  getEnvVariable\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LmpzIl0sIm5hbWVzIjpbImdldEVudlZhcmlhYmxlIiwibmFtZSIsImRlZiIsInByb2Nlc3MiLCJlbnYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGNBQWMsR0FBRyxVQUFTQyxJQUFULEVBQWVDLEdBQWYsRUFBbUI7QUFBRSxTQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWixLQUFxQkMsR0FBNUI7QUFBa0MsQ0FBOUU7O0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUFFTixFQUFBQTtBQUFGLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdldEVudlZhcmlhYmxlID0gZnVuY3Rpb24obmFtZSwgZGVmKXsgcmV0dXJuIHByb2Nlc3MuZW52W25hbWVdIHx8IGRlZjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0RW52VmFyaWFibGUgfTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "environment.js"
      ],
      "names": [
        "getEnvVariable",
        "name",
        "def",
        "process",
        "env",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAG,UAASC,IAAT,EAAeC,GAAf,EAAmB;AAAE,SAAOC,OAAO,CAACC,GAAR,CAAYH,IAAZ,KAAqBC,GAA5B;AAAkC,CAA9E;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AAAEN,EAAAA;AAAF,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers",
      "sourcesContent": [
        "const getEnvVariable = function(name, def){ return process.env[name] || def; }\n\nmodule.exports = { getEnvVariable };"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/api/customer.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/api/customer.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/api/customer.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/api/customer.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
        "sourceFileName": "customer.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar customerService = _interopRequireWildcard(require(\"../services/customer-service\"));\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _authorizationHandler = require(\"../decorators/authorization-handler\");\n\nvar _dalTypes = require(\"../helpers/enums/dal-types\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class;\n\nconst {\n  POSTGRES_CONTEXT\n} = _unit_of_work.UnitOfWorkContext;\nlet CustomerApi = (_dec = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec2 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec3 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec4 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec5 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM, _dalTypes.PredefinedRole.CUSTOMER]), _dec6 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec7 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec8 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), (_class = class CustomerApi {\n  constructor(app) {\n    app.get('/api/customers', _authorizationHandler.authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', _authorizationHandler.authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', _authorizationHandler.authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', _authorizationHandler.authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', _authorizationHandler.authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', _authorizationHandler.authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', _authorizationHandler.authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', _authorizationHandler.authenticate, this.deleteCustomer);\n  }\n\n  async getCustomers(req) {\n    return await customerService.getCustomers(POSTGRES_CONTEXT);\n  }\n\n  async getCustomerById(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  async getCustomersByName(req) {\n    const {\n      name\n    } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  async getCustomersByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async getCustomerByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async createCustomer(req) {\n    const {\n      body\n    } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  async updateCustomer(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  async deleteCustomer(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n\n}, ((0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomers\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomers\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerById\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerById\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByName\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByName\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByEmail\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerByEmail\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createCustomer\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateCustomer\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteCustomer\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteCustomer\"), _class.prototype)), _class));\nexports.default = CustomerApi;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLmpzIl0sIm5hbWVzIjpbIlBPU1RHUkVTX0NPTlRFWFQiLCJVbml0T2ZXb3JrQ29udGV4dCIsIkN1c3RvbWVyQXBpIiwiUHJlZGVmaW5lZFJvbGUiLCJBRE1JTiIsIlNZU1RFTSIsIkNVU1RPTUVSIiwiY29uc3RydWN0b3IiLCJhcHAiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJnZXRDdXN0b21lcnMiLCJnZXRDdXN0b21lckJ5SWQiLCJnZXRDdXN0b21lcnNCeU5hbWUiLCJnZXRDdXN0b21lcnNCeUVtYWlsIiwiZ2V0Q3VzdG9tZXJCeUVtYWlsIiwicG9zdCIsImNyZWF0ZUN1c3RvbWVyIiwicHV0IiwidXBkYXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJkZWxldGVDdXN0b21lciIsInJlcSIsImN1c3RvbWVyU2VydmljZSIsImN1c3RvbWVySWQiLCJwYXJhbXMiLCJuYW1lIiwiZW1haWwiLCJib2R5IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQXVCQywrQkFBN0I7SUFFcUJDLFcsV0FhbEIsd0NBQWEsQ0FBQ0MseUJBQWVDLEtBQWhCLENBQWIsQyxVQUdBLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRCx5QkFBZUMsS0FBaEIsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0QseUJBQWVDLEtBQWhCLENBQWIsQyxVQU1BLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixFQUF1QkQseUJBQWVFLE1BQXRDLEVBQThDRix5QkFBZUcsUUFBN0QsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0gseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBT0Esd0NBQWEsQ0FBQ0YseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0Ys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QXBFLENBQWI7QUFDRDs7QUFFRCxRQUNNUCxjQUROLENBQ3FCQyxHQURyQixFQUMwQjtBQUN4QixVQUFNO0FBQUVFLE1BQUFBO0FBQUYsUUFBaUJGLEdBQUcsQ0FBQ0csTUFBSixJQUFjLEVBQXJDO0FBQ0EsV0FBTyxNQUFNRixlQUFlLENBQUNGLGNBQWhCLENBQStCckIsZ0JBQS9CLEVBQWlEd0IsVUFBakQsQ0FBYjtBQUNEOztBQXpEOEIsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2FwaSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGN1c3RvbWVyU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9jdXN0b21lci1zZXJ2aWNlJztcbmltcG9ydCB7IFVuaXRPZldvcmtDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9lbnVtcy91bml0X29mX3dvcmsnO1xuaW1wb3J0IHsgUmVxdWlyZWRSb2xlLCBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi9kZWNvcmF0b3JzL2F1dGhvcml6YXRpb24taGFuZGxlcic7XG5pbXBvcnQgeyBQcmVkZWZpbmVkUm9sZSB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvZGFsLXR5cGVzJztcblxuY29uc3QgeyBQT1NUR1JFU19DT05URVhUIH0gPSBVbml0T2ZXb3JrQ29udGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tZXJBcGkge1xuXG4gIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzJywgYXV0aGVudGljYXRlLCB0aGlzLmdldEN1c3RvbWVycyk7XG4gICAgYXBwLmdldCgnL2FwaS9jdXN0b21lcnMvOmN1c3RvbWVySWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJCeUlkKTtcbiAgICBhcHAuZ2V0KCcvYXBpL2N1c3RvbWVycy9saWtlTmFtZS86bmFtZScsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRDdXN0b21lcnNCeU5hbWUpO1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzL2xpa2VFbWFpbC86ZW1haWwnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJzQnlFbWFpbCk7XG4gICAgYXBwLmdldCgnL2FwaS9jdXN0b21lcnMvYnlFbWFpbC86ZW1haWwnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJCeUVtYWlsKTtcbiAgICBhcHAucG9zdCgnL2FwaS9jdXN0b21lcnMnLCBhdXRoZW50aWNhdGUsIHRoaXMuY3JlYXRlQ3VzdG9tZXIpO1xuICAgIGFwcC5wdXQoJy9hcGkvY3VzdG9tZXJzLzpjdXN0b21lcklkJywgYXV0aGVudGljYXRlLCB0aGlzLnVwZGF0ZUN1c3RvbWVyKTtcbiAgICBhcHAuZGVsZXRlKCcvYXBpL2N1c3RvbWVycy86Y3VzdG9tZXJJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy5kZWxldGVDdXN0b21lcik7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVycyhyZXEpIHsgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnMoUE9TVEdSRVNfQ09OVEVYVCk7IH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyQnlJZChyZXEpIHtcbiAgICBjb25zdCB7IGN1c3RvbWVySWQgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lckJ5SWQoUE9TVEdSRVNfQ09OVEVYVCwgY3VzdG9tZXJJZCk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyc0J5TmFtZShyZXEpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnNCeU5hbWUoUE9TVEdSRVNfQ09OVEVYVCwgbmFtZSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGdldEN1c3RvbWVyc0J5RW1haWwocmVxKSB7XG4gICAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyc0J5RW1haWwoUE9TVEdSRVNfQ09OVEVYVCwgZW1haWwpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLlNZU1RFTSwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyBnZXRDdXN0b21lckJ5RW1haWwocmVxKSB7XG4gICAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyQnlFbWFpbChQT1NUR1JFU19DT05URVhULCBlbWFpbCk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuU1lTVEVNXSlcbiAgYXN5bmMgY3JlYXRlQ3VzdG9tZXIocmVxKSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSByZXE7XG4gICAgY29uc29sZS5sb2coJ2VudHJhIGFxdWknKTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmNyZWF0ZUN1c3RvbWVyKFBPU1RHUkVTX0NPTlRFWFQsIGJvZHkpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLlNZU1RFTV0pXG4gIGFzeW5jIHVwZGF0ZUN1c3RvbWVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSwgcGFyYW1zID0ge30gfSA9IHJlcTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLnVwZGF0ZUN1c3RvbWVyKFBPU1RHUkVTX0NPTlRFWFQsIHBhcmFtcy5jdXN0b21lcklkLCBib2R5KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOXSlcbiAgYXN5bmMgZGVsZXRlQ3VzdG9tZXIocmVxKSB7XG4gICAgY29uc3QgeyBjdXN0b21lcklkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBjdXN0b21lclNlcnZpY2UuZGVsZXRlQ3VzdG9tZXIoUE9TVEdSRVNfQ09OVEVYVCwgY3VzdG9tZXJJZCk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "customer.js"
      ],
      "names": [
        "POSTGRES_CONTEXT",
        "UnitOfWorkContext",
        "CustomerApi",
        "PredefinedRole",
        "ADMIN",
        "SYSTEM",
        "CUSTOMER",
        "constructor",
        "app",
        "get",
        "authenticate",
        "getCustomers",
        "getCustomerById",
        "getCustomersByName",
        "getCustomersByEmail",
        "getCustomerByEmail",
        "post",
        "createCustomer",
        "put",
        "updateCustomer",
        "delete",
        "deleteCustomer",
        "req",
        "customerService",
        "customerId",
        "params",
        "name",
        "email",
        "body",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/api",
      "sourcesContent": [
        "import * as customerService from '../services/customer-service';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { RequiredRole, authenticate } from '../decorators/authorization-handler';\nimport { PredefinedRole } from '../helpers/enums/dal-types';\n\nconst { POSTGRES_CONTEXT } = UnitOfWorkContext;\n\nexport default class CustomerApi {\n\n  constructor(app) {\n    app.get('/api/customers', authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', authenticate, this.deleteCustomer);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomers(req) { return await customerService.getCustomers(POSTGRES_CONTEXT); }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomerById(req) {\n    const { customerId } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByName(req) {\n    const { name } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM, PredefinedRole.CUSTOMER])\n  async getCustomerByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async createCustomer(req) {\n    const { body } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async updateCustomer(req) {\n    const { body, params = {} } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async deleteCustomer(req) {\n    const { customerId } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557314797872
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/services/customer-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/services/customer-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
        "sourceFileName": "customer-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteCustomer = exports.createCustomer = exports.updateCustomer = exports.getCustomerByEmail = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerById = exports.getCustomers = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar customerRepo = _interopRequireWildcard(require(\"../dal/customer-repo\"));\n\nvar _validator = require(\"../helpers/validator\");\n\nvar _mapper = require(\"../helpers/mapper\");\n\nvar _externalService = require(\"./external-service\");\n\nconst getCustomers = async dbContext => {\n  (0, _validator.validatePreconditions)(['dbContext'], {\n    dbContext\n  });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomersByName = async (dbContext, name) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'name'], {\n    dbContext,\n    name\n  });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerByEmail(dbContext, email)));\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId', 'customer'], {\n    dbContext,\n    customerId,\n    customer\n  });\n  return await customerRepo.updateCustomer(dbContext, customerId, (0, _mapper.mapParams)(customer));\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email', 'fullname', 'password'], (0, _objectSpread2.default)({\n    dbContext\n  }, customer));\n  const externalUserId = await (0, _externalService.createUser)(customer);\n  const {\n    id: customerId\n  } = await customerRepo.createCustomer(dbContext, (0, _mapper.mapParams)((0, _objectSpread2.default)({}, customer, {\n    externalUserId\n  })));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexports.createCustomer = createCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n\nexports.deleteCustomer = deleteCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiY3VzdG9tZXJSZXBvIiwibWFwIiwiY3VzdG9tZXIiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwiZ2V0Q3VzdG9tZXJzQnlOYW1lIiwibmFtZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyQnlFbWFpbCIsInVwZGF0ZUN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXIiLCJleHRlcm5hbFVzZXJJZCIsImlkIiwiZGVsZXRlQ3VzdG9tZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUFtQjtBQUM3Qyx3Q0FBc0IsQ0FBQyxXQUFELENBQXRCLEVBQXFDO0FBQUVBLElBQUFBO0FBQUYsR0FBckM7QUFDQSxTQUFPLENBQUMsTUFBTUMsWUFBWSxDQUFDRixZQUFiLENBQTBCQyxTQUExQixDQUFQLEVBQTZDRSxHQUE3QyxDQUFpREMsUUFBUSxJQUFJLDJCQUFjQSxRQUFkLENBQTdELENBQVA7QUFDRCxDQUhNOzs7O0FBS0EsTUFBTUMsZUFBZSxHQUFHLE9BQU9KLFNBQVAsRUFBa0JLLFVBQWxCLEtBQWlDO0FBQzlELHdDQUFzQixDQUFDLFdBQUQsRUFBYyxZQUFkLENBQXRCLEVBQW1EO0FBQUVMLElBQUFBLFNBQUY7QUFBYUssSUFBQUE7QUFBYixHQUFuRDtBQUNBLFNBQU8sNEJBQWUsTUFBTUosWUFBWSxDQUFDRyxlQUFiLENBQTZCSixTQUE3QixFQUF3Q0ssVUFBeEMsQ0FBckIsRUFBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNQyxrQkFBa0IsR0FBRyxPQUFPTixTQUFQLEVBQWtCTyxJQUFsQixLQUEyQjtBQUMzRCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsTUFBZCxDQUF0QixFQUE2QztBQUFFUCxJQUFBQSxTQUFGO0FBQWFPLElBQUFBO0FBQWIsR0FBN0M7QUFDQSxTQUFPLENBQUMsTUFBTU4sWUFBWSxDQUFDSyxrQkFBYixDQUFnQ04sU0FBaEMsRUFBMkNPLElBQTNDLENBQVAsRUFBeURMLEdBQXpELENBQTZEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBekUsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNSyxtQkFBbUIsR0FBRyxPQUFPUixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLENBQUMsTUFBTVIsWUFBWSxDQUFDTyxtQkFBYixDQUFpQ1IsU0FBakMsRUFBNENTLEtBQTVDLENBQVAsRUFBMkRQLEdBQTNELENBQStEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBM0UsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNTyxrQkFBa0IsR0FBRyxPQUFPVixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM1RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLDRCQUFjLE1BQU1SLFlBQVksQ0FBQ1Msa0JBQWIsQ0FBZ0NWLFNBQWhDLEVBQTJDUyxLQUEzQyxDQUFwQixFQUFQO0FBQ0QsQ0FITTs7OztBQUtBLE1BQU1FLGNBQWMsR0FBRyxPQUFPWCxTQUFQLEVBQWtCSyxVQUFsQixFQUE4QkYsUUFBOUIsS0FBMkM7QUFDdkUsd0NBQXNCLENBQUMsV0FBRCxFQUFjLFlBQWQsRUFBNEIsVUFBNUIsQ0FBdEIsRUFBK0Q7QUFBRUgsSUFBQUEsU0FBRjtBQUFhSyxJQUFBQSxVQUFiO0FBQXlCRixJQUFBQTtBQUF6QixHQUEvRDtBQUNBLFNBQU8sTUFBTUYsWUFBWSxDQUFDVSxjQUFiLENBQTRCWCxTQUE1QixFQUF1Q0ssVUFBdkMsRUFBbUQsdUJBQVVGLFFBQVYsQ0FBbkQsQ0FBYjtBQUNELENBSE07Ozs7QUFLQSxNQUFNUyxjQUFjLEdBQUcsT0FBT1osU0FBUCxFQUFrQkcsUUFBbEIsS0FBK0I7QUFDM0Qsd0NBQXNCLENBQUMsV0FBRCxFQUFjLE9BQWQsRUFBdUIsVUFBdkIsRUFBbUMsVUFBbkMsQ0FBdEI7QUFBd0VILElBQUFBO0FBQXhFLEtBQXNGRyxRQUF0RjtBQUNBLFFBQU1VLGNBQWMsR0FBRyxNQUFNLGlDQUFXVixRQUFYLENBQTdCO0FBQ0EsUUFBTTtBQUFFVyxJQUFBQSxFQUFFLEVBQUVUO0FBQU4sTUFBcUIsTUFBTUosWUFBWSxDQUFDVyxjQUFiLENBQTRCWixTQUE1QixFQUF1Qyx1REFBZUcsUUFBZjtBQUF5QlUsSUFBQUE7QUFBekIsS0FBdkMsQ0FBakM7QUFDQSxTQUFPLE1BQU1ULGVBQWUsQ0FBQ0osU0FBRCxFQUFZSyxVQUFaLENBQTVCO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1VLGNBQWMsR0FBRyxPQUFPZixTQUFQLEVBQWtCSyxVQUFsQixLQUFpQztBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsWUFBZCxDQUF0QixFQUFtRDtBQUFFTCxJQUFBQSxTQUFGO0FBQWFLLElBQUFBO0FBQWIsR0FBbkQ7QUFDQSxRQUFNSixZQUFZLENBQUNjLGNBQWIsQ0FBNEJmLFNBQTVCLEVBQXVDSyxVQUF2QyxDQUFOO0FBQ0QsQ0FITSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY3VzdG9tZXJSZXBvIGZyb20gJy4uL2RhbC9jdXN0b21lci1yZXBvJztcbmltcG9ydCB7IHZhbGlkYXRlUHJlY29uZGl0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdG9yJztcbmltcG9ydCB7IG1hcFJlcG9FbnRpdHksIG1hcFBhcmFtcyB9IGZyb20gJy4uL2hlbHBlcnMvbWFwcGVyJztcbmltcG9ydCB7IGNyZWF0ZVVzZXIgfSBmcm9tICcuL2V4dGVybmFsLXNlcnZpY2UnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzID0gYXN5bmMgZGJDb250ZXh0ID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCddLCB7IGRiQ29udGV4dCB9KTtcbiAgcmV0dXJuIChhd2FpdCBjdXN0b21lclJlcG8uZ2V0Q3VzdG9tZXJzKGRiQ29udGV4dCkpLm1hcChjdXN0b21lciA9PiBtYXBSZXBvRW50aXR5KGN1c3RvbWVyKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCB9KTtcbiAgcmV0dXJuIG1hcFJlcG9FbnRpdHkoKGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lckJ5SWQoZGJDb250ZXh0LCBjdXN0b21lcklkKSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyc0J5TmFtZSA9IGFzeW5jIChkYkNvbnRleHQsIG5hbWUpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ25hbWUnXSwgeyBkYkNvbnRleHQsIG5hbWUgfSk7XG4gIHJldHVybiAoYXdhaXQgY3VzdG9tZXJSZXBvLmdldEN1c3RvbWVyc0J5TmFtZShkYkNvbnRleHQsIG5hbWUpKS5tYXAoY3VzdG9tZXIgPT4gbWFwUmVwb0VudGl0eShjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyc0J5RW1haWwgPSBhc3luYyAoZGJDb250ZXh0LCBlbWFpbCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnZW1haWwnXSwgeyBkYkNvbnRleHQsIGVtYWlsIH0pO1xuICByZXR1cm4gKGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lcnNCeUVtYWlsKGRiQ29udGV4dCwgZW1haWwpKS5tYXAoY3VzdG9tZXIgPT4gbWFwUmVwb0VudGl0eShjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyQnlFbWFpbCA9IGFzeW5jIChkYkNvbnRleHQsIGVtYWlsKSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdlbWFpbCddLCB7IGRiQ29udGV4dCwgZW1haWwgfSk7XG4gIHJldHVybiBtYXBSZXBvRW50aXR5KGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lckJ5RW1haWwoZGJDb250ZXh0LCBlbWFpbCkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCwgY3VzdG9tZXIpID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdjdXN0b21lcklkJywgJ2N1c3RvbWVyJ10sIHsgZGJDb250ZXh0LCBjdXN0b21lcklkLCBjdXN0b21lciB9KTtcbiAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyUmVwby51cGRhdGVDdXN0b21lcihkYkNvbnRleHQsIGN1c3RvbWVySWQsIG1hcFBhcmFtcyhjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXIpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2VtYWlsJywgJ2Z1bGxuYW1lJywgJ3Bhc3N3b3JkJ10sIHsgZGJDb250ZXh0LCAuLi5jdXN0b21lciB9KTtcbiAgY29uc3QgZXh0ZXJuYWxVc2VySWQgPSBhd2FpdCBjcmVhdGVVc2VyKGN1c3RvbWVyKTtcbiAgY29uc3QgeyBpZDogY3VzdG9tZXJJZCB9ID0gYXdhaXQgY3VzdG9tZXJSZXBvLmNyZWF0ZUN1c3RvbWVyKGRiQ29udGV4dCwgbWFwUGFyYW1zKHsgLi4uY3VzdG9tZXIsIGV4dGVybmFsVXNlcklkIH0pKTtcbiAgcmV0dXJuIGF3YWl0IGdldEN1c3RvbWVyQnlJZChkYkNvbnRleHQsIGN1c3RvbWVySWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCB9KTtcbiAgYXdhaXQgY3VzdG9tZXJSZXBvLmRlbGV0ZUN1c3RvbWVyKGRiQ29udGV4dCwgY3VzdG9tZXJJZCk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "customer-service.js"
      ],
      "names": [
        "getCustomers",
        "dbContext",
        "customerRepo",
        "map",
        "customer",
        "getCustomerById",
        "customerId",
        "getCustomersByName",
        "name",
        "getCustomersByEmail",
        "email",
        "getCustomerByEmail",
        "updateCustomer",
        "createCustomer",
        "externalUserId",
        "id",
        "deleteCustomer"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/services",
      "sourcesContent": [
        "import * as customerRepo from '../dal/customer-repo';\nimport { validatePreconditions } from '../helpers/validator';\nimport { mapRepoEntity, mapParams } from '../helpers/mapper';\nimport { createUser } from './external-service';\n\nexport const getCustomers = async dbContext => { \n  validatePreconditions(['dbContext'], { dbContext });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerById = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  return mapRepoEntity((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexport const getCustomersByName = async (dbContext, name) => {\n  validatePreconditions(['dbContext', 'name'], { dbContext, name });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return mapRepoEntity(await customerRepo.getCustomerByEmail(dbContext, email));\n};\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  validatePreconditions(['dbContext', 'customerId', 'customer'], { dbContext, customerId, customer });\n  return await customerRepo.updateCustomer(dbContext, customerId, mapParams(customer));\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  validatePreconditions(['dbContext', 'email', 'fullname', 'password'], { dbContext, ...customer });\n  const externalUserId = await createUser(customer);\n  const { id: customerId } = await customerRepo.createCustomer(dbContext, mapParams({ ...customer, externalUserId }));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558019219406
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/dal\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/dal/customer-repo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/dal/customer-repo.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
        "sourceFileName": "customer-repo.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCustomer = exports.deleteCustomer = exports.updateCustomer = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerByEmail = exports.getCustomerById = exports.getCustomers = exports.CUSTOMER_TABLE = void 0;\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _unit_of_work2 = require(\"../helpers/enums/unit_of_work\");\n\nvar _config = require(\"../config\");\n\nconst CUSTOMER_TABLE = 'customer';\nexports.CUSTOMER_TABLE = CUSTOMER_TABLE;\nconst CUSTOMER_TABLE_COLUMNS = ['id', 'email', 'phone', 'external_user_id', 'fullname', 'alias', 'preferences', 'created_at', 'updated_at'];\n\nconst getCustomers = async dbContext => await new _unit_of_work.default(dbContext).getAll(_config.schema, {\n  tableName: CUSTOMER_TABLE,\n  columns: CUSTOMER_TABLE_COLUMNS\n});\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', {\n      email\n    })\n  });\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst getCustomersByName = async (dbContext, name) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('fullname LIKE :name', {\n      name: `%${name}%`\n    })\n  });\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', {\n      email: `%${email}%`\n    })\n  });\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.deleteCustomer = deleteCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createCustomer = createCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXJlcG8uanMiXSwibmFtZXMiOlsiQ1VTVE9NRVJfVEFCTEUiLCJDVVNUT01FUl9UQUJMRV9DT0xVTU5TIiwiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiVW5pdE9mV29yayIsImdldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwidW5pdE9mV29yayIsImdldE9uZVdoZXJlIiwid2hlcmUiLCJkYkNvbm5lY3Rpb24iLCJyYXciLCJnZXRDdXN0b21lckJ5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyc0J5TmFtZSIsIm5hbWUiLCJnZXRBbGxXaGVyZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJ1cGRhdGVDdXN0b21lciIsImN1c3RvbWVyIiwidXBkYXRlIiwiZW50aXR5IiwiZGVsZXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJjcmVhdGVDdXN0b21lciIsInJlc3VsdCIsImNyZWF0ZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRU8sTUFBTUEsY0FBYyxHQUFHLFVBQXZCOztBQUNQLE1BQU1DLHNCQUFzQixHQUFHLENBQzdCLElBRDZCLEVBRTdCLE9BRjZCLEVBRzdCLE9BSDZCLEVBSTdCLGtCQUo2QixFQUs3QixVQUw2QixFQU03QixPQU42QixFQU83QixhQVA2QixFQVE3QixZQVI2QixFQVM3QixZQVQ2QixDQUEvQjs7QUFZTyxNQUFNQyxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUMxQixNQUFNLElBQUlDLHFCQUFKLENBQWVELFNBQWYsRUFBMEJFLE1BQTFCLENBQWlDQyxjQUFqQyxFQUF5QztBQUM5Q0MsRUFBQUEsU0FBUyxFQUFFUCxjQURtQztBQUU5Q1EsRUFBQUEsT0FBTyxFQUFFUDtBQUZxQyxDQUF6QyxDQUREOzs7O0FBTUEsTUFBTVEsZUFBZSxHQUFHLE9BQU9OLFNBQVAsRUFBa0JPLFVBQWxCLEtBQWlDO0FBQzlELFFBQU1DLFVBQVUsR0FBRyxJQUFJUCxxQkFBSixDQUFlRCxTQUFmLENBQW5CO0FBQ0EsU0FBTyxNQUFNUSxVQUFVLENBQUNDLFdBQVgsQ0FBdUJOLGNBQXZCLEVBQStCO0FBQzNDQyxJQUFBQSxTQUFTLEVBQUVQLGNBRGdDO0FBRTNDUSxJQUFBQSxPQUFPLEVBQUVQLHNCQUZrQztBQUczQ1ksSUFBQUEsS0FBSyxFQUFFRixVQUFVLENBQUNHLFlBQVgsQ0FBd0JDLEdBQXhCLENBQTRCLGtCQUE1QixFQUFnRDtBQUFFTCxNQUFBQTtBQUFGLEtBQWhEO0FBSG9DLEdBQS9CLENBQWI7QUFLRCxDQVBNOzs7O0FBU0EsTUFBTU0sa0JBQWtCLEdBQUcsT0FBT2IsU0FBUCxFQUFrQmMsS0FBbEIsS0FBNEI7QUFDNUQsUUFBTU4sVUFBVSxHQUFHLElBQUlQLHFCQUFKLENBQWVELFNBQWYsQ0FBbkI7QUFDQSxTQUFPLE1BQU1RLFVBQVUsQ0FBQ0MsV0FBWCxDQUF1Qk4sY0FBdkIsRUFBK0I7QUFDMUNDLElBQUFBLFNBQVMsRUFBRVAsY0FEK0I7QUFFMUNRLElBQUFBLE9BQU8sRUFBRVAsc0JBRmlDO0FBRzFDWSxJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIsZ0JBQTVCLEVBQThDO0FBQUVFLE1BQUFBO0FBQUYsS0FBOUM7QUFIbUMsR0FBL0IsQ0FBYjtBQUtELENBUE07Ozs7QUFVQSxNQUFNQyxrQkFBa0IsR0FBRyxPQUFPZixTQUFQLEVBQWtCZ0IsSUFBbEIsS0FBMkI7QUFDM0QsUUFBTVIsVUFBVSxHQUFHLElBQUlQLHFCQUFKLENBQWVELFNBQWYsQ0FBbkI7QUFDQSxTQUFPLE1BQU1RLFVBQVUsQ0FBQ1MsV0FBWCxDQUF1QmQsY0FBdkIsRUFBK0I7QUFDM0NDLElBQUFBLFNBQVMsRUFBRVAsY0FEZ0M7QUFFM0NRLElBQUFBLE9BQU8sRUFBRVAsc0JBRmtDO0FBRzNDWSxJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIscUJBQTVCLEVBQW1EO0FBQUVJLE1BQUFBLElBQUksRUFBRyxJQUFHQSxJQUFLO0FBQWpCLEtBQW5EO0FBSG9DLEdBQS9CLENBQWI7QUFLRCxDQVBNOzs7O0FBU0EsTUFBTUUsbUJBQW1CLEdBQUcsT0FBT2xCLFNBQVAsRUFBa0JjLEtBQWxCLEtBQTRCO0FBQzdELFFBQU1OLFVBQVUsR0FBRyxJQUFJUCxxQkFBSixDQUFlRCxTQUFmLENBQW5CO0FBQ0EsU0FBTyxNQUFNUSxVQUFVLENBQUNTLFdBQVgsQ0FBdUJkLGNBQXZCLEVBQStCO0FBQzFDQyxJQUFBQSxTQUFTLEVBQUVQLGNBRCtCO0FBRTFDUSxJQUFBQSxPQUFPLEVBQUVQLHNCQUZpQztBQUcxQ1ksSUFBQUEsS0FBSyxFQUFFRixVQUFVLENBQUNHLFlBQVgsQ0FBd0JDLEdBQXhCLENBQTRCLG1CQUE1QixFQUFpRDtBQUFFRSxNQUFBQSxLQUFLLEVBQUcsSUFBR0EsS0FBTTtBQUFuQixLQUFqRDtBQUhtQyxHQUEvQixDQUFiO0FBS0QsQ0FQTTs7OztBQVVBLE1BQU1LLGNBQWMsR0FBRyxPQUFPbkIsU0FBUCxFQUFrQk8sVUFBbEIsRUFBOEJhLFFBQTlCLEtBQTJDO0FBQ3ZFLFFBQU1aLFVBQVUsR0FBRyxJQUFJUCxxQkFBSixDQUFlRCxTQUFmLENBQW5CO0FBQ0EsU0FBTyxNQUFNUSxVQUFVLENBQUNhLE1BQVgsQ0FBa0JsQixjQUFsQixFQUEwQjtBQUN0Q0MsSUFBQUEsU0FBUyxFQUFFUCxjQUQyQjtBQUV0Q1EsSUFBQUEsT0FBTyxFQUFFUCxzQkFGNkI7QUFHdEN3QixJQUFBQSxNQUFNLEVBQUVGLFFBSDhCO0FBSXRDVixJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIsa0JBQTVCLEVBQWdEO0FBQUVMLE1BQUFBO0FBQUYsS0FBaEQ7QUFKK0IsR0FBMUIsQ0FBYjtBQU1ELENBUk07Ozs7QUFVQSxNQUFNZ0IsY0FBYyxHQUFHLE9BQU92QixTQUFQLEVBQWtCTyxVQUFsQixLQUFpQztBQUM3RCxRQUFNQyxVQUFVLEdBQUcsSUFBSVAscUJBQUosQ0FBZUQsU0FBZixDQUFuQjtBQUNBLFNBQU8sTUFBTVEsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQnJCLGNBQWxCLEVBQTBCO0FBQ3RDQyxJQUFBQSxTQUFTLEVBQUVQLGNBRDJCO0FBRXRDYSxJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIsa0JBQTVCLEVBQWdEO0FBQUVMLE1BQUFBO0FBQUYsS0FBaEQ7QUFGK0IsR0FBMUIsQ0FBYjtBQUlELENBTk07Ozs7QUFRQSxNQUFNa0IsY0FBYyxHQUFHLE9BQU96QixTQUFQLEVBQWtCb0IsUUFBbEIsS0FBK0I7QUFDM0QsUUFBTU0sTUFBTSxHQUFHLE1BQU8sSUFBSXpCLHFCQUFKLENBQWVELFNBQWYsRUFBMEIyQixNQUExQixDQUFpQ3hCLGNBQWpDLEVBQXlDO0FBQzdEQyxJQUFBQSxTQUFTLEVBQUVQLGNBRGtEO0FBRTdEUSxJQUFBQSxPQUFPLEVBQUVQLHNCQUZvRDtBQUc3RHdCLElBQUFBLE1BQU0sRUFBRUY7QUFIcUQsR0FBekMsQ0FBdEI7QUFNQSxTQUFRTSxNQUFNLENBQUNFLE1BQVAsSUFBaUJGLE1BQU0sQ0FBQyxDQUFELENBQXhCLElBQWdDLEVBQXZDO0FBQ0QsQ0FSTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2RhbCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml0T2ZXb3JrIGZyb20gJy4uL2RhdGFiYXNlL3VuaXRfb2Zfd29yay5qcyc7XG5pbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBDVVNUT01FUl9UQUJMRSA9ICdjdXN0b21lcic7XG5jb25zdCBDVVNUT01FUl9UQUJMRV9DT0xVTU5TID0gW1xuICAnaWQnLFxuICAnZW1haWwnLFxuICAncGhvbmUnLFxuICAnZXh0ZXJuYWxfdXNlcl9pZCcsXG4gICdmdWxsbmFtZScsXG4gICdhbGlhcycsXG4gICdwcmVmZXJlbmNlcycsXG4gICdjcmVhdGVkX2F0JyxcbiAgJ3VwZGF0ZWRfYXQnXG5dO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzID0gYXN5bmMgZGJDb250ZXh0ID0+IFxuICBhd2FpdChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpLmdldEFsbChzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyBcbiAgfSkpO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmdldE9uZVdoZXJlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJCeUVtYWlsID0gYXN5bmMgKGRiQ29udGV4dCwgZW1haWwpID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5nZXRPbmVXaGVyZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gICAgY29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyxcbiAgICB3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdlbWFpbCA9IDplbWFpbCcsIHsgZW1haWwgfSlcbiAgfSk7XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lcnNCeU5hbWUgPSBhc3luYyAoZGJDb250ZXh0LCBuYW1lKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZ2V0QWxsV2hlcmUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICBcdGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnZnVsbG5hbWUgTElLRSA6bmFtZScsIHsgbmFtZTogYCUke25hbWV9JWAgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzQnlFbWFpbCA9IGFzeW5jIChkYkNvbnRleHQsIGVtYWlsKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZ2V0QWxsV2hlcmUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnZW1haWwgTElLRSA6ZW1haWwnLCB7IGVtYWlsOiBgJSR7ZW1haWx9JWAgfSlcbiAgfSk7XG59O1xuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQsIGN1c3RvbWVyKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsudXBkYXRlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICBcdGVudGl0eTogY3VzdG9tZXIsXG4gIFx0d2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnaWQgPSA6Y3VzdG9tZXJJZCcsIHsgY3VzdG9tZXJJZCB9KVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5kZWxldGUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tZXIgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCAobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KS5jcmVhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gICAgZW50aXR5OiBjdXN0b21lcixcbiAgfSkpO1xuICBcbiAgcmV0dXJuIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFswXSkgfHwge307XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "customer-repo.js"
      ],
      "names": [
        "CUSTOMER_TABLE",
        "CUSTOMER_TABLE_COLUMNS",
        "getCustomers",
        "dbContext",
        "UnitOfWork",
        "getAll",
        "schema",
        "tableName",
        "columns",
        "getCustomerById",
        "customerId",
        "unitOfWork",
        "getOneWhere",
        "where",
        "dbConnection",
        "raw",
        "getCustomerByEmail",
        "email",
        "getCustomersByName",
        "name",
        "getAllWhere",
        "getCustomersByEmail",
        "updateCustomer",
        "customer",
        "update",
        "entity",
        "deleteCustomer",
        "delete",
        "createCustomer",
        "result",
        "create",
        "length"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/dal",
      "sourcesContent": [
        "import UnitOfWork from '../database/unit_of_work.js';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { schema } from '../config';\n\nexport const CUSTOMER_TABLE = 'customer';\nconst CUSTOMER_TABLE_COLUMNS = [\n  'id',\n  'email',\n  'phone',\n  'external_user_id',\n  'fullname',\n  'alias',\n  'preferences',\n  'created_at',\n  'updated_at'\n];\n\nexport const getCustomers = async dbContext => \n  await(new UnitOfWork(dbContext).getAll(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS \n  }));\n\nexport const getCustomerById = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', { email })\n  });\n};\n\n\nexport const getCustomersByName = async (dbContext, name) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('fullname LIKE :name', { name: `%${name}%` })\n  });\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', { email: `%${email}%` })\n  });\n};\n\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \tentity: customer,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549687677059
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/database/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/database/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _pg_test_db_connection = require(\"./connections/pg_test_db_connection\");\n\nvar _pg_db_connection = require(\"./connections/pg_db_connection\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'UnitOfWork'\n});\n\nclass UnitOfWork {\n  constructor(context) {\n    this.dbConnectionMap = {\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: _pg_test_db_connection.pgTestDbConnection,\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_CONTEXT]: _pg_db_connection.pgDbConnection\n    };\n\n    this.executeTransaction = async ({\n      func,\n      trx\n    }) => {\n      const transact = async transaction => await func().transacting(transaction).catch(error => {\n        logger.error(error, 'Transaction Failed');\n        transaction.rollback();\n        throw error;\n      });\n\n      const result = await (trx ? transact(trx) : new Promise((resolve, reject) => {\n        return this.dbConnection.transaction(async transaction => {\n          const response = await transact(transaction);\n          resolve(response);\n        });\n      }));\n      return result.rows || result;\n    };\n\n    this._getAll = (schema, {\n      tableName,\n      columns,\n      trx\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAll = async (schema, {\n      tableName,\n      columns,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAll(schema, {\n        tableName,\n        columns\n      }),\n      trx\n    });\n\n    this._getOneWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n      LIMIT 1\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getOneWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => {\n      const result = await this.executeTransaction({\n        func: () => this._getOneWhere(schema, {\n          tableName,\n          columns,\n          join,\n          where,\n          groupBy\n        }),\n        trx\n      });\n      return result.length ? result[0] : {};\n    };\n\n    this._getAllWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAllWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAllWhere(schema, {\n        tableName,\n        columns,\n        join,\n        where,\n        groupBy\n      }),\n      trx\n    });\n\n    this.addAuditValues = (entity = {}) => {\n      const now = (0, _moment.default)().format();\n      entity.created_at = now;\n      entity.updated_at = now;\n    };\n\n    this.formatSetValues = (columns, entity) => columns.reduce((acc, column) => {\n      const value = entity[column];\n      if (value == null) return acc;\n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, {\n        [column]: value\n      }).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n    this._update = (schema, {\n      tableName,\n      columns,\n      entity,\n      where = ''\n    }) => this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.update = async (schema, {\n      tableName,\n      columns = [],\n      entity,\n      where,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._update(schema, {\n          tableName,\n          columns,\n          entity,\n          where\n        }),\n        trx\n      });\n    };\n\n    this._delete = (schema, {\n      tableName,\n      where\n    }) => this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.delete = async (schema, {\n      tableName,\n      where,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._delete(schema, {\n        tableName,\n        where\n      }),\n      trx\n    });\n\n    this.formatInsertColumns = (columns, entity) => Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, {\n        [bindingName]: key\n      }));\n      return acc;\n    }, []).join(',');\n\n    this.formatInsertValues = (columns, entity, encryptPassword) => Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, {\n        [key]: entity[key]\n      }));\n      return acc;\n    }, []).join(',');\n\n    this._create = (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict = ''\n    }) => this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, {\n      schema,\n      tableName\n    });\n\n    this.create = async (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._create(schema, {\n          tableName,\n          columns,\n          entity,\n          rawValues,\n          encryptPassword,\n          onConflict\n        }),\n        trx\n      });\n    };\n\n    this.transact = async procedure => await new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    });\n\n    this.context = context;\n    logger.info({\n      context\n    }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection) {\n      logger.error({\n        context\n      }, 'No DB Connection for the given context!');\n    }\n  }\n\n}\n\nexports.default = UnitOfWork;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwiVW5pdE9mV29yayIsImNvbnN0cnVjdG9yIiwiY29udGV4dCIsImRiQ29ubmVjdGlvbk1hcCIsIlVuaXRPZldvcmtDb250ZXh0IiwiUE9TVEdSRVNfVEVTVF9DT05URVhUIiwicGdUZXN0RGJDb25uZWN0aW9uIiwiUE9TVEdSRVNfQ09OVEVYVCIsInBnRGJDb25uZWN0aW9uIiwiZXhlY3V0ZVRyYW5zYWN0aW9uIiwiZnVuYyIsInRyeCIsInRyYW5zYWN0IiwidHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGluZyIsImNhdGNoIiwiZXJyb3IiLCJyb2xsYmFjayIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGJDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJyb3dzIiwiX2dldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJyYXciLCJqb2luIiwiZ2V0QWxsIiwiX2dldE9uZVdoZXJlIiwid2hlcmUiLCJncm91cEJ5IiwiZ2V0T25lV2hlcmUiLCJsZW5ndGgiLCJfZ2V0QWxsV2hlcmUiLCJnZXRBbGxXaGVyZSIsImFkZEF1ZGl0VmFsdWVzIiwiZW50aXR5Iiwibm93IiwiZm9ybWF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJmb3JtYXRTZXRWYWx1ZXMiLCJyZWR1Y2UiLCJhY2MiLCJjb2x1bW4iLCJ2YWx1ZSIsInZhbHVlU3RhdGVtZW50IiwidG9TdHJpbmciLCJwdXNoIiwiX3VwZGF0ZSIsInVwZGF0ZSIsIl9kZWxldGUiLCJkZWxldGUiLCJmb3JtYXRJbnNlcnRDb2x1bW5zIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImluZGV4IiwiaW5jbHVkZXMiLCJiaW5kaW5nTmFtZSIsImZvcm1hdEluc2VydFZhbHVlcyIsImVuY3J5cHRQYXNzd29yZCIsIl9jcmVhdGUiLCJyYXdWYWx1ZXMiLCJvbkNv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O0FBZDZCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvY3VzdG9tZXIvZGF0YWJhc2UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IHBnVGVzdERiQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbnMvcGdfdGVzdF9kYl9jb25uZWN0aW9uJztcbmltcG9ydCB7IHBnRGJDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9ucy9wZ19kYl9jb25uZWN0aW9uJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdVbml0T2ZXb3JrJ30gKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5pdE9mV29yayB7XG4gIGRiQ29ubmVjdGlvbk1hcCA9IHtcbiAgICBbVW5pdE9mV29ya0NvbnRleHQuUE9TVEdSRVNfVEVTVF9DT05URVhUXTogcGdUZXN0RGJDb25uZWN0aW9uLCBcbiAgICBbVW5pdE9mV29ya0NvbnRleHQuUE9TVEdSRVNfQ09OVEVYVF06IHBnRGJDb25uZWN0aW9uLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIGxvZ2dlci5pbmZvKHsgY29udGV4dCB9LCAnVW5pdE9mV29yayBzdGFydGVkIScpO1xuICAgIHRoaXMuZGJDb25uZWN0aW9uID0gdGhpcy5kYkNvbm5lY3Rpb25NYXBbY29udGV4dF07XG5cbiAgICBpZiAoIXRoaXMuZGJDb25uZWN0aW9uKXtcbiAgICAgIGxvZ2dlci5lcnJvcih7IGNvbnRleHQgfSwgJ05vIERCIENvbm5lY3Rpb24gZm9yIHRoZSBnaXZlbiBjb250ZXh0IScpO1xuICAgIH1cbiAgfVxuICBcbiAgZXhlY3V0ZVRyYW5zYWN0aW9uID0gYXN5bmMgKHsgZnVuYywgdHJ4IH0pID0+IHtcbiAgICBjb25zdCB0cmFuc2FjdCA9IGFzeW5jIHRyYW5zYWN0aW9uID0+XG4gICAgICAgIGF3YWl0IGZ1bmMoKVxuICAgICAgICAudHJhbnNhY3RpbmcodHJhbnNhY3Rpb24pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yLCAnVHJhbnNhY3Rpb24gRmFpbGVkJyk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICh0cnggPyBcbiAgICAgIHRyYW5zYWN0KHRyeCkgOlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGJDb25uZWN0aW9uLnRyYW5zYWN0aW9uKGFzeW5jIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdHJhbnNhY3QodHJhbnNhY3Rpb24pO1xuICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgICBcbiAgICByZXR1cm4gcmVzdWx0LnJvd3MgfHwgcmVzdWx0O1xuICB9O1xuXG4gIF9nZXRBbGwgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgdHJ4IH0pID0+XG4gICAgdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGBcbiAgICAgIFNFTEVDVCAke2NvbHVtbnMuam9pbignLCcpfVxuICAgICAgRlJPTSA6c2NoZW1hOi46dGFibGVOYW1lOlxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG5cbiAgZ2V0QWxsID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIHRyeCB9KSA9PiBcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZ2V0QWxsKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMgfSksXG4gICAgICB0cnhcbiAgICB9KTtcblxuICBfZ2V0T25lV2hlcmUgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgam9pbiA9ICcnLCB3aGVyZSA9ICcnLCBncm91cEJ5ID0gbnVsbCB9KSA9PlxuICAgIHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgXG4gICAgICBTRUxFQ1QgJHtjb2x1bW5zLmpvaW4oJywnKX1cbiAgICAgIEZST00gOnNjaGVtYTouOnRhYmxlTmFtZTpcbiAgICAgICR7am9pbn1cbiAgICAgIFdIRVJFICR7d2hlcmV9XG4gICAgICAkeyhncm91cEJ5ID8gYEdST1VQIEJZICgke2dyb3VwQnl9KWA6ICcnKX1cbiAgICAgIExJTUlUIDFcbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIGdldE9uZVdoZXJlID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGpvaW4sIHdoZXJlLCBncm91cEJ5LCB0cnggfSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVRyYW5zYWN0aW9uKHsgXG4gICAgICBmdW5jOiAoKSA9PiB0aGlzLl9nZXRPbmVXaGVyZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSB9KSxcbiAgICAgIHRyeFxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID8gcmVzdWx0WzBdIDoge307XG4gIH07XG5cbiAgX2dldEFsbFdoZXJlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGpvaW4gPSAnJywgd2hlcmUgPSAnJywgZ3JvdXBCeSA9IG51bGwgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgU0VMRUNUICR7Y29sdW1ucy5qb2luKCcsJyl9XG4gICAgICBGUk9NIDpzY2hlbWE6Ljp0YWJsZU5hbWU6XG4gICAgICAke2pvaW59XG4gICAgICBXSEVSRSAke3doZXJlfVxuICAgICAgJHsoZ3JvdXBCeSA/IGBHUk9VUCBCWSAoJHtncm91cEJ5fSlgOiAnJyl9XG4gICAgYCwgeyBzY2hlbWEsIHRhYmxlTmFtZSB9KTtcblxuICBnZXRBbGxXaGVyZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSwgdHJ4IH0pID0+IFxuICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYW5zYWN0aW9uKHsgXG4gICAgICBmdW5jOiAoKSA9PiB0aGlzLl9nZXRBbGxXaGVyZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSB9KSxcbiAgICAgIHRyeFxuICAgIH0pO1xuICBcbiAgYWRkQXVkaXRWYWx1ZXMgPSAoZW50aXR5ID0ge30pID0+IHtcbiAgICBjb25zdCBub3cgPSBtb21lbnQoKS5mb3JtYXQoKTtcbiAgICBlbnRpdHkuY3JlYXRlZF9hdCA9IG5vdztcbiAgICBlbnRpdHkudXBkYXRlZF9hdCA9IG5vdztcbiAgfTtcblxuICBmb3JtYXRTZXRWYWx1ZXMgPSAoY29sdW1ucywgZW50aXR5KSA9PiBcbiAgICBjb2x1bW5zLnJlZHVjZSgoYWNjLCBjb2x1bW4pID0+IHsgXG4gICAgICBjb25zdCB2YWx1ZSA9IGVudGl0eVtjb2x1bW5dO1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBhY2M7XG4gICAgICBcbiAgICAgIGNvbnN0IHZhbHVlU3RhdGVtZW50ID0gdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGAke2NvbHVtbn0gPSA6JHtjb2x1bW59YCwgeyBbY29sdW1uXTogdmFsdWUgfSApLnRvU3RyaW5nKCk7XG4gICAgICBhY2MucHVzaCh2YWx1ZVN0YXRlbWVudCk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKS5qb2luKCcsJyk7XG5cbiAgX3VwZGF0ZSA9IChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHdoZXJlID0gJycgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgVVBEQVRFIDpzY2hlbWE6Ljp0YWJsZU5hbWU6IFxuICAgICAgICBTRVQgJHt0aGlzLmZvcm1hdFNldFZhbHVlcyhjb2x1bW5zLCBlbnRpdHkpfVxuICAgICAgV0hFUkUgJHt3aGVyZX1cbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIHVwZGF0ZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zID0gW10sIGVudGl0eSwgd2hlcmUsIHRyeCB9KSA9PiB7XG4gICAgdGhpcy5hZGRBdWRpdFZhbHVlcyhlbnRpdHkpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fdXBkYXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgd2hlcmUgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgfTtcbiAgXG4gIF9kZWxldGUgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgd2hlcmUgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgREVMRVRFXG4gICAgICBGUk9NIDpzY2hlbWE6Ljp0YWJsZU5hbWU6XG4gICAgICBXSEVSRSAke3doZXJlfVxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG4gIFxuICBkZWxldGUgPSBhc3luYyAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgd2hlcmUsIHRyeCB9KSA9PiBcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZGVsZXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIHdoZXJlIH0pLFxuICAgICAgdHJ4XG4gICAgfSk7XG5cbiAgZm9ybWF0SW5zZXJ0Q29sdW1ucyA9IChjb2x1bW5zLCBlbnRpdHkpID0+XG4gICAgT2JqZWN0LmtleXMoZW50aXR5KS5yZWR1Y2UoKGFjYywga2V5LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFjb2x1bW5zLmluY2x1ZGVzKGtleSkpIHJldHVybiBhY2M7XG5cbiAgICAgIGNvbnN0IGJpbmRpbmdOYW1lID0gYCR7a2V5fSR7aW5kZXh9YDtcbiAgICAgIGFjYy5wdXNoKHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgOiR7YmluZGluZ05hbWV9OmAsIHsgW2JpbmRpbmdOYW1lXToga2V5IH0pKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pLmpvaW4oJywnKTtcblxuICBmb3JtYXRJbnNlcnRWYWx1ZXMgPSAoY29sdW1ucywgZW50aXR5LCBlbmNyeXB0UGFzc3dvcmQpID0+XG4gICAgT2JqZWN0LmtleXMoZW50aXR5KS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBpZiAoIWNvbHVtbnMuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGFjYztcblxuICAgICAgY29uc3QgYmluZGluZ05hbWUgPSBlbmNyeXB0UGFzc3dvcmQgJiYga2V5ID09PSAncGFzc3dvcmQnID8gYE1ENSg6JHtrZXl9KWAgOiBgOiR7a2V5fWA7XG4gICAgICBhY2MucHVzaCh0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYmluZGluZ05hbWUsIHsgW2tleV06IGVudGl0eVtrZXldIH0pKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pLmpvaW4oJywnKTtcblxuICBfY3JlYXRlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QgPSAnJyB9KSA9PlxuICAgIHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgXG4gICAgICBJTlNFUlQgSU5UTyA6c2NoZW1hOi46dGFibGVOYW1lOiAoJHt0aGlzLmZvcm1hdEluc2VydENvbHVtbnMoY29sdW1ucywgZW50aXR5KX0pXG4gICAgICAgIFZBTFVFUyAoJHtyYXdWYWx1ZXMgfHwgdGhpcy5mb3JtYXRJbnNlcnRWYWx1ZXMoY29sdW1ucywgZW50aXR5LCBlbmNyeXB0UGFzc3dvcmQpfSlcbiAgICAgICR7b25Db25mbGljdH0gICBcbiAgICAgIFJFVFVSTklORyBpZFxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG5cbiAgY3JlYXRlID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QsIHRyeCB9KSA9PiB7XG4gICAgdGhpcy5hZGRBdWRpdFZhbHVlcyhlbnRpdHkpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fY3JlYXRlKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGVudGl0eSwgcmF3VmFsdWVzLCBlbmNyeXB0UGFzc3dvcmQsIG9uQ29uZmxpY3QgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgfTtcblxuICB0cmFuc2FjdCA9IGFzeW5jIHByb2NlZHVyZSA9PlxuICAgIGF3YWl0IChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7IFxuICAgICAgcmV0dXJuIHRoaXMuZGJDb25uZWN0aW9uLnRyYW5zYWN0aW9uKGFzeW5jIHRyeCA9PiB7XG4gICAgICAgIGF3YWl0IHByb2NlZHVyZSh0cngsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KSk7XG5cbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "UnitOfWork",
        "constructor",
        "context",
        "dbConnectionMap",
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "pgTestDbConnection",
        "POSTGRES_CONTEXT",
        "pgDbConnection",
        "executeTransaction",
        "func",
        "trx",
        "transact",
        "transaction",
        "transacting",
        "catch",
        "error",
        "rollback",
        "result",
        "Promise",
        "resolve",
        "reject",
        "dbConnection",
        "response",
        "rows",
        "_getAll",
        "schema",
        "tableName",
        "columns",
        "raw",
        "join",
        "getAll",
        "_getOneWhere",
        "where",
        "groupBy",
        "getOneWhere",
        "length",
        "_getAllWhere",
        "getAllWhere",
        "addAuditValues",
        "entity",
        "now",
        "format",
        "created_at",
        "updated_at",
        "formatSetValues",
        "reduce",
        "acc",
        "column",
        "value",
        "valueStatement",
        "toString",
        "push",
        "_update",
        "update",
        "_delete",
        "delete",
        "formatInsertColumns",
        "Object",
        "keys",
        "key",
        "index",
        "includes",
        "bindingName",
        "formatInsertValues",
        "encryptPassword",
        "_create",
        "rawValues",
        "onConflict",
        "create",
        "procedure",
        "info"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/database",
      "sourcesContent": [
        "import { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport bunyan from 'bunyan';\nimport { pgTestDbConnection } from './connections/pg_test_db_connection';\nimport { pgDbConnection } from './connections/pg_db_connection';\nimport moment from 'moment';\n\nconst logger = bunyan.createLogger({ name: 'UnitOfWork'} );\n\nexport default class UnitOfWork {\n  dbConnectionMap = {\n    [UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: pgTestDbConnection, \n    [UnitOfWorkContext.POSTGRES_CONTEXT]: pgDbConnection,\n  };\n\n  constructor(context) {\n    this.context = context;\n    logger.info({ context }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection){\n      logger.error({ context }, 'No DB Connection for the given context!');\n    }\n  }\n  \n  executeTransaction = async ({ func, trx }) => {\n    const transact = async transaction =>\n        await func()\n        .transacting(transaction)\n        .catch(error => {\n          logger.error(error, 'Transaction Failed');\n          transaction.rollback();\n          throw error;\n        });\n  \n    const result = await (trx ? \n      transact(trx) :\n      new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async transaction => {\n         const response = await transact(transaction);\n         resolve(response);\n      });\n    }));\n      \n    return result.rows || result;\n  };\n\n  _getAll = (schema, { tableName, columns, trx }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, { schema, tableName });\n\n  getAll = async (schema, { tableName, columns, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAll(schema, { tableName, columns }),\n      trx\n    });\n\n  _getOneWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n      LIMIT 1\n    `, { schema, tableName });\n\n  getOneWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => {\n    const result = await this.executeTransaction({ \n      func: () => this._getOneWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n    return result.length ? result[0] : {};\n  };\n\n  _getAllWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n    `, { schema, tableName });\n\n  getAllWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAllWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n  \n  addAuditValues = (entity = {}) => {\n    const now = moment().format();\n    entity.created_at = now;\n    entity.updated_at = now;\n  };\n\n  formatSetValues = (columns, entity) => \n    columns.reduce((acc, column) => { \n      const value = entity[column];\n      if (value == null) return acc;\n      \n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, { [column]: value } ).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n  _update = (schema, { tableName, columns, entity, where = '' }) =>\n    this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, { schema, tableName });\n\n  update = async (schema, { tableName, columns = [], entity, where, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._update(schema, { tableName, columns, entity, where }),\n      trx\n    });\n  };\n  \n  _delete = (schema, { tableName, where }) =>\n    this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, { schema, tableName });\n  \n  delete = async (schema, { tableName, where, trx }) => \n    await this.executeTransaction({ \n      func: () => this._delete(schema, { tableName, where }),\n      trx\n    });\n\n  formatInsertColumns = (columns, entity) =>\n    Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, { [bindingName]: key }));\n      return acc;\n    }, []).join(',');\n\n  formatInsertValues = (columns, entity, encryptPassword) =>\n    Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, { [key]: entity[key] }));\n      return acc;\n    }, []).join(',');\n\n  _create = (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict = '' }) =>\n    this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, { schema, tableName });\n\n  create = async (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._create(schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict }),\n      trx\n    });\n  };\n\n  transact = async procedure =>\n    await (new Promise((resolve, reject) => { \n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    }));\n\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1549336605098
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2tuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiZ2V0RW52VmFyaWFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2xpZW50IiwiY29ubmVjdGlvbiIsImhvc3QiLCJkYXRhYmFzZSIsInVzZXIiLCJwb3J0IiwicGFzc3dvcmQiLCJhZG1pblVzZXIiLCJhZG1pblBhc3N3b3JkIiwicm9sZSIsImFwcGxpY2F0aW9uX25hbWUiLCJjaGFyc2V0IiwicG9vbCIsIm1pbiIsIm1heCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwidGFibGVOYW1lIiwiZGVidWciXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBcUJELE9BQU8sQ0FBQywyQkFBRCxDQUFsQzs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLE1BQU0sRUFBRSxZQURLO0FBRWJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxJQUFJLEVBQUVMLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFdBQWxCLENBRFY7QUFFVk0sSUFBQUEsUUFBUSxFQUFFTixjQUFjLENBQUMsYUFBRCxFQUFnQixVQUFoQixDQUZkO0FBR1ZPLElBQUFBLElBQUksRUFBRVAsY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBSFY7QUFJVlEsSUFBQUEsSUFBSSxFQUFFUixjQUFjLENBQUMsa0JBQUQsRUFBcUIsSUFBckIsQ0FKVjtBQUtWUyxJQUFBQSxRQUFRLEVBQUVULGNBQWMsQ0FBQyxzQkFBRCxFQUF5Qix3QkFBekIsQ0FMZDtBQU1WVSxJQUFBQSxTQUFTLEVBQUVWLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFVBQWxCLENBTmY7QUFPVlcsSUFBQUEsYUFBYSxFQUFFWCxjQUFjLENBQUMsbUJBQUQsRUFBc0IsdUJBQXRCLENBUG5CO0FBUVZZLElBQUFBLElBQUksRUFBRVosY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBUlY7QUFTVmEsSUFBQUEsZ0JBQWdCLEVBQUUsVUFUUjtBQVVWQyxJQUFBQSxPQUFPLEVBQUU7QUFWQyxHQUZDO0FBY2JDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxHQUFHLEVBQUUsQ0FERDtBQUVKQyxJQUFBQSxHQUFHLEVBQUU7QUFGRCxHQWRPO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsU0FBUyxFQUFFckIsSUFBSSxDQUFDc0IsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGVBQXhCLENBREQ7QUFFVkMsSUFBQUEsU0FBUyxFQUFFO0FBRkQsR0FsQkM7QUFzQmJDLEVBQUFBLEtBQUssRUFBRTtBQXRCTSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9kYXRhYmFzZS9jb25uZWN0aW9ucyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IGdldEVudlZhcmlhYmxlIH0gPSByZXF1aXJlKCcuLi8uLi9oZWxwZXJzL2Vudmlyb25tZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNsaWVudDogJ3Bvc3RncmVzcWwnLFxuICAgIGNvbm5lY3Rpb246IHtcbiAgICAgIGhvc3Q6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9IT1NUJywgJ2xvY2FsaG9zdCcpLFxuICAgICAgZGF0YWJhc2U6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQicsICdwb3N0Z3JlcycpLFxuICAgICAgdXNlcjogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1VTRVInLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgcG9ydDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BPUlQnLCA1NDMyKSxcbiAgICAgIHBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUEFTU1dPUkQnLCAnJiYvL2EpKD1mZ2c/PzwqZGYuZmYlKicpLFxuICAgICAgYWRtaW5Vc2VyOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fVVNFUicsICdwb3N0Z3JlcycpLFxuICAgICAgYWRtaW5QYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1BBU1NXT1JEJywgJ21ifDMzXzxDPGtsJkEqZGYuYzglKicpLFxuICAgICAgcm9sZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1JPTEUnLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgYXBwbGljYXRpb25fbmFtZTogJ0N1c3RvbWVyJyxcbiAgICAgIGNoYXJzZXQ6ICd1dGY4JyxcbiAgICB9LFxuICAgIHBvb2w6IHtcbiAgICAgIG1pbjogMixcbiAgICAgIG1heDogNTAsXG4gICAgfSxcbiAgICBtaWdyYXRpb25zOiB7XG4gICAgICBkaXJlY3Rvcnk6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9taWdyYXRpb25zJyksXG4gICAgICB0YWJsZU5hbWU6ICdjdXN0b21lcl9rbmV4X21pZ3JhdGlvbnMnLFxuICAgIH0sXG4gICAgZGVidWc6IHRydWUsXG4gIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "pg_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,UAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "environment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst getEnvVariable = function (name, def) {\n  return process.env[name] || def;\n};\n\nmodule.exports = {\n  getEnvVariable\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LmpzIl0sIm5hbWVzIjpbImdldEVudlZhcmlhYmxlIiwibmFtZSIsImRlZiIsInByb2Nlc3MiLCJlbnYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGNBQWMsR0FBRyxVQUFTQyxJQUFULEVBQWVDLEdBQWYsRUFBbUI7QUFBRSxTQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWixLQUFxQkMsR0FBNUI7QUFBa0MsQ0FBOUU7O0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUFFTixFQUFBQTtBQUFGLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRFbnZWYXJpYWJsZSA9IGZ1bmN0aW9uKG5hbWUsIGRlZil7IHJldHVybiBwcm9jZXNzLmVudltuYW1lXSB8fCBkZWY7IH1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGdldEVudlZhcmlhYmxlIH07Il19",
    "map": {
      "version": 3,
      "sources": [
        "environment.js"
      ],
      "names": [
        "getEnvVariable",
        "name",
        "def",
        "process",
        "env",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAG,UAASC,IAAT,EAAeC,GAAf,EAAmB;AAAE,SAAOC,OAAO,CAACC,GAAR,CAAYH,IAAZ,KAAqBC,GAA5B;AAAkC,CAA9E;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AAAEN,EAAAA;AAAF,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "const getEnvVariable = function(name, def){ return process.env[name] || def; }\n\nmodule.exports = { getEnvVariable };"
      ]
    },
    "sourceType": "script",
    "mtime": 1549380536766
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_test_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_test_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3Rfa25leGZpbGUuanMiXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJnZXRFbnZWYXJpYWJsZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBvcnQiLCJwYXNzd29yZCIsImFkbWluVXNlciIsImFkbWluUGFzc3dvcmQiLCJyb2xlIiwiYXBwbGljYXRpb25fbmFtZSIsImNoYXJzZXQiLCJwb29sIiwibWluIiwibWF4IiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJ0YWJsZU5hbWUiLCJkZWJ1ZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFxQkQsT0FBTyxDQUFDLDJCQUFELENBQWxDOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFBTSxFQUFFLFlBREs7QUFFYkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLElBQUFBLElBQUksRUFBRUwsY0FBYyxDQUFDLGVBQUQsRUFBa0IsV0FBbEIsQ0FEVjtBQUVWTSxJQUFBQSxRQUFRLEVBQUVOLGNBQWMsQ0FBQyxhQUFELEVBQWdCLGVBQWhCLENBRmQ7QUFHVk8sSUFBQUEsSUFBSSxFQUFFUCxjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FIVjtBQUlWUSxJQUFBQSxJQUFJLEVBQUVSLGNBQWMsQ0FBQyxrQkFBRCxFQUFxQixJQUFyQixDQUpWO0FBS1ZTLElBQUFBLFFBQVEsRUFBRVQsY0FBYyxDQUFDLHNCQUFELEVBQXlCLHdCQUF6QixDQUxkO0FBTVZVLElBQUFBLFNBQVMsRUFBRVYsY0FBYyxDQUFDLGVBQUQsRUFBa0IsVUFBbEIsQ0FOZjtBQU9WVyxJQUFBQSxhQUFhLEVBQUVYLGNBQWMsQ0FBQyxtQkFBRCxFQUFzQix1QkFBdEIsQ0FQbkI7QUFRVlksSUFBQUEsSUFBSSxFQUFFWixjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FSVjtBQVNWYSxJQUFBQSxnQkFBZ0IsRUFBRSxVQVRSO0FBVVZDLElBQUFBLE9BQU8sRUFBRTtBQVZDLEdBRkM7QUFjYkMsRUFBQUEsSUFBSSxFQUFFO0FBQ0pDLElBQUFBLEdBQUcsRUFBRSxDQUREO0FBRUpDLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBZE87QUFrQmJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxTQUFTLEVBQUVyQixJQUFJLENBQUNzQixPQUFMLENBQWFDLFNBQWIsRUFBd0IsZUFBeEIsQ0FERDtBQUVWQyxJQUFBQSxTQUFTLEVBQUU7QUFGRCxHQWxCQztBQXNCYkMsRUFBQUEsS0FBSyxFQUFFO0FBdEJNLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgZ2V0RW52VmFyaWFibGUgfSA9IHJlcXVpcmUoJy4uLy4uL2hlbHBlcnMvZW52aXJvbm1lbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2xpZW50OiAncG9zdGdyZXNxbCcsXG4gICAgY29ubmVjdGlvbjoge1xuICAgICAgaG9zdDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0hPU1QnLCAnbG9jYWxob3N0JyksXG4gICAgICBkYXRhYmFzZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCJywgJ2N1c3RvbWVyX3Rlc3QnKSxcbiAgICAgIHVzZXI6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9VU0VSJywgJ2N1c3RvbWVyX3VzZXInKSxcbiAgICAgIHBvcnQ6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9QT1JUJywgNTQzMiksXG4gICAgICBwYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BBU1NXT1JEJywgJyYmLy9hKSg9ZmdnPz88KmRmLmZmJSonKSxcbiAgICAgIGFkbWluVXNlcjogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1VTRVInLCAncG9zdGdyZXMnKSxcbiAgICAgIGFkbWluUGFzc3dvcmQ6IGdldEVudlZhcmlhYmxlKCdEQl9BRE1JTl9QQVNTV09SRCcsICdtYnwzM188QzxrbCZBKmRmLmM4JSonKSxcbiAgICAgIHJvbGU6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9ST0xFJywgJ2N1c3RvbWVyX3VzZXInKSxcbiAgICAgIGFwcGxpY2F0aW9uX25hbWU6ICdDdXN0b21lcicsXG4gICAgICBjaGFyc2V0OiAndXRmOCcsXG4gICAgfSxcbiAgICBwb29sOiB7XG4gICAgICBtaW46IDIsXG4gICAgICBtYXg6IDUwLFxuICAgIH0sXG4gICAgbWlncmF0aW9uczoge1xuICAgICAgZGlyZWN0b3J5OiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vbWlncmF0aW9ucycpLFxuICAgICAgdGFibGVOYW1lOiAnY3VzdG9tZXJfdGVzdF9rbmV4X21pZ3JhdGlvbnMnLFxuICAgIH0sXG4gICAgZGVidWc6IHRydWUsXG4gIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,eAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_test_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/server.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _expressBunyanLogger = _interopRequireDefault(require(\"express-bunyan-logger\"));\n\nvar _api = require(\"./api/api\");\n\nvar _apiMiddleware = require(\"./api/api-middleware\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _socketIO = require(\"./socketIO\");\n\nconst logger = _bunyan.default.createLogger({\n  name: 'CustomerServer'\n});\n\nconst logsDir = './logs';\nconst logsFilePath = `${logsDir}/customer.log`;\n\nif (!_fs.default.existsSync(logsFilePath)) {\n  !_fs.default.existsSync(logsDir) && _fs.default.mkdirSync(logsDir);\n\n  _fs.default.writeFileSync(logsFilePath, '');\n}\n\nconst app = new _express.default();\n(0, _apiMiddleware.routerMiddleware)(app);\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use(_bodyParser.default.json());\napp.use((0, _expressBunyanLogger.default)({\n  name: 'CustomerServer',\n  streams: [{\n    type: 'rotating-file',\n    level: 'info',\n    path: logsFilePath,\n    period: '1d',\n    count: 3\n  }]\n}));\n(0, _api.initApis)(app);\napp.listen(3030, () => {\n  logger.info('Customer Server started successfully on port 3030');\n});\n(0, _socketIO.createSocketServer)(app);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwibG9nc0RpciIsImxvZ3NGaWxlUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsIndyaXRlRmlsZVN5bmMiLCJhcHAiLCJFeHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJzdHJlYW1zIiwidHlwZSIsImxldmVsIiwicGF0aCIsInBlcmlvZCIsImNvdW50IiwibGlzdGVuIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFQSxNQUFNQyxPQUFPLEdBQUcsUUFBaEI7QUFDQSxNQUFNQyxZQUFZLEdBQUksR0FBRUQsT0FBUSxlQUFoQzs7QUFFQSxJQUFHLENBQUNFLFlBQUdDLFVBQUgsQ0FBY0YsWUFBZCxDQUFKLEVBQWlDO0FBQy9CLEdBQUNDLFlBQUdDLFVBQUgsQ0FBY0gsT0FBZCxDQUFELElBQTJCRSxZQUFHRSxTQUFILENBQWFKLE9BQWIsQ0FBM0I7O0FBQ0FFLGNBQUdHLGFBQUgsQ0FBaUJKLFlBQWpCLEVBQStCLEVBQS9CO0FBQ0Q7O0FBRUQsTUFBTUssR0FBRyxHQUFHLElBQUlDLGdCQUFKLEVBQVo7QUFDQSxxQ0FBaUJELEdBQWpCO0FBQ0FBLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLG9CQUFSO0FBQ0FGLEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxvQkFBV0MsVUFBWCxDQUFzQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSO0FBQ0FMLEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxvQkFBV0csSUFBWCxFQUFSO0FBQ0FOLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLGtDQUFjO0FBQ3BCVCxFQUFBQSxJQUFJLEVBQUUsZ0JBRGM7QUFFcEJjLEVBQUFBLE9BQU8sRUFBRSxDQUFDO0FBQ1JDLElBQUFBLElBQUksRUFBRSxlQURFO0FBRVJDLElBQUFBLEtBQUssRUFBRSxNQUZDO0FBR1JDLElBQUFBLElBQUksRUFBRWYsWUFIRTtBQUlSZ0IsSUFBQUEsTUFBTSxFQUFFLElBSkE7QUFLUkMsSUFBQUEsS0FBSyxFQUFFO0FBTEMsR0FBRDtBQUZXLENBQWQsQ0FBUjtBQVdBLG1CQUFTWixHQUFUO0FBRUFBLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLElBQVgsRUFBaUIsTUFBTTtBQUNyQnZCLEVBQUFBLE1BQU0sQ0FBQ3dCLElBQVAsQ0FBWSxtREFBWjtBQUNELENBRkQ7QUFJQSxrQ0FBbUJkLEdBQW5CIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmltcG9ydCBleHByZXNzTG9nZ2VyIGZyb20gJ2V4cHJlc3MtYnVueWFuLWxvZ2dlcic7XG5pbXBvcnQgeyBpbml0QXBpcyB9IGZyb20gJy4vYXBpL2FwaSc7XG5pbXBvcnQgeyByb3V0ZXJNaWRkbGV3YXJlIH0gZnJvbSAnLi9hcGkvYXBpLW1pZGRsZXdhcmUnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGNyZWF0ZVNvY2tldFNlcnZlciB9IGZyb20gJy4vc29ja2V0SU8nO1xuXG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ0N1c3RvbWVyU2VydmVyJ30pO1xuXG5jb25zdCBsb2dzRGlyID0gJy4vbG9ncyc7XG5jb25zdCBsb2dzRmlsZVBhdGggPSBgJHtsb2dzRGlyfS9jdXN0b21lci5sb2dgO1xuXG5pZighZnMuZXhpc3RzU3luYyhsb2dzRmlsZVBhdGgpKSB7XG4gICFmcy5leGlzdHNTeW5jKGxvZ3NEaXIpICYmIGZzLm1rZGlyU3luYyhsb2dzRGlyKTtcbiAgZnMud3JpdGVGaWxlU3luYyhsb2dzRmlsZVBhdGgsICcnKTtcbn1cblxuY29uc3QgYXBwID0gbmV3IEV4cHJlc3MoKTtcbnJvdXRlck1pZGRsZXdhcmUoYXBwKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3NMb2dnZXIoe1xuICBuYW1lOiAnQ3VzdG9tZXJTZXJ2ZXInLFxuICBzdHJlYW1zOiBbe1xuICAgIHR5cGU6ICdyb3RhdGluZy1maWxlJyxcbiAgICBsZXZlbDogJ2luZm8nLFxuICAgIHBhdGg6IGxvZ3NGaWxlUGF0aCxcbiAgICBwZXJpb2Q6ICcxZCcsXG4gICAgY291bnQ6IDMsXG4gIH1dXG59KSk7XG5cbmluaXRBcGlzKGFwcCk7XG5cbmFwcC5saXN0ZW4oMzAzMCwgKCkgPT4ge1xuICBsb2dnZXIuaW5mbygnQ3VzdG9tZXIgU2VydmVyIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5IG9uIHBvcnQgMzAzMCcpO1xufSk7XG5cbmNyZWF0ZVNvY2tldFNlcnZlcihhcHApOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "logsDir",
        "logsFilePath",
        "fs",
        "existsSync",
        "mkdirSync",
        "writeFileSync",
        "app",
        "Express",
        "use",
        "bodyParser",
        "urlencoded",
        "extended",
        "json",
        "streams",
        "type",
        "level",
        "path",
        "period",
        "count",
        "listen",
        "info"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,MAAMC,OAAO,GAAG,QAAhB;AACA,MAAMC,YAAY,GAAI,GAAED,OAAQ,eAAhC;;AAEA,IAAG,CAACE,YAAGC,UAAH,CAAcF,YAAd,CAAJ,EAAiC;AAC/B,GAACC,YAAGC,UAAH,CAAcH,OAAd,CAAD,IAA2BE,YAAGE,SAAH,CAAaJ,OAAb,CAA3B;;AACAE,cAAGG,aAAH,CAAiBJ,YAAjB,EAA+B,EAA/B;AACD;;AAED,MAAMK,GAAG,GAAG,IAAIC,gBAAJ,EAAZ;AACA,qCAAiBD,GAAjB;AACAA,GAAG,CAACE,GAAJ,CAAQ,oBAAR;AACAF,GAAG,CAACE,GAAJ,CAAQC,oBAAWC,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAL,GAAG,CAACE,GAAJ,CAAQC,oBAAWG,IAAX,EAAR;AACAN,GAAG,CAACE,GAAJ,CAAQ,kCAAc;AACpBT,EAAAA,IAAI,EAAE,gBADc;AAEpBc,EAAAA,OAAO,EAAE,CAAC;AACRC,IAAAA,IAAI,EAAE,eADE;AAERC,IAAAA,KAAK,EAAE,MAFC;AAGRC,IAAAA,IAAI,EAAEf,YAHE;AAIRgB,IAAAA,MAAM,EAAE,IAJA;AAKRC,IAAAA,KAAK,EAAE;AALC,GAAD;AAFW,CAAd,CAAR;AAWA,mBAASZ,GAAT;AAEAA,GAAG,CAACa,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBvB,EAAAA,MAAM,CAACwB,IAAP,CAAY,mDAAZ;AACD,CAFD;AAIA,kCAAmBd,GAAnB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourcesContent": [
        "import Express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\nimport bunyan from 'bunyan';\nimport expressLogger from 'express-bunyan-logger';\nimport { initApis } from './api/api';\nimport { routerMiddleware } from './api/api-middleware';\nimport fs from 'fs';\nimport { createSocketServer } from './socketIO';\n\nconst logger = bunyan.createLogger({ name: 'CustomerServer'});\n\nconst logsDir = './logs';\nconst logsFilePath = `${logsDir}/customer.log`;\n\nif(!fs.existsSync(logsFilePath)) {\n  !fs.existsSync(logsDir) && fs.mkdirSync(logsDir);\n  fs.writeFileSync(logsFilePath, '');\n}\n\nconst app = new Express();\nrouterMiddleware(app);\napp.use(cors());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(expressLogger({\n  name: 'CustomerServer',\n  streams: [{\n    type: 'rotating-file',\n    level: 'info',\n    path: logsFilePath,\n    period: '1d',\n    count: 3,\n  }]\n}));\n\ninitApis(app);\n\napp.listen(3030, () => {\n  logger.info('Customer Server started successfully on port 3030');\n});\n\ncreateSocketServer(app);"
      ]
    },
    "sourceType": "script",
    "mtime": 1557945813966
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/api/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initApis = void 0;\n\nvar _customer = _interopRequireDefault(require(\"./customer\"));\n\nvar _order = _interopRequireDefault(require(\"./order\"));\n\nconst initApis = app => {\n  new _customer.default(app);\n  new _order.default(app);\n};\n\nexports.initApis = initApis;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJpbml0QXBpcyIsImFwcCIsIkN1c3RvbWVyQXBpIiwiT3JkZXJBcGkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVPLE1BQU1BLFFBQVEsR0FBR0MsR0FBRyxJQUFJO0FBQzdCLE1BQUlDLGlCQUFKLENBQWdCRCxHQUFoQjtBQUNBLE1BQUlFLGNBQUosQ0FBYUYsR0FBYjtBQUNELENBSE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvYXBpIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEN1c3RvbWVyQXBpIGZyb20gJy4vY3VzdG9tZXInO1xuaW1wb3J0IE9yZGVyQXBpIGZyb20gJy4vb3JkZXInO1xuXG5leHBvcnQgY29uc3QgaW5pdEFwaXMgPSBhcHAgPT4ge1xuICBuZXcgQ3VzdG9tZXJBcGkoYXBwKTtcbiAgbmV3IE9yZGVyQXBpKGFwcCk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "initApis",
        "app",
        "CustomerApi",
        "OrderApi"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,QAAQ,GAAGC,GAAG,IAAI;AAC7B,MAAIC,iBAAJ,CAAgBD,GAAhB;AACA,MAAIE,cAAJ,CAAaF,GAAb;AACD,CAHM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "sourcesContent": [
        "import CustomerApi from './customer';\nimport OrderApi from './order';\n\nexport const initApis = app => {\n  new CustomerApi(app);\n  new OrderApi(app);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/api/customer.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/customer.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/api/customer.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/customer.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
        "sourceFileName": "customer.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar customerService = _interopRequireWildcard(require(\"../services/customer-service\"));\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _authorizationHandler = require(\"../decorators/authorization-handler\");\n\nvar _dalTypes = require(\"../helpers/enums/dal-types\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class;\n\nconst {\n  POSTGRES_CONTEXT\n} = _unit_of_work.UnitOfWorkContext;\nlet CustomerApi = (_dec = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec2 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec3 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec4 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), _dec5 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM, _dalTypes.PredefinedRole.CUSTOMER]), _dec6 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec7 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.SYSTEM]), _dec8 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN]), (_class = class CustomerApi {\n  constructor(app) {\n    app.get('/api/customers', _authorizationHandler.authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', _authorizationHandler.authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', _authorizationHandler.authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', _authorizationHandler.authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', _authorizationHandler.authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', _authorizationHandler.authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', _authorizationHandler.authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', _authorizationHandler.authenticate, this.deleteCustomer);\n  }\n\n  async getCustomers(req) {\n    return await customerService.getCustomers(POSTGRES_CONTEXT);\n  }\n\n  async getCustomerById(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  async getCustomersByName(req) {\n    const {\n      name\n    } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  async getCustomersByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async getCustomerByEmail(req) {\n    const {\n      email\n    } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  async createCustomer(req) {\n    const {\n      body\n    } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  async updateCustomer(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  async deleteCustomer(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n\n}, ((0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomers\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomers\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerById\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerById\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByName\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByName\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomersByEmail\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomersByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getCustomerByEmail\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"getCustomerByEmail\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createCustomer\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateCustomer\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCustomer\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteCustomer\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteCustomer\"), _class.prototype)), _class));\nexports.default = CustomerApi;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLmpzIl0sIm5hbWVzIjpbIlBPU1RHUkVTX0NPTlRFWFQiLCJVbml0T2ZXb3JrQ29udGV4dCIsIkN1c3RvbWVyQXBpIiwiUHJlZGVmaW5lZFJvbGUiLCJBRE1JTiIsIlNZU1RFTSIsIkNVU1RPTUVSIiwiY29uc3RydWN0b3IiLCJhcHAiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJnZXRDdXN0b21lcnMiLCJnZXRDdXN0b21lckJ5SWQiLCJnZXRDdXN0b21lcnNCeU5hbWUiLCJnZXRDdXN0b21lcnNCeUVtYWlsIiwiZ2V0Q3VzdG9tZXJCeUVtYWlsIiwicG9zdCIsImNyZWF0ZUN1c3RvbWVyIiwicHV0IiwidXBkYXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJkZWxldGVDdXN0b21lciIsInJlcSIsImN1c3RvbWVyU2VydmljZSIsImN1c3RvbWVySWQiLCJwYXJhbXMiLCJuYW1lIiwiZW1haWwiLCJib2R5IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQXVCQywrQkFBN0I7SUFFcUJDLFcsV0FhbEIsd0NBQWEsQ0FBQ0MseUJBQWVDLEtBQWhCLENBQWIsQyxVQUdBLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRCx5QkFBZUMsS0FBaEIsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0QseUJBQWVDLEtBQWhCLENBQWIsQyxVQU1BLHdDQUFhLENBQUNELHlCQUFlQyxLQUFoQixFQUF1QkQseUJBQWVFLE1BQXRDLEVBQThDRix5QkFBZUcsUUFBN0QsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0gseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBT0Esd0NBQWEsQ0FBQ0YseUJBQWVDLEtBQWhCLEVBQXVCRCx5QkFBZUUsTUFBdEMsQ0FBYixDLFVBTUEsd0NBQWEsQ0FBQ0Ys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QXBFLENBQWI7QUFDRDs7QUFFRCxRQUNNUCxjQUROLENBQ3FCQyxHQURyQixFQUMwQjtBQUN4QixVQUFNO0FBQUVFLE1BQUFBO0FBQUYsUUFBaUJGLEdBQUcsQ0FBQ0csTUFBSixJQUFjLEVBQXJDO0FBQ0EsV0FBTyxNQUFNRixlQUFlLENBQUNGLGNBQWhCLENBQStCckIsZ0JBQS9CLEVBQWlEd0IsVUFBakQsQ0FBYjtBQUNEOztBQXpEOEIsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9hcGkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjdXN0b21lclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvY3VzdG9tZXItc2VydmljZSc7XG5pbXBvcnQgeyBVbml0T2ZXb3JrQ29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvdW5pdF9vZl93b3JrJztcbmltcG9ydCB7IFJlcXVpcmVkUm9sZSwgYXV0aGVudGljYXRlIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy9hdXRob3JpemF0aW9uLWhhbmRsZXInO1xuaW1wb3J0IHsgUHJlZGVmaW5lZFJvbGUgfSBmcm9tICcuLi9oZWxwZXJzL2VudW1zL2RhbC10eXBlcyc7XG5cbmNvbnN0IHsgUE9TVEdSRVNfQ09OVEVYVCB9ID0gVW5pdE9mV29ya0NvbnRleHQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbWVyQXBpIHtcblxuICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICBhcHAuZ2V0KCcvYXBpL2N1c3RvbWVycycsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRDdXN0b21lcnMpO1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzLzpjdXN0b21lcklkJywgYXV0aGVudGljYXRlLCB0aGlzLmdldEN1c3RvbWVyQnlJZCk7XG4gICAgYXBwLmdldCgnL2FwaS9jdXN0b21lcnMvbGlrZU5hbWUvOm5hbWUnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0Q3VzdG9tZXJzQnlOYW1lKTtcbiAgICBhcHAuZ2V0KCcvYXBpL2N1c3RvbWVycy9saWtlRW1haWwvOmVtYWlsJywgYXV0aGVudGljYXRlLCB0aGlzLmdldEN1c3RvbWVyc0J5RW1haWwpO1xuICAgIGFwcC5nZXQoJy9hcGkvY3VzdG9tZXJzL2J5RW1haWwvOmVtYWlsJywgYXV0aGVudGljYXRlLCB0aGlzLmdldEN1c3RvbWVyQnlFbWFpbCk7XG4gICAgYXBwLnBvc3QoJy9hcGkvY3VzdG9tZXJzJywgYXV0aGVudGljYXRlLCB0aGlzLmNyZWF0ZUN1c3RvbWVyKTtcbiAgICBhcHAucHV0KCcvYXBpL2N1c3RvbWVycy86Y3VzdG9tZXJJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy51cGRhdGVDdXN0b21lcik7XG4gICAgYXBwLmRlbGV0ZSgnL2FwaS9jdXN0b21lcnMvOmN1c3RvbWVySWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZGVsZXRlQ3VzdG9tZXIpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU5dKVxuICBhc3luYyBnZXRDdXN0b21lcnMocmVxKSB7IHJldHVybiBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0Q3VzdG9tZXJzKFBPU1RHUkVTX0NPTlRFWFQpOyB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU5dKVxuICBhc3luYyBnZXRDdXN0b21lckJ5SWQocmVxKSB7XG4gICAgY29uc3QgeyBjdXN0b21lcklkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0Q3VzdG9tZXJCeUlkKFBPU1RHUkVTX0NPTlRFWFQsIGN1c3RvbWVySWQpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU5dKVxuICBhc3luYyBnZXRDdXN0b21lcnNCeU5hbWUocmVxKSB7XG4gICAgY29uc3QgeyBuYW1lIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0Q3VzdG9tZXJzQnlOYW1lKFBPU1RHUkVTX0NPTlRFWFQsIG5hbWUpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU5dKVxuICBhc3luYyBnZXRDdXN0b21lcnNCeUVtYWlsKHJlcSkge1xuICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnNCeUVtYWlsKFBPU1RHUkVTX0NPTlRFWFQsIGVtYWlsKTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5TWVNURU0sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgZ2V0Q3VzdG9tZXJCeUVtYWlsKHJlcSkge1xuICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lckJ5RW1haWwoUE9TVEdSRVNfQ09OVEVYVCwgZW1haWwpO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLlNZU1RFTV0pXG4gIGFzeW5jIGNyZWF0ZUN1c3RvbWVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxO1xuICAgIGNvbnNvbGUubG9nKCdlbnRyYSBhcXVpJyk7XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS5jcmVhdGVDdXN0b21lcihQT1NUR1JFU19DT05URVhULCBib2R5KTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5TWVNURU1dKVxuICBhc3luYyB1cGRhdGVDdXN0b21lcihyZXEpIHtcbiAgICBjb25zdCB7IGJvZHksIHBhcmFtcyA9IHt9IH0gPSByZXE7XG4gICAgcmV0dXJuIGF3YWl0IGN1c3RvbWVyU2VydmljZS51cGRhdGVDdXN0b21lcihQT1NUR1JFU19DT05URVhULCBwYXJhbXMuY3VzdG9tZXJJZCwgYm9keSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTl0pXG4gIGFzeW5jIGRlbGV0ZUN1c3RvbWVyKHJlcSkge1xuICAgIGNvbnN0IHsgY3VzdG9tZXJJZCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmRlbGV0ZUN1c3RvbWVyKFBPU1RHUkVTX0NPTlRFWFQsIGN1c3RvbWVySWQpO1xuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "customer.js"
      ],
      "names": [
        "POSTGRES_CONTEXT",
        "UnitOfWorkContext",
        "CustomerApi",
        "PredefinedRole",
        "ADMIN",
        "SYSTEM",
        "CUSTOMER",
        "constructor",
        "app",
        "get",
        "authenticate",
        "getCustomers",
        "getCustomerById",
        "getCustomersByName",
        "getCustomersByEmail",
        "getCustomerByEmail",
        "post",
        "createCustomer",
        "put",
        "updateCustomer",
        "delete",
        "deleteCustomer",
        "req",
        "customerService",
        "customerId",
        "params",
        "name",
        "email",
        "body",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "sourcesContent": [
        "import * as customerService from '../services/customer-service';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { RequiredRole, authenticate } from '../decorators/authorization-handler';\nimport { PredefinedRole } from '../helpers/enums/dal-types';\n\nconst { POSTGRES_CONTEXT } = UnitOfWorkContext;\n\nexport default class CustomerApi {\n\n  constructor(app) {\n    app.get('/api/customers', authenticate, this.getCustomers);\n    app.get('/api/customers/:customerId', authenticate, this.getCustomerById);\n    app.get('/api/customers/likeName/:name', authenticate, this.getCustomersByName);\n    app.get('/api/customers/likeEmail/:email', authenticate, this.getCustomersByEmail);\n    app.get('/api/customers/byEmail/:email', authenticate, this.getCustomerByEmail);\n    app.post('/api/customers', authenticate, this.createCustomer);\n    app.put('/api/customers/:customerId', authenticate, this.updateCustomer);\n    app.delete('/api/customers/:customerId', authenticate, this.deleteCustomer);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomers(req) { return await customerService.getCustomers(POSTGRES_CONTEXT); }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomerById(req) {\n    const { customerId } = req.params || {};\n    return await customerService.getCustomerById(POSTGRES_CONTEXT, customerId);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByName(req) {\n    const { name } = req.params || {};\n    return await customerService.getCustomersByName(POSTGRES_CONTEXT, name);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async getCustomersByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomersByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM, PredefinedRole.CUSTOMER])\n  async getCustomerByEmail(req) {\n    const { email } = req.params || {};\n    return await customerService.getCustomerByEmail(POSTGRES_CONTEXT, email);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async createCustomer(req) {\n    const { body } = req;\n    console.log('entra aqui');\n    return await customerService.createCustomer(POSTGRES_CONTEXT, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.SYSTEM])\n  async updateCustomer(req) {\n    const { body, params = {} } = req;\n    return await customerService.updateCustomer(POSTGRES_CONTEXT, params.customerId, body);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN])\n  async deleteCustomer(req) {\n    const { customerId } = req.params || {};\n    return await customerService.deleteCustomer(POSTGRES_CONTEXT, customerId);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557328485557
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/services/customer-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/customer-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/services/customer-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/customer-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
        "sourceFileName": "customer-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteCustomer = exports.createCustomer = exports.updateCustomer = exports.getCustomerByEmail = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerById = exports.getCustomers = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar customerRepo = _interopRequireWildcard(require(\"../dal/customer-repo\"));\n\nvar _validator = require(\"../helpers/validator\");\n\nvar _mapper = require(\"../helpers/mapper\");\n\nvar _externalService = require(\"./external-service\");\n\nconst getCustomers = async dbContext => {\n  (0, _validator.validatePreconditions)(['dbContext'], {\n    dbContext\n  });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomersByName = async (dbContext, name) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'name'], {\n    dbContext,\n    name\n  });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => (0, _mapper.mapRepoEntity)(customer));\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email'], {\n    dbContext,\n    email\n  });\n  return (0, _mapper.mapRepoEntity)((await customerRepo.getCustomerByEmail(dbContext, email)));\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId', 'customer'], {\n    dbContext,\n    customerId,\n    customer\n  });\n  return await customerRepo.updateCustomer(dbContext, customerId, (0, _mapper.mapParams)(customer));\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'email', 'fullname', 'password'], (0, _objectSpread2.default)({\n    dbContext\n  }, customer));\n  const externalUserId = await (0, _externalService.createUser)(customer);\n  const {\n    id: customerId\n  } = await customerRepo.createCustomer(dbContext, (0, _mapper.mapParams)((0, _objectSpread2.default)({}, customer, {\n    externalUserId\n  })));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexports.createCustomer = createCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n\nexports.deleteCustomer = deleteCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiY3VzdG9tZXJSZXBvIiwibWFwIiwiY3VzdG9tZXIiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwiZ2V0Q3VzdG9tZXJzQnlOYW1lIiwibmFtZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyQnlFbWFpbCIsInVwZGF0ZUN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXIiLCJleHRlcm5hbFVzZXJJZCIsImlkIiwiZGVsZXRlQ3VzdG9tZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUFtQjtBQUM3Qyx3Q0FBc0IsQ0FBQyxXQUFELENBQXRCLEVBQXFDO0FBQUVBLElBQUFBO0FBQUYsR0FBckM7QUFDQSxTQUFPLENBQUMsTUFBTUMsWUFBWSxDQUFDRixZQUFiLENBQTBCQyxTQUExQixDQUFQLEVBQTZDRSxHQUE3QyxDQUFpREMsUUFBUSxJQUFJLDJCQUFjQSxRQUFkLENBQTdELENBQVA7QUFDRCxDQUhNOzs7O0FBS0EsTUFBTUMsZUFBZSxHQUFHLE9BQU9KLFNBQVAsRUFBa0JLLFVBQWxCLEtBQWlDO0FBQzlELHdDQUFzQixDQUFDLFdBQUQsRUFBYyxZQUFkLENBQXRCLEVBQW1EO0FBQUVMLElBQUFBLFNBQUY7QUFBYUssSUFBQUE7QUFBYixHQUFuRDtBQUNBLFNBQU8sNEJBQWUsTUFBTUosWUFBWSxDQUFDRyxlQUFiLENBQTZCSixTQUE3QixFQUF3Q0ssVUFBeEMsQ0FBckIsRUFBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNQyxrQkFBa0IsR0FBRyxPQUFPTixTQUFQLEVBQWtCTyxJQUFsQixLQUEyQjtBQUMzRCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsTUFBZCxDQUF0QixFQUE2QztBQUFFUCxJQUFBQSxTQUFGO0FBQWFPLElBQUFBO0FBQWIsR0FBN0M7QUFDQSxTQUFPLENBQUMsTUFBTU4sWUFBWSxDQUFDSyxrQkFBYixDQUFnQ04sU0FBaEMsRUFBMkNPLElBQTNDLENBQVAsRUFBeURMLEdBQXpELENBQTZEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBekUsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNSyxtQkFBbUIsR0FBRyxPQUFPUixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLENBQUMsTUFBTVIsWUFBWSxDQUFDTyxtQkFBYixDQUFpQ1IsU0FBakMsRUFBNENTLEtBQTVDLENBQVAsRUFBMkRQLEdBQTNELENBQStEQyxRQUFRLElBQUksMkJBQWNBLFFBQWQsQ0FBM0UsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNTyxrQkFBa0IsR0FBRyxPQUFPVixTQUFQLEVBQWtCUyxLQUFsQixLQUE0QjtBQUM1RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsT0FBZCxDQUF0QixFQUE4QztBQUFFVCxJQUFBQSxTQUFGO0FBQWFTLElBQUFBO0FBQWIsR0FBOUM7QUFDQSxTQUFPLDRCQUFjLE1BQU1SLFlBQVksQ0FBQ1Msa0JBQWIsQ0FBZ0NWLFNBQWhDLEVBQTJDUyxLQUEzQyxDQUFwQixFQUFQO0FBQ0QsQ0FITTs7OztBQUtBLE1BQU1FLGNBQWMsR0FBRyxPQUFPWCxTQUFQLEVBQWtCSyxVQUFsQixFQUE4QkYsUUFBOUIsS0FBMkM7QUFDdkUsd0NBQXNCLENBQUMsV0FBRCxFQUFjLFlBQWQsRUFBNEIsVUFBNUIsQ0FBdEIsRUFBK0Q7QUFBRUgsSUFBQUEsU0FBRjtBQUFhSyxJQUFBQSxVQUFiO0FBQXlCRixJQUFBQTtBQUF6QixHQUEvRDtBQUNBLFNBQU8sTUFBTUYsWUFBWSxDQUFDVSxjQUFiLENBQTRCWCxTQUE1QixFQUF1Q0ssVUFBdkMsRUFBbUQsdUJBQVVGLFFBQVYsQ0FBbkQsQ0FBYjtBQUNELENBSE07Ozs7QUFLQSxNQUFNUyxjQUFjLEdBQUcsT0FBT1osU0FBUCxFQUFrQkcsUUFBbEIsS0FBK0I7QUFDM0Qsd0NBQXNCLENBQUMsV0FBRCxFQUFjLE9BQWQsRUFBdUIsVUFBdkIsRUFBbUMsVUFBbkMsQ0FBdEI7QUFBd0VILElBQUFBO0FBQXhFLEtBQXNGRyxRQUF0RjtBQUNBLFFBQU1VLGNBQWMsR0FBRyxNQUFNLGlDQUFXVixRQUFYLENBQTdCO0FBQ0EsUUFBTTtBQUFFVyxJQUFBQSxFQUFFLEVBQUVUO0FBQU4sTUFBcUIsTUFBTUosWUFBWSxDQUFDVyxjQUFiLENBQTRCWixTQUE1QixFQUF1Qyx1REFBZUcsUUFBZjtBQUF5QlUsSUFBQUE7QUFBekIsS0FBdkMsQ0FBakM7QUFDQSxTQUFPLE1BQU1ULGVBQWUsQ0FBQ0osU0FBRCxFQUFZSyxVQUFaLENBQTVCO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1VLGNBQWMsR0FBRyxPQUFPZixTQUFQLEVBQWtCSyxVQUFsQixLQUFpQztBQUM3RCx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsWUFBZCxDQUF0QixFQUFtRDtBQUFFTCxJQUFBQSxTQUFGO0FBQWFLLElBQUFBO0FBQWIsR0FBbkQ7QUFDQSxRQUFNSixZQUFZLENBQUNjLGNBQWIsQ0FBNEJmLFNBQTVCLEVBQXVDSyxVQUF2QyxDQUFOO0FBQ0QsQ0FITSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGN1c3RvbWVyUmVwbyBmcm9tICcuLi9kYWwvY3VzdG9tZXItcmVwbyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVByZWNvbmRpdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvcic7XG5pbXBvcnQgeyBtYXBSZXBvRW50aXR5LCBtYXBQYXJhbXMgfSBmcm9tICcuLi9oZWxwZXJzL21hcHBlcic7XG5pbXBvcnQgeyBjcmVhdGVVc2VyIH0gZnJvbSAnLi9leHRlcm5hbC1zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVycyA9IGFzeW5jIGRiQ29udGV4dCA9PiB7IFxuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnXSwgeyBkYkNvbnRleHQgfSk7XG4gIHJldHVybiAoYXdhaXQgY3VzdG9tZXJSZXBvLmdldEN1c3RvbWVycyhkYkNvbnRleHQpKS5tYXAoY3VzdG9tZXIgPT4gbWFwUmVwb0VudGl0eShjdXN0b21lcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyQnlJZCA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2N1c3RvbWVySWQnXSwgeyBkYkNvbnRleHQsIGN1c3RvbWVySWQgfSk7XG4gIHJldHVybiBtYXBSZXBvRW50aXR5KChhd2FpdCBjdXN0b21lclJlcG8uZ2V0Q3VzdG9tZXJCeUlkKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lcnNCeU5hbWUgPSBhc3luYyAoZGJDb250ZXh0LCBuYW1lKSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICduYW1lJ10sIHsgZGJDb250ZXh0LCBuYW1lIH0pO1xuICByZXR1cm4gKGF3YWl0IGN1c3RvbWVyUmVwby5nZXRDdXN0b21lcnNCeU5hbWUoZGJDb250ZXh0LCBuYW1lKSkubWFwKGN1c3RvbWVyID0+IG1hcFJlcG9FbnRpdHkoY3VzdG9tZXIpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lcnNCeUVtYWlsID0gYXN5bmMgKGRiQ29udGV4dCwgZW1haWwpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2VtYWlsJ10sIHsgZGJDb250ZXh0LCBlbWFpbCB9KTtcbiAgcmV0dXJuIChhd2FpdCBjdXN0b21lclJlcG8uZ2V0Q3VzdG9tZXJzQnlFbWFpbChkYkNvbnRleHQsIGVtYWlsKSkubWFwKGN1c3RvbWVyID0+IG1hcFJlcG9FbnRpdHkoY3VzdG9tZXIpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lckJ5RW1haWwgPSBhc3luYyAoZGJDb250ZXh0LCBlbWFpbCkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnZW1haWwnXSwgeyBkYkNvbnRleHQsIGVtYWlsIH0pO1xuICByZXR1cm4gbWFwUmVwb0VudGl0eShhd2FpdCBjdXN0b21lclJlcG8uZ2V0Q3VzdG9tZXJCeUVtYWlsKGRiQ29udGV4dCwgZW1haWwpKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQsIGN1c3RvbWVyKSA9PiB7IFxuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCcsICdjdXN0b21lciddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCwgY3VzdG9tZXIgfSk7XG4gIHJldHVybiBhd2FpdCBjdXN0b21lclJlcG8udXBkYXRlQ3VzdG9tZXIoZGJDb250ZXh0LCBjdXN0b21lcklkLCBtYXBQYXJhbXMoY3VzdG9tZXIpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVyKSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdlbWFpbCcsICdmdWxsbmFtZScsICdwYXNzd29yZCddLCB7IGRiQ29udGV4dCwgLi4uY3VzdG9tZXIgfSk7XG4gIGNvbnN0IGV4dGVybmFsVXNlcklkID0gYXdhaXQgY3JlYXRlVXNlcihjdXN0b21lcik7XG4gIGNvbnN0IHsgaWQ6IGN1c3RvbWVySWQgfSA9IGF3YWl0IGN1c3RvbWVyUmVwby5jcmVhdGVDdXN0b21lcihkYkNvbnRleHQsIG1hcFBhcmFtcyh7IC4uLmN1c3RvbWVyLCBleHRlcm5hbFVzZXJJZCB9KSk7XG4gIHJldHVybiBhd2FpdCBnZXRDdXN0b21lckJ5SWQoZGJDb250ZXh0LCBjdXN0b21lcklkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDdXN0b21lciA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ2N1c3RvbWVySWQnXSwgeyBkYkNvbnRleHQsIGN1c3RvbWVySWQgfSk7XG4gIGF3YWl0IGN1c3RvbWVyUmVwby5kZWxldGVDdXN0b21lcihkYkNvbnRleHQsIGN1c3RvbWVySWQpO1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "customer-service.js"
      ],
      "names": [
        "getCustomers",
        "dbContext",
        "customerRepo",
        "map",
        "customer",
        "getCustomerById",
        "customerId",
        "getCustomersByName",
        "name",
        "getCustomersByEmail",
        "email",
        "getCustomerByEmail",
        "updateCustomer",
        "createCustomer",
        "externalUserId",
        "id",
        "deleteCustomer"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "sourcesContent": [
        "import * as customerRepo from '../dal/customer-repo';\nimport { validatePreconditions } from '../helpers/validator';\nimport { mapRepoEntity, mapParams } from '../helpers/mapper';\nimport { createUser } from './external-service';\n\nexport const getCustomers = async dbContext => { \n  validatePreconditions(['dbContext'], { dbContext });\n  return (await customerRepo.getCustomers(dbContext)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerById = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  return mapRepoEntity((await customerRepo.getCustomerById(dbContext, customerId)));\n};\n\nexport const getCustomersByName = async (dbContext, name) => {\n  validatePreconditions(['dbContext', 'name'], { dbContext, name });\n  return (await customerRepo.getCustomersByName(dbContext, name)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return (await customerRepo.getCustomersByEmail(dbContext, email)).map(customer => mapRepoEntity(customer));\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => {\n  validatePreconditions(['dbContext', 'email'], { dbContext, email });\n  return mapRepoEntity(await customerRepo.getCustomerByEmail(dbContext, email));\n};\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  validatePreconditions(['dbContext', 'customerId', 'customer'], { dbContext, customerId, customer });\n  return await customerRepo.updateCustomer(dbContext, customerId, mapParams(customer));\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  validatePreconditions(['dbContext', 'email', 'fullname', 'password'], { dbContext, ...customer });\n  const externalUserId = await createUser(customer);\n  const { id: customerId } = await customerRepo.createCustomer(dbContext, mapParams({ ...customer, externalUserId }));\n  return await getCustomerById(dbContext, customerId);\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  await customerRepo.deleteCustomer(dbContext, customerId);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557844735300
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/dal\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/dal/customer-repo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/dal/customer-repo.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/dal/customer-repo.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/dal/customer-repo.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
        "sourceFileName": "customer-repo.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCustomer = exports.deleteCustomer = exports.updateCustomer = exports.getCustomersByEmail = exports.getCustomersByName = exports.getCustomerByEmail = exports.getCustomerById = exports.getCustomers = exports.CUSTOMER_TABLE = void 0;\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _unit_of_work2 = require(\"../helpers/enums/unit_of_work\");\n\nvar _config = require(\"../config\");\n\nconst CUSTOMER_TABLE = 'customer';\nexports.CUSTOMER_TABLE = CUSTOMER_TABLE;\nconst CUSTOMER_TABLE_COLUMNS = ['id', 'email', 'phone', 'external_user_id', 'fullname', 'alias', 'preferences', 'created_at', 'updated_at'];\n\nconst getCustomers = async dbContext => await new _unit_of_work.default(dbContext).getAll(_config.schema, {\n  tableName: CUSTOMER_TABLE,\n  columns: CUSTOMER_TABLE_COLUMNS\n});\n\nexports.getCustomers = getCustomers;\n\nconst getCustomerById = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.getCustomerById = getCustomerById;\n\nconst getCustomerByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getOneWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', {\n      email\n    })\n  });\n};\n\nexports.getCustomerByEmail = getCustomerByEmail;\n\nconst getCustomersByName = async (dbContext, name) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('fullname LIKE :name', {\n      name: `%${name}%`\n    })\n  });\n};\n\nexports.getCustomersByName = getCustomersByName;\n\nconst getCustomersByEmail = async (dbContext, email) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.getAllWhere(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', {\n      email: `%${email}%`\n    })\n  });\n};\n\nexports.getCustomersByEmail = getCustomersByEmail;\n\nconst updateCustomer = async (dbContext, customerId, customer) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.updateCustomer = updateCustomer;\n\nconst deleteCustomer = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    where: unitOfWork.dbConnection.raw('id = :customerId', {\n      customerId\n    })\n  });\n};\n\nexports.deleteCustomer = deleteCustomer;\n\nconst createCustomer = async (dbContext, customer) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: CUSTOMER_TABLE,\n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createCustomer = createCustomer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLXJlcG8uanMiXSwibmFtZXMiOlsiQ1VTVE9NRVJfVEFCTEUiLCJDVVNUT01FUl9UQUJMRV9DT0xVTU5TIiwiZ2V0Q3VzdG9tZXJzIiwiZGJDb250ZXh0IiwiVW5pdE9mV29yayIsImdldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJnZXRDdXN0b21lckJ5SWQiLCJjdXN0b21lcklkIiwidW5pdE9mV29yayIsImdldE9uZVdoZXJlIiwid2hlcmUiLCJkYkNvbm5lY3Rpb24iLCJyYXciLCJnZXRDdXN0b21lckJ5RW1haWwiLCJlbWFpbCIsImdldEN1c3RvbWVyc0J5TmFtZSIsIm5hbWUiLCJnZXRBbGxXaGVyZSIsImdldEN1c3RvbWVyc0J5RW1haWwiLCJ1cGRhdGVDdXN0b21lciIsImN1c3RvbWVyIiwidXBkYXRlIiwiZW50aXR5IiwiZGVsZXRlQ3VzdG9tZXIiLCJkZWxldGUiLCJjcmVhdGVDdXN0b21lciIsInJlc3VsdCIsImNyZWF0ZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRU8sTUFBTUEsY0FBYyxHQUFHLFVBQXZCOztBQUNQLE1BQU1DLHNCQUFzQixHQUFHLENBQzdCLElBRDZCLEVBRTdCLE9BRjZCLEVBRzdCLE9BSDZCLEVBSTdCLGtCQUo2QixFQUs3QixVQUw2QixFQU03QixPQU42QixFQU83QixhQVA2QixFQVE3QixZQVI2QixFQVM3QixZQVQ2QixDQUEvQjs7QUFZTyxNQUFNQyxZQUFZLEdBQUcsTUFBTUMsU0FBTixJQUMxQixNQUFNLElBQUlDLHFCQUFKLENBQWVELFNBQWYsRUFBMEJFLE1BQTFCLENBQWlDQyxjQUFqQyxFQUF5QztBQUM5Q0MsRUFBQUEsU0FBUyxFQUFFUCxjQURtQztBQUU5Q1EsRUFBQUEsT0FBTyxFQUFFUDtBQUZxQyxDQUF6QyxDQUREOzs7O0FBTUEsTUFBTVEsZUFBZSxHQUFHLE9BQU9OLFNBQVAsRUFBa0JPLFVBQWxCLEtBQWlD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RCxRQUFNQyxVQUFVLEdBQUcsSUFBSVAscUJBQUosQ0FBZUQsU0FBZixDQUFuQjtBQUNBLFNBQU8sTUFBTVEsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQnJCLGNBQWxCLEVBQTBCO0FBQ3RDQyxJQUFBQSxTQUFTLEVBQUVQLGNBRDJCO0FBRXRDYSxJQUFBQSxLQUFLLEVBQUVGLFVBQVUsQ0FBQ0csWUFBWCxDQUF3QkMsR0FBeEIsQ0FBNEIsa0JBQTVCLEVBQWdEO0FBQUVMLE1BQUFBO0FBQUYsS0FBaEQ7QUFGK0IsR0FBMUIsQ0FBYjtBQUlELENBTk07Ozs7QUFRQSxNQUFNa0IsY0FBYyxHQUFHLE9BQU96QixTQUFQLEVBQWtCb0IsUUFBbEIsS0FBK0I7QUFDM0QsUUFBTU0sTUFBTSxHQUFHLE1BQU8sSUFBSXpCLHFCQUFKLENBQWVELFNBQWYsRUFBMEIyQixNQUExQixDQUFpQ3hCLGNBQWpDLEVBQXlDO0FBQzdEQyxJQUFBQSxTQUFTLEVBQUVQLGNBRGtEO0FBRTdEUSxJQUFBQSxPQUFPLEVBQUVQLHNCQUZvRDtBQUc3RHdCLElBQUFBLE1BQU0sRUFBRUY7QUFIcUQsR0FBekMsQ0FBdEI7QUFNQSxTQUFRTSxNQUFNLENBQUNFLE1BQVAsSUFBaUJGLE1BQU0sQ0FBQyxDQUFELENBQXhCLElBQWdDLEVBQXZDO0FBQ0QsQ0FSTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9kYWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdE9mV29yayBmcm9tICcuLi9kYXRhYmFzZS91bml0X29mX3dvcmsuanMnO1xuaW1wb3J0IHsgVW5pdE9mV29ya0NvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2VudW1zL3VuaXRfb2Zfd29yayc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuLi9jb25maWcnO1xuXG5leHBvcnQgY29uc3QgQ1VTVE9NRVJfVEFCTEUgPSAnY3VzdG9tZXInO1xuY29uc3QgQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyA9IFtcbiAgJ2lkJyxcbiAgJ2VtYWlsJyxcbiAgJ3Bob25lJyxcbiAgJ2V4dGVybmFsX3VzZXJfaWQnLFxuICAnZnVsbG5hbWUnLFxuICAnYWxpYXMnLFxuICAncHJlZmVyZW5jZXMnLFxuICAnY3JlYXRlZF9hdCcsXG4gICd1cGRhdGVkX2F0J1xuXTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVycyA9IGFzeW5jIGRiQ29udGV4dCA9PiBcbiAgYXdhaXQobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KS5nZXRBbGwoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICBcdGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMgXG4gIH0pKTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyQnlJZCA9IGFzeW5jIChkYkNvbnRleHQsIGN1c3RvbWVySWQpID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5nZXRPbmVXaGVyZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyxcbiAgXHR3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdpZCA9IDpjdXN0b21lcklkJywgeyBjdXN0b21lcklkIH0pXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyQnlFbWFpbCA9IGFzeW5jIChkYkNvbnRleHQsIGVtYWlsKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZ2V0T25lV2hlcmUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogQ1VTVE9NRVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IENVU1RPTUVSX1RBQkxFX0NPTFVNTlMsXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnZW1haWwgPSA6ZW1haWwnLCB7IGVtYWlsIH0pXG4gIH0pO1xufTtcblxuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJzQnlOYW1lID0gYXN5bmMgKGRiQ29udGV4dCwgbmFtZSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmdldEFsbFdoZXJlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHRjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2Z1bGxuYW1lIExJS0UgOm5hbWUnLCB7IG5hbWU6IGAlJHtuYW1lfSVgIH0pXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbWVyc0J5RW1haWwgPSBhc3luYyAoZGJDb250ZXh0LCBlbWFpbCkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLmdldEFsbFdoZXJlKHNjaGVtYSwgeyBcbiAgICB0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgICBjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICAgIHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2VtYWlsIExJS0UgOmVtYWlsJywgeyBlbWFpbDogYCUke2VtYWlsfSVgIH0pXG4gIH0pO1xufTtcblxuXG5leHBvcnQgY29uc3QgdXBkYXRlQ3VzdG9tZXIgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcklkLCBjdXN0b21lcikgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiBhd2FpdCB1bml0T2ZXb3JrLnVwZGF0ZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBDVVNUT01FUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogQ1VTVE9NRVJfVEFCTEVfQ09MVU1OUyxcbiAgXHRlbnRpdHk6IGN1c3RvbWVyLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlQ3VzdG9tZXIgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcklkKSA9PiB7IFxuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuZGVsZXRlKHNjaGVtYSwgeyBcbiAgXHR0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgXHR3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdpZCA9IDpjdXN0b21lcklkJywgeyBjdXN0b21lcklkIH0pXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbWVyID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXIpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkuY3JlYXRlKHNjaGVtYSwgeyBcbiAgICB0YWJsZU5hbWU6IENVU1RPTUVSX1RBQkxFLCBcbiAgICBjb2x1bW5zOiBDVVNUT01FUl9UQUJMRV9DT0xVTU5TLFxuICAgIGVudGl0eTogY3VzdG9tZXIsXG4gIH0pKTtcbiAgXG4gIHJldHVybiAocmVzdWx0Lmxlbmd0aCAmJiByZXN1bHRbMF0pIHx8IHt9O1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "customer-repo.js"
      ],
      "names": [
        "CUSTOMER_TABLE",
        "CUSTOMER_TABLE_COLUMNS",
        "getCustomers",
        "dbContext",
        "UnitOfWork",
        "getAll",
        "schema",
        "tableName",
        "columns",
        "getCustomerById",
        "customerId",
        "unitOfWork",
        "getOneWhere",
        "where",
        "dbConnection",
        "raw",
        "getCustomerByEmail",
        "email",
        "getCustomersByName",
        "name",
        "getAllWhere",
        "getCustomersByEmail",
        "updateCustomer",
        "customer",
        "update",
        "entity",
        "deleteCustomer",
        "delete",
        "createCustomer",
        "result",
        "create",
        "length"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
      "sourcesContent": [
        "import UnitOfWork from '../database/unit_of_work.js';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { schema } from '../config';\n\nexport const CUSTOMER_TABLE = 'customer';\nconst CUSTOMER_TABLE_COLUMNS = [\n  'id',\n  'email',\n  'phone',\n  'external_user_id',\n  'fullname',\n  'alias',\n  'preferences',\n  'created_at',\n  'updated_at'\n];\n\nexport const getCustomers = async dbContext => \n  await(new UnitOfWork(dbContext).getAll(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS \n  }));\n\nexport const getCustomerById = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const getCustomerByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getOneWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email = :email', { email })\n  });\n};\n\n\nexport const getCustomersByName = async (dbContext, name) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \twhere: unitOfWork.dbConnection.raw('fullname LIKE :name', { name: `%${name}%` })\n  });\n};\n\nexport const getCustomersByEmail = async (dbContext, email) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.getAllWhere(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    where: unitOfWork.dbConnection.raw('email LIKE :email', { email: `%${email}%` })\n  });\n};\n\n\nexport const updateCustomer = async (dbContext, customerId, customer) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \tcolumns: CUSTOMER_TABLE_COLUMNS,\n  \tentity: customer,\n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const deleteCustomer = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n  \ttableName: CUSTOMER_TABLE, \n  \twhere: unitOfWork.dbConnection.raw('id = :customerId', { customerId })\n  });\n};\n\nexport const createCustomer = async (dbContext, customer) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: CUSTOMER_TABLE, \n    columns: CUSTOMER_TABLE_COLUMNS,\n    entity: customer,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _pg_test_db_connection = require(\"./connections/pg_test_db_connection\");\n\nvar _pg_db_connection = require(\"./connections/pg_db_connection\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'UnitOfWork'\n});\n\nclass UnitOfWork {\n  constructor(context) {\n    this.dbConnectionMap = {\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: _pg_test_db_connection.pgTestDbConnection,\n      [_unit_of_work.UnitOfWorkContext.POSTGRES_CONTEXT]: _pg_db_connection.pgDbConnection\n    };\n\n    this.executeTransaction = async ({\n      func,\n      trx\n    }) => {\n      const transact = async transaction => await func().transacting(transaction).catch(error => {\n        logger.error(error, 'Transaction Failed');\n        transaction.rollback();\n        throw error;\n      });\n\n      const result = await (trx ? transact(trx) : new Promise((resolve, reject) => {\n        return this.dbConnection.transaction(async transaction => {\n          const response = await transact(transaction);\n          resolve(response);\n        });\n      }));\n      return result.rows || result;\n    };\n\n    this._getAll = (schema, {\n      tableName,\n      columns,\n      trx\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAll = async (schema, {\n      tableName,\n      columns,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAll(schema, {\n        tableName,\n        columns\n      }),\n      trx\n    });\n\n    this._getOneWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n      LIMIT 1\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getOneWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => {\n      const result = await this.executeTransaction({\n        func: () => this._getOneWhere(schema, {\n          tableName,\n          columns,\n          join,\n          where,\n          groupBy\n        }),\n        trx\n      });\n      return result.length ? result[0] : {};\n    };\n\n    this._getAllWhere = (schema, {\n      tableName,\n      columns,\n      join = '',\n      where = '',\n      groupBy = null\n    }) => this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${groupBy ? `GROUP BY (${groupBy})` : ''}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.getAllWhere = async (schema, {\n      tableName,\n      columns,\n      join,\n      where,\n      groupBy,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._getAllWhere(schema, {\n        tableName,\n        columns,\n        join,\n        where,\n        groupBy\n      }),\n      trx\n    });\n\n    this.addAuditValues = (entity = {}) => {\n      const now = (0, _moment.default)().format();\n      entity.created_at = now;\n      entity.updated_at = now;\n    };\n\n    this.formatSetValues = (columns, entity) => columns.reduce((acc, column) => {\n      const value = entity[column];\n      if (value == null) return acc;\n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, {\n        [column]: value\n      }).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n    this._update = (schema, {\n      tableName,\n      columns,\n      entity,\n      where = ''\n    }) => this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.update = async (schema, {\n      tableName,\n      columns = [],\n      entity,\n      where,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._update(schema, {\n          tableName,\n          columns,\n          entity,\n          where\n        }),\n        trx\n      });\n    };\n\n    this._delete = (schema, {\n      tableName,\n      where\n    }) => this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, {\n      schema,\n      tableName\n    });\n\n    this.delete = async (schema, {\n      tableName,\n      where,\n      trx\n    }) => await this.executeTransaction({\n      func: () => this._delete(schema, {\n        tableName,\n        where\n      }),\n      trx\n    });\n\n    this.formatInsertColumns = (columns, entity) => Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, {\n        [bindingName]: key\n      }));\n      return acc;\n    }, []).join(',');\n\n    this.formatInsertValues = (columns, entity, encryptPassword) => Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, {\n        [key]: entity[key]\n      }));\n      return acc;\n    }, []).join(',');\n\n    this._create = (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict = ''\n    }) => this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, {\n      schema,\n      tableName\n    });\n\n    this.create = async (schema, {\n      tableName,\n      columns,\n      entity,\n      rawValues,\n      encryptPassword,\n      onConflict,\n      trx\n    }) => {\n      this.addAuditValues(entity);\n      return await this.executeTransaction({\n        func: () => this._create(schema, {\n          tableName,\n          columns,\n          entity,\n          rawValues,\n          encryptPassword,\n          onConflict\n        }),\n        trx\n      });\n    };\n\n    this.transact = async procedure => await new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    });\n\n    this.context = context;\n    logger.info({\n      context\n    }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection) {\n      logger.error({\n        context\n      }, 'No DB Connection for the given context!');\n    }\n  }\n\n}\n\nexports.default = UnitOfWork;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwiVW5pdE9mV29yayIsImNvbnN0cnVjdG9yIiwiY29udGV4dCIsImRiQ29ubmVjdGlvbk1hcCIsIlVuaXRPZldvcmtDb250ZXh0IiwiUE9TVEdSRVNfVEVTVF9DT05URVhUIiwicGdUZXN0RGJDb25uZWN0aW9uIiwiUE9TVEdSRVNfQ09OVEVYVCIsInBnRGJDb25uZWN0aW9uIiwiZXhlY3V0ZVRyYW5zYWN0aW9uIiwiZnVuYyIsInRyeCIsInRyYW5zYWN0IiwidHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGluZyIsImNhdGNoIiwiZXJyb3IiLCJyb2xsYmFjayIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGJDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJyb3dzIiwiX2dldEFsbCIsInNjaGVtYSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJyYXciLCJqb2luIiwiZ2V0QWxsIiwiX2dldE9uZVdoZXJlIiwid2hlcmUiLCJncm91cEJ5IiwiZ2V0T25lV2hlcmUiLCJsZW5ndGgiLCJfZ2V0QWxsV2hlcmUiLCJnZXRBbGxXaGVyZSIsImFkZEF1ZGl0VmFsdWVzIiwiZW50aXR5Iiwibm93IiwiZm9ybWF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJmb3JtYXRTZXRWYWx1ZXMiLCJyZWR1Y2UiLCJhY2MiLCJjb2x1bW4iLCJ2YWx1ZSIsInZhbHVlU3RhdGVtZW50IiwidG9TdHJpbmciLCJwdXNoIiwiX3VwZGF0ZSIsInVwZGF0ZSIsIl9kZWxldGUiLCJkZWxldGUiLCJmb3JtYXRJbnNlcnRDb2x1bW5zIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImluZGV4IiwiaW5jbHVkZXMiLCJiaW5kaW5nTmFtZSIsImZvcm1hdEluc2VydFZhbHVlcyIsImVuY3J5cHRQYXNzd29yZCIsIl9jcmVhdGUiLCJyYXdWYWx1ZXMiLCJvbkNv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O0FBZDZCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2RhdGFiYXNlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5pdE9mV29ya0NvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2VudW1zL3VuaXRfb2Zfd29yayc7XG5pbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBwZ1Rlc3REYkNvbm5lY3Rpb24gfSBmcm9tICcuL2Nvbm5lY3Rpb25zL3BnX3Rlc3RfZGJfY29ubmVjdGlvbic7XG5pbXBvcnQgeyBwZ0RiQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbnMvcGdfZGJfY29ubmVjdGlvbic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnVW5pdE9mV29yayd9ICk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuaXRPZldvcmsge1xuICBkYkNvbm5lY3Rpb25NYXAgPSB7XG4gICAgW1VuaXRPZldvcmtDb250ZXh0LlBPU1RHUkVTX1RFU1RfQ09OVEVYVF06IHBnVGVzdERiQ29ubmVjdGlvbiwgXG4gICAgW1VuaXRPZldvcmtDb250ZXh0LlBPU1RHUkVTX0NPTlRFWFRdOiBwZ0RiQ29ubmVjdGlvbixcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICBsb2dnZXIuaW5mbyh7IGNvbnRleHQgfSwgJ1VuaXRPZldvcmsgc3RhcnRlZCEnKTtcbiAgICB0aGlzLmRiQ29ubmVjdGlvbiA9IHRoaXMuZGJDb25uZWN0aW9uTWFwW2NvbnRleHRdO1xuXG4gICAgaWYgKCF0aGlzLmRiQ29ubmVjdGlvbil7XG4gICAgICBsb2dnZXIuZXJyb3IoeyBjb250ZXh0IH0sICdObyBEQiBDb25uZWN0aW9uIGZvciB0aGUgZ2l2ZW4gY29udGV4dCEnKTtcbiAgICB9XG4gIH1cbiAgXG4gIGV4ZWN1dGVUcmFuc2FjdGlvbiA9IGFzeW5jICh7IGZ1bmMsIHRyeCB9KSA9PiB7XG4gICAgY29uc3QgdHJhbnNhY3QgPSBhc3luYyB0cmFuc2FjdGlvbiA9PlxuICAgICAgICBhd2FpdCBmdW5jKClcbiAgICAgICAgLnRyYW5zYWN0aW5nKHRyYW5zYWN0aW9uKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcihlcnJvciwgJ1RyYW5zYWN0aW9uIEZhaWxlZCcpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAodHJ4ID8gXG4gICAgICB0cmFuc2FjdCh0cngpIDpcbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmRiQ29ubmVjdGlvbi50cmFuc2FjdGlvbihhc3luYyB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRyYW5zYWN0KHRyYW5zYWN0aW9uKTtcbiAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICAgICAgXG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzIHx8IHJlc3VsdDtcbiAgfTtcblxuICBfZ2V0QWxsID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIHRyeCB9KSA9PlxuICAgIHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgXG4gICAgICBTRUxFQ1QgJHtjb2x1bW5zLmpvaW4oJywnKX1cbiAgICAgIEZST00gOnNjaGVtYTouOnRhYmxlTmFtZTpcbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIGdldEFsbCA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCB0cnggfSkgPT4gXG4gICAgYXdhaXQgdGhpcy5leGVjdXRlVHJhbnNhY3Rpb24oeyBcbiAgICAgIGZ1bmM6ICgpID0+IHRoaXMuX2dldEFsbChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zIH0pLFxuICAgICAgdHJ4XG4gICAgfSk7XG5cbiAgX2dldE9uZVdoZXJlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIGNvbHVtbnMsIGpvaW4gPSAnJywgd2hlcmUgPSAnJywgZ3JvdXBCeSA9IG51bGwgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgU0VMRUNUICR7Y29sdW1ucy5qb2luKCcsJyl9XG4gICAgICBGUk9NIDpzY2hlbWE6Ljp0YWJsZU5hbWU6XG4gICAgICAke2pvaW59XG4gICAgICBXSEVSRSAke3doZXJlfVxuICAgICAgJHsoZ3JvdXBCeSA/IGBHUk9VUCBCWSAoJHtncm91cEJ5fSlgOiAnJyl9XG4gICAgICBMSU1JVCAxXG4gICAgYCwgeyBzY2hlbWEsIHRhYmxlTmFtZSB9KTtcblxuICBnZXRPbmVXaGVyZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luLCB3aGVyZSwgZ3JvdXBCeSwgdHJ4IH0pID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZ2V0T25lV2hlcmUoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgam9pbiwgd2hlcmUsIGdyb3VwQnkgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA/IHJlc3VsdFswXSA6IHt9O1xuICB9O1xuXG4gIF9nZXRBbGxXaGVyZSA9IChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBqb2luID0gJycsIHdoZXJlID0gJycsIGdyb3VwQnkgPSBudWxsIH0pID0+XG4gICAgdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGBcbiAgICAgIFNFTEVDVCAke2NvbHVtbnMuam9pbignLCcpfVxuICAgICAgRlJPTSA6c2NoZW1hOi46dGFibGVOYW1lOlxuICAgICAgJHtqb2lufVxuICAgICAgV0hFUkUgJHt3aGVyZX1cbiAgICAgICR7KGdyb3VwQnkgPyBgR1JPVVAgQlkgKCR7Z3JvdXBCeX0pYDogJycpfVxuICAgIGAsIHsgc2NoZW1hLCB0YWJsZU5hbWUgfSk7XG5cbiAgZ2V0QWxsV2hlcmUgPSBhc3luYyAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgam9pbiwgd2hlcmUsIGdyb3VwQnksIHRyeCB9KSA9PiBcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2FjdGlvbih7IFxuICAgICAgZnVuYzogKCkgPT4gdGhpcy5fZ2V0QWxsV2hlcmUoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgam9pbiwgd2hlcmUsIGdyb3VwQnkgfSksXG4gICAgICB0cnhcbiAgICB9KTtcbiAgXG4gIGFkZEF1ZGl0VmFsdWVzID0gKGVudGl0eSA9IHt9KSA9PiB7XG4gICAgY29uc3Qgbm93ID0gbW9tZW50KCkuZm9ybWF0KCk7XG4gICAgZW50aXR5LmNyZWF0ZWRfYXQgPSBub3c7XG4gICAgZW50aXR5LnVwZGF0ZWRfYXQgPSBub3c7XG4gIH07XG5cbiAgZm9ybWF0U2V0VmFsdWVzID0gKGNvbHVtbnMsIGVudGl0eSkgPT4gXG4gICAgY29sdW1ucy5yZWR1Y2UoKGFjYywgY29sdW1uKSA9PiB7IFxuICAgICAgY29uc3QgdmFsdWUgPSBlbnRpdHlbY29sdW1uXTtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gYWNjO1xuICAgICAgXG4gICAgICBjb25zdCB2YWx1ZVN0YXRlbWVudCA9IHRoaXMuZGJDb25uZWN0aW9uLnJhdyhgJHtjb2x1bW59ID0gOiR7Y29sdW1ufWAsIHsgW2NvbHVtbl06IHZhbHVlIH0gKS50b1N0cmluZygpO1xuICAgICAgYWNjLnB1c2godmFsdWVTdGF0ZW1lbnQpO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSkuam9pbignLCcpO1xuXG4gIF91cGRhdGUgPSAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucywgZW50aXR5LCB3aGVyZSA9ICcnIH0pID0+XG4gICAgdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGBcbiAgICAgIFVQREFURSA6c2NoZW1hOi46dGFibGVOYW1lOiBcbiAgICAgICAgU0VUICR7dGhpcy5mb3JtYXRTZXRWYWx1ZXMoY29sdW1ucywgZW50aXR5KX1cbiAgICAgIFdIRVJFICR7d2hlcmV9XG4gICAgYCwgeyBzY2hlbWEsIHRhYmxlTmFtZSB9KTtcblxuICB1cGRhdGUgPSBhc3luYyAoc2NoZW1hLCB7IHRhYmxlTmFtZSwgY29sdW1ucyA9IFtdLCBlbnRpdHksIHdoZXJlLCB0cnggfSkgPT4ge1xuICAgIHRoaXMuYWRkQXVkaXRWYWx1ZXMoZW50aXR5KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlVHJhbnNhY3Rpb24oeyBcbiAgICAgIGZ1bmM6ICgpID0+IHRoaXMuX3VwZGF0ZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHdoZXJlIH0pLFxuICAgICAgdHJ4XG4gICAgfSk7XG4gIH07XG4gIFxuICBfZGVsZXRlID0gKHNjaGVtYSwgeyB0YWJsZU5hbWUsIHdoZXJlIH0pID0+XG4gICAgdGhpcy5kYkNvbm5lY3Rpb24ucmF3KGBcbiAgICAgIERFTEVURVxuICAgICAgRlJPTSA6c2NoZW1hOi46dGFibGVOYW1lOlxuICAgICAgV0hFUkUgJHt3aGVyZX1cbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuICBcbiAgZGVsZXRlID0gYXN5bmMgKHNjaGVtYSwgeyB0YWJsZU5hbWUsIHdoZXJlLCB0cnggfSkgPT4gXG4gICAgYXdhaXQgdGhpcy5leGVjdXRlVHJhbnNhY3Rpb24oeyBcbiAgICAgIGZ1bmM6ICgpID0+IHRoaXMuX2RlbGV0ZShzY2hlbWEsIHsgdGFibGVOYW1lLCB3aGVyZSB9KSxcbiAgICAgIHRyeFxuICAgIH0pO1xuXG4gIGZvcm1hdEluc2VydENvbHVtbnMgPSAoY29sdW1ucywgZW50aXR5KSA9PlxuICAgIE9iamVjdC5rZXlzKGVudGl0eSkucmVkdWNlKChhY2MsIGtleSwgaW5kZXgpID0+IHtcbiAgICAgIGlmICghY29sdW1ucy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gYWNjO1xuXG4gICAgICBjb25zdCBiaW5kaW5nTmFtZSA9IGAke2tleX0ke2luZGV4fWA7XG4gICAgICBhY2MucHVzaCh0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYDoke2JpbmRpbmdOYW1lfTpgLCB7IFtiaW5kaW5nTmFtZV06IGtleSB9KSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKS5qb2luKCcsJyk7XG5cbiAgZm9ybWF0SW5zZXJ0VmFsdWVzID0gKGNvbHVtbnMsIGVudGl0eSwgZW5jcnlwdFBhc3N3b3JkKSA9PlxuICAgIE9iamVjdC5rZXlzKGVudGl0eSkucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgaWYgKCFjb2x1bW5zLmluY2x1ZGVzKGtleSkpIHJldHVybiBhY2M7XG5cbiAgICAgIGNvbnN0IGJpbmRpbmdOYW1lID0gZW5jcnlwdFBhc3N3b3JkICYmIGtleSA9PT0gJ3Bhc3N3b3JkJyA/IGBNRDUoOiR7a2V5fSlgIDogYDoke2tleX1gO1xuICAgICAgYWNjLnB1c2godGhpcy5kYkNvbm5lY3Rpb24ucmF3KGJpbmRpbmdOYW1lLCB7IFtrZXldOiBlbnRpdHlba2V5XSB9KSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKS5qb2luKCcsJyk7XG5cbiAgX2NyZWF0ZSA9IChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHJhd1ZhbHVlcywgZW5jcnlwdFBhc3N3b3JkLCBvbkNvbmZsaWN0ID0gJycgfSkgPT5cbiAgICB0aGlzLmRiQ29ubmVjdGlvbi5yYXcoYFxuICAgICAgSU5TRVJUIElOVE8gOnNjaGVtYTouOnRhYmxlTmFtZTogKCR7dGhpcy5mb3JtYXRJbnNlcnRDb2x1bW5zKGNvbHVtbnMsIGVudGl0eSl9KVxuICAgICAgICBWQUxVRVMgKCR7cmF3VmFsdWVzIHx8IHRoaXMuZm9ybWF0SW5zZXJ0VmFsdWVzKGNvbHVtbnMsIGVudGl0eSwgZW5jcnlwdFBhc3N3b3JkKX0pXG4gICAgICAke29uQ29uZmxpY3R9ICAgXG4gICAgICBSRVRVUk5JTkcgaWRcbiAgICBgLCB7IHNjaGVtYSwgdGFibGVOYW1lIH0pO1xuXG4gIGNyZWF0ZSA9IGFzeW5jIChzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHJhd1ZhbHVlcywgZW5jcnlwdFBhc3N3b3JkLCBvbkNvbmZsaWN0LCB0cnggfSkgPT4ge1xuICAgIHRoaXMuYWRkQXVkaXRWYWx1ZXMoZW50aXR5KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlVHJhbnNhY3Rpb24oeyBcbiAgICAgIGZ1bmM6ICgpID0+IHRoaXMuX2NyZWF0ZShzY2hlbWEsIHsgdGFibGVOYW1lLCBjb2x1bW5zLCBlbnRpdHksIHJhd1ZhbHVlcywgZW5jcnlwdFBhc3N3b3JkLCBvbkNvbmZsaWN0IH0pLFxuICAgICAgdHJ4XG4gICAgfSk7XG4gIH07XG5cbiAgdHJhbnNhY3QgPSBhc3luYyBwcm9jZWR1cmUgPT5cbiAgICBhd2FpdCAobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4geyBcbiAgICAgIHJldHVybiB0aGlzLmRiQ29ubmVjdGlvbi50cmFuc2FjdGlvbihhc3luYyB0cnggPT4ge1xuICAgICAgICBhd2FpdCBwcm9jZWR1cmUodHJ4LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSkpO1xuXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "UnitOfWork",
        "constructor",
        "context",
        "dbConnectionMap",
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "pgTestDbConnection",
        "POSTGRES_CONTEXT",
        "pgDbConnection",
        "executeTransaction",
        "func",
        "trx",
        "transact",
        "transaction",
        "transacting",
        "catch",
        "error",
        "rollback",
        "result",
        "Promise",
        "resolve",
        "reject",
        "dbConnection",
        "response",
        "rows",
        "_getAll",
        "schema",
        "tableName",
        "columns",
        "raw",
        "join",
        "getAll",
        "_getOneWhere",
        "where",
        "groupBy",
        "getOneWhere",
        "length",
        "_getAllWhere",
        "getAllWhere",
        "addAuditValues",
        "entity",
        "now",
        "format",
        "created_at",
        "updated_at",
        "formatSetValues",
        "reduce",
        "acc",
        "column",
        "value",
        "valueStatement",
        "toString",
        "push",
        "_update",
        "update",
        "_delete",
        "delete",
        "formatInsertColumns",
        "Object",
        "keys",
        "key",
        "index",
        "includes",
        "bindingName",
        "formatInsertValues",
        "encryptPassword",
        "_create",
        "rawValues",
        "onConflict",
        "create",
        "procedure",
        "info"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database",
      "sourcesContent": [
        "import { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport bunyan from 'bunyan';\nimport { pgTestDbConnection } from './connections/pg_test_db_connection';\nimport { pgDbConnection } from './connections/pg_db_connection';\nimport moment from 'moment';\n\nconst logger = bunyan.createLogger({ name: 'UnitOfWork'} );\n\nexport default class UnitOfWork {\n  dbConnectionMap = {\n    [UnitOfWorkContext.POSTGRES_TEST_CONTEXT]: pgTestDbConnection, \n    [UnitOfWorkContext.POSTGRES_CONTEXT]: pgDbConnection,\n  };\n\n  constructor(context) {\n    this.context = context;\n    logger.info({ context }, 'UnitOfWork started!');\n    this.dbConnection = this.dbConnectionMap[context];\n\n    if (!this.dbConnection){\n      logger.error({ context }, 'No DB Connection for the given context!');\n    }\n  }\n  \n  executeTransaction = async ({ func, trx }) => {\n    const transact = async transaction =>\n        await func()\n        .transacting(transaction)\n        .catch(error => {\n          logger.error(error, 'Transaction Failed');\n          transaction.rollback();\n          throw error;\n        });\n  \n    const result = await (trx ? \n      transact(trx) :\n      new Promise((resolve, reject) => {\n      return this.dbConnection.transaction(async transaction => {\n         const response = await transact(transaction);\n         resolve(response);\n      });\n    }));\n      \n    return result.rows || result;\n  };\n\n  _getAll = (schema, { tableName, columns, trx }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n    `, { schema, tableName });\n\n  getAll = async (schema, { tableName, columns, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAll(schema, { tableName, columns }),\n      trx\n    });\n\n  _getOneWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n      LIMIT 1\n    `, { schema, tableName });\n\n  getOneWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => {\n    const result = await this.executeTransaction({ \n      func: () => this._getOneWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n    return result.length ? result[0] : {};\n  };\n\n  _getAllWhere = (schema, { tableName, columns, join = '', where = '', groupBy = null }) =>\n    this.dbConnection.raw(`\n      SELECT ${columns.join(',')}\n      FROM :schema:.:tableName:\n      ${join}\n      WHERE ${where}\n      ${(groupBy ? `GROUP BY (${groupBy})`: '')}\n    `, { schema, tableName });\n\n  getAllWhere = async (schema, { tableName, columns, join, where, groupBy, trx }) => \n    await this.executeTransaction({ \n      func: () => this._getAllWhere(schema, { tableName, columns, join, where, groupBy }),\n      trx\n    });\n  \n  addAuditValues = (entity = {}) => {\n    const now = moment().format();\n    entity.created_at = now;\n    entity.updated_at = now;\n  };\n\n  formatSetValues = (columns, entity) => \n    columns.reduce((acc, column) => { \n      const value = entity[column];\n      if (value == null) return acc;\n      \n      const valueStatement = this.dbConnection.raw(`${column} = :${column}`, { [column]: value } ).toString();\n      acc.push(valueStatement);\n      return acc;\n    }, []).join(',');\n\n  _update = (schema, { tableName, columns, entity, where = '' }) =>\n    this.dbConnection.raw(`\n      UPDATE :schema:.:tableName: \n        SET ${this.formatSetValues(columns, entity)}\n      WHERE ${where}\n    `, { schema, tableName });\n\n  update = async (schema, { tableName, columns = [], entity, where, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._update(schema, { tableName, columns, entity, where }),\n      trx\n    });\n  };\n  \n  _delete = (schema, { tableName, where }) =>\n    this.dbConnection.raw(`\n      DELETE\n      FROM :schema:.:tableName:\n      WHERE ${where}\n    `, { schema, tableName });\n  \n  delete = async (schema, { tableName, where, trx }) => \n    await this.executeTransaction({ \n      func: () => this._delete(schema, { tableName, where }),\n      trx\n    });\n\n  formatInsertColumns = (columns, entity) =>\n    Object.keys(entity).reduce((acc, key, index) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = `${key}${index}`;\n      acc.push(this.dbConnection.raw(`:${bindingName}:`, { [bindingName]: key }));\n      return acc;\n    }, []).join(',');\n\n  formatInsertValues = (columns, entity, encryptPassword) =>\n    Object.keys(entity).reduce((acc, key) => {\n      if (!columns.includes(key)) return acc;\n\n      const bindingName = encryptPassword && key === 'password' ? `MD5(:${key})` : `:${key}`;\n      acc.push(this.dbConnection.raw(bindingName, { [key]: entity[key] }));\n      return acc;\n    }, []).join(',');\n\n  _create = (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict = '' }) =>\n    this.dbConnection.raw(`\n      INSERT INTO :schema:.:tableName: (${this.formatInsertColumns(columns, entity)})\n        VALUES (${rawValues || this.formatInsertValues(columns, entity, encryptPassword)})\n      ${onConflict}   \n      RETURNING id\n    `, { schema, tableName });\n\n  create = async (schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict, trx }) => {\n    this.addAuditValues(entity);\n    return await this.executeTransaction({ \n      func: () => this._create(schema, { tableName, columns, entity, rawValues, encryptPassword, onConflict }),\n      trx\n    });\n  };\n\n  transact = async procedure =>\n    await (new Promise((resolve, reject) => { \n      return this.dbConnection.transaction(async trx => {\n        await procedure(trx, resolve, reject);\n      });\n    }));\n\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnitOfWorkContext = void 0;\nconst UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT'\n};\nexports.UnitOfWorkContext = UnitOfWorkContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJVbml0T2ZXb3JrQ29udGV4dCIsIlBPU1RHUkVTX1RFU1RfQ09OVEVYVCIsIlBPU1RHUkVTX0NPTlRFWFQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLGlCQUFpQixHQUFHO0FBQy9CQyxFQUFBQSxxQkFBcUIsRUFBRSx1QkFEUTtBQUUvQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFGYSxDQUExQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9oZWxwZXJzL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVuaXRPZldvcmtDb250ZXh0ID0ge1xuICBQT1NUR1JFU19URVNUX0NPTlRFWFQ6ICdQT1NUR1JFU19URVNUX0NPTlRFWFQnLFxuICBQT1NUR1JFU19DT05URVhUOiAnUE9TVEdSRVNfQ09OVEVYVCcsXG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "POSTGRES_CONTEXT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,iBAAiB,GAAG;AAC/BC,EAAAA,qBAAqB,EAAE,uBADQ;AAE/BC,EAAAA,gBAAgB,EAAE;AAFa,CAA1B",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "sourcesContent": [
        "export const UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT',\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549380536766
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_db_connection.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_db_connection.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_db_connection.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_db_connection.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_test_db_connection.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _knex = _interopRequireDefault(require(\"knex\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _knexTinyLogger = _interopRequireDefault(require(\"knex-tiny-logger\"));\n\nvar _environment = require(\"../../helpers/environment\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _pg_test_knexfile = _interopRequireDefault(require(\"./pg_test_knexfile.js\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'PG DBConnection'\n});\n\nlet pgTestDbConnection;\nmodule.exports = {\n  get pgTestDbConnection() {\n    if (!pgTestDbConnection) {\n      pgTestDbConnection = (0, _knexTinyLogger.default)((0, _knex.default)(_pg_test_knexfile.default));\n      logger.info({\n        database: _pg_test_knexfile.default.connection.database\n      }, 'Knex singleton created');\n    }\n\n    return pgTestDbConnection;\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3RfZGJfY29ubmVjdGlvbi5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwicGdUZXN0RGJDb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbmZpZyIsImluZm8iLCJkYXRhYmFzZSIsImNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsa0JBQUo7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsTUFBSUYsa0JBQUosR0FBeUI7QUFDdkIsUUFBSSxDQUFDQSxrQkFBTCxFQUF5QjtBQUN2QkEsTUFBQUEsa0JBQWtCLEdBQUcsNkJBQWUsbUJBQUtHLHlCQUFMLENBQWYsQ0FBckI7QUFDQVAsTUFBQUEsTUFBTSxDQUFDUSxJQUFQLENBQVk7QUFBRUMsUUFBQUEsUUFBUSxFQUFFRiwwQkFBT0csVUFBUCxDQUFrQkQ7QUFBOUIsT0FBWixFQUFzRCx3QkFBdEQ7QUFDRDs7QUFDRCxXQUFPTCxrQkFBUDtBQUNEOztBQVBjLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtuZXggZnJvbSAna25leCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBrbmV4VGlueUxvZ2dlciBmcm9tICdrbmV4LXRpbnktbG9nZ2VyJztcbmltcG9ydCB7IGdldEVudlZhcmlhYmxlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9lbnZpcm9ubWVudCc7XG5pbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vcGdfdGVzdF9rbmV4ZmlsZS5qcyc7XG5cbmNvbnN0IGxvZ2dlciA9IGJ1bnlhbi5jcmVhdGVMb2dnZXIoeyBuYW1lOiAnUEcgREJDb25uZWN0aW9uJ30gKTtcblxubGV0IHBnVGVzdERiQ29ubmVjdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldCBwZ1Rlc3REYkNvbm5lY3Rpb24oKSB7XG4gICAgaWYgKCFwZ1Rlc3REYkNvbm5lY3Rpb24pIHtcbiAgICAgIHBnVGVzdERiQ29ubmVjdGlvbiA9IGtuZXhUaW55TG9nZ2VyKGtuZXgoY29uZmlnKSk7XG4gICAgICBsb2dnZXIuaW5mbyh7IGRhdGFiYXNlOiBjb25maWcuY29ubmVjdGlvbi5kYXRhYmFzZSB9LCAnS25leCBzaW5nbGV0b24gY3JlYXRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcGdUZXN0RGJDb25uZWN0aW9uO1xuICB9LFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_db_connection.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "pgTestDbConnection",
        "module",
        "exports",
        "config",
        "info",
        "database",
        "connection"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,kBAAJ;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACf,MAAIF,kBAAJ,GAAyB;AACvB,QAAI,CAACA,kBAAL,EAAyB;AACvBA,MAAAA,kBAAkB,GAAG,6BAAe,mBAAKG,yBAAL,CAAf,CAArB;AACAP,MAAAA,MAAM,CAACQ,IAAP,CAAY;AAAEC,QAAAA,QAAQ,EAAEF,0BAAOG,UAAP,CAAkBD;AAA9B,OAAZ,EAAsD,wBAAtD;AACD;;AACD,WAAOL,kBAAP;AACD;;AAPc,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "import knex from 'knex';\nimport path from 'path';\nimport knexTinyLogger from 'knex-tiny-logger';\nimport { getEnvVariable } from '../../helpers/environment';\nimport bunyan from 'bunyan';\nimport config from './pg_test_knexfile.js';\n\nconst logger = bunyan.createLogger({ name: 'PG DBConnection'} );\n\nlet pgTestDbConnection;\n\nmodule.exports = {\n  get pgTestDbConnection() {\n    if (!pgTestDbConnection) {\n      pgTestDbConnection = knexTinyLogger(knex(config));\n      logger.info({ database: config.connection.database }, 'Knex singleton created');\n    }\n    return pgTestDbConnection;\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_test_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_test_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_test_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX3Rlc3Rfa25leGZpbGUuanMiXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJnZXRFbnZWYXJpYWJsZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBvcnQiLCJwYXNzd29yZCIsImFkbWluVXNlciIsImFkbWluUGFzc3dvcmQiLCJyb2xlIiwiYXBwbGljYXRpb25fbmFtZSIsImNoYXJzZXQiLCJwb29sIiwibWluIiwibWF4IiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJ0YWJsZU5hbWUiLCJkZWJ1ZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFxQkQsT0FBTyxDQUFDLDJCQUFELENBQWxDOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFBTSxFQUFFLFlBREs7QUFFYkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLElBQUFBLElBQUksRUFBRUwsY0FBYyxDQUFDLGVBQUQsRUFBa0IsV0FBbEIsQ0FEVjtBQUVWTSxJQUFBQSxRQUFRLEVBQUVOLGNBQWMsQ0FBQyxhQUFELEVBQWdCLGVBQWhCLENBRmQ7QUFHVk8sSUFBQUEsSUFBSSxFQUFFUCxjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FIVjtBQUlWUSxJQUFBQSxJQUFJLEVBQUVSLGNBQWMsQ0FBQyxrQkFBRCxFQUFxQixJQUFyQixDQUpWO0FBS1ZTLElBQUFBLFFBQVEsRUFBRVQsY0FBYyxDQUFDLHNCQUFELEVBQXlCLHdCQUF6QixDQUxkO0FBTVZVLElBQUFBLFNBQVMsRUFBRVYsY0FBYyxDQUFDLGVBQUQsRUFBa0IsVUFBbEIsQ0FOZjtBQU9WVyxJQUFBQSxhQUFhLEVBQUVYLGNBQWMsQ0FBQyxtQkFBRCxFQUFzQix1QkFBdEIsQ0FQbkI7QUFRVlksSUFBQUEsSUFBSSxFQUFFWixjQUFjLENBQUMsa0JBQUQsRUFBcUIsZUFBckIsQ0FSVjtBQVNWYSxJQUFBQSxnQkFBZ0IsRUFBRSxVQVRSO0FBVVZDLElBQUFBLE9BQU8sRUFBRTtBQVZDLEdBRkM7QUFjYkMsRUFBQUEsSUFBSSxFQUFFO0FBQ0pDLElBQUFBLEdBQUcsRUFBRSxDQUREO0FBRUpDLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBZE87QUFrQmJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxTQUFTLEVBQUVyQixJQUFJLENBQUNzQixPQUFMLENBQWFDLFNBQWIsRUFBd0IsZUFBeEIsQ0FERDtBQUVWQyxJQUFBQSxTQUFTLEVBQUU7QUFGRCxHQWxCQztBQXNCYkMsRUFBQUEsS0FBSyxFQUFFO0FBdEJNLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgZ2V0RW52VmFyaWFibGUgfSA9IHJlcXVpcmUoJy4uLy4uL2hlbHBlcnMvZW52aXJvbm1lbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2xpZW50OiAncG9zdGdyZXNxbCcsXG4gICAgY29ubmVjdGlvbjoge1xuICAgICAgaG9zdDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0hPU1QnLCAnbG9jYWxob3N0JyksXG4gICAgICBkYXRhYmFzZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCJywgJ2N1c3RvbWVyX3Rlc3QnKSxcbiAgICAgIHVzZXI6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9VU0VSJywgJ2N1c3RvbWVyX3VzZXInKSxcbiAgICAgIHBvcnQ6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9QT1JUJywgNTQzMiksXG4gICAgICBwYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BBU1NXT1JEJywgJyYmLy9hKSg9ZmdnPz88KmRmLmZmJSonKSxcbiAgICAgIGFkbWluVXNlcjogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1VTRVInLCAncG9zdGdyZXMnKSxcbiAgICAgIGFkbWluUGFzc3dvcmQ6IGdldEVudlZhcmlhYmxlKCdEQl9BRE1JTl9QQVNTV09SRCcsICdtYnwzM188QzxrbCZBKmRmLmM4JSonKSxcbiAgICAgIHJvbGU6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQl9ST0xFJywgJ2N1c3RvbWVyX3VzZXInKSxcbiAgICAgIGFwcGxpY2F0aW9uX25hbWU6ICdDdXN0b21lcicsXG4gICAgICBjaGFyc2V0OiAndXRmOCcsXG4gICAgfSxcbiAgICBwb29sOiB7XG4gICAgICBtaW46IDIsXG4gICAgICBtYXg6IDUwLFxuICAgIH0sXG4gICAgbWlncmF0aW9uczoge1xuICAgICAgZGlyZWN0b3J5OiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vbWlncmF0aW9ucycpLFxuICAgICAgdGFibGVOYW1lOiAnY3VzdG9tZXJfdGVzdF9rbmV4X21pZ3JhdGlvbnMnLFxuICAgIH0sXG4gICAgZGVidWc6IHRydWUsXG4gIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "pg_test_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,eAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'customer_test'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_test_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_db_connection.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_db_connection.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_db_connection.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_db_connection.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_db_connection.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _knex = _interopRequireDefault(require(\"knex\"));\n\nvar _pg_knexfile = _interopRequireDefault(require(\"./pg_knexfile.js\"));\n\nvar _knexTinyLogger = _interopRequireDefault(require(\"knex-tiny-logger\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'PG DBConnection'\n});\n\nlet pgDbConnection;\nmodule.exports = {\n  get pgDbConnection() {\n    if (!pgDbConnection) {\n      pgDbConnection = (0, _knexTinyLogger.default)((0, _knex.default)(_pg_knexfile.default));\n      logger.info({\n        database: _pg_knexfile.default.connection.database\n      }, 'Knex singleton created');\n    }\n\n    return pgDbConnection;\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2RiX2Nvbm5lY3Rpb24uanMiXSwibmFtZXMiOlsibG9nZ2VyIiwiYnVueWFuIiwiY3JlYXRlTG9nZ2VyIiwibmFtZSIsInBnRGJDb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbmZpZyIsImluZm8iLCJkYXRhYmFzZSIsImNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsY0FBSjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZixNQUFJRixjQUFKLEdBQXFCO0FBQ25CLFFBQUksQ0FBQ0EsY0FBTCxFQUFxQjtBQUNuQkEsTUFBQUEsY0FBYyxHQUFHLDZCQUFlLG1CQUFLRyxvQkFBTCxDQUFmLENBQWpCO0FBQ0FQLE1BQUFBLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZO0FBQUVDLFFBQUFBLFFBQVEsRUFBRUYscUJBQU9HLFVBQVAsQ0FBa0JEO0FBQTlCLE9BQVosRUFBc0Qsd0JBQXREO0FBQ0Q7O0FBQ0QsV0FBT0wsY0FBUDtBQUNEOztBQVBjLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2RhdGFiYXNlL2Nvbm5lY3Rpb25zIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtuZXggZnJvbSAna25leCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vcGdfa25leGZpbGUuanMnO1xuaW1wb3J0IGtuZXhUaW55TG9nZ2VyIGZyb20gJ2tuZXgtdGlueS1sb2dnZXInO1xuaW1wb3J0IGJ1bnlhbiBmcm9tICdidW55YW4nO1xuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdQRyBEQkNvbm5lY3Rpb24nfSApO1xuXG5sZXQgcGdEYkNvbm5lY3Rpb247XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXQgcGdEYkNvbm5lY3Rpb24oKSB7XG4gICAgaWYgKCFwZ0RiQ29ubmVjdGlvbikge1xuICAgICAgcGdEYkNvbm5lY3Rpb24gPSBrbmV4VGlueUxvZ2dlcihrbmV4KGNvbmZpZykpO1xuICAgICAgbG9nZ2VyLmluZm8oeyBkYXRhYmFzZTogY29uZmlnLmNvbm5lY3Rpb24uZGF0YWJhc2UgfSwgJ0tuZXggc2luZ2xldG9uIGNyZWF0ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBnRGJDb25uZWN0aW9uO1xuICB9LFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pg_db_connection.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "pgDbConnection",
        "module",
        "exports",
        "config",
        "info",
        "database",
        "connection"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,cAAJ;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACf,MAAIF,cAAJ,GAAqB;AACnB,QAAI,CAACA,cAAL,EAAqB;AACnBA,MAAAA,cAAc,GAAG,6BAAe,mBAAKG,oBAAL,CAAf,CAAjB;AACAP,MAAAA,MAAM,CAACQ,IAAP,CAAY;AAAEC,QAAAA,QAAQ,EAAEF,qBAAOG,UAAP,CAAkBD;AAA9B,OAAZ,EAAsD,wBAAtD;AACD;;AACD,WAAOL,cAAP;AACD;;AAPc,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "import knex from 'knex';\nimport config from './pg_knexfile.js';\nimport knexTinyLogger from 'knex-tiny-logger';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'PG DBConnection'} );\n\nlet pgDbConnection;\n\nmodule.exports = {\n  get pgDbConnection() {\n    if (!pgDbConnection) {\n      pgDbConnection = knexTinyLogger(knex(config));\n      logger.info({ database: config.connection.database }, 'Knex singleton created');\n    }\n    return pgDbConnection;\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1549380536766
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/database/connections/pg_knexfile.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
        "sourceFileName": "pg_knexfile.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst {\n  getEnvVariable\n} = require('../../helpers/environment');\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n    database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n    user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n    port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n    password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n    adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n    adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n    role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n    application_name: 'Customer',\n    charset: 'utf8'\n  },\n  pool: {\n    min: 2,\n    max: 50\n  },\n  migrations: {\n    directory: path.resolve(__dirname, '../migrations'),\n    tableName: 'customer_knex_migrations'\n  },\n  debug: true\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBnX2tuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiZ2V0RW52VmFyaWFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2xpZW50IiwiY29ubmVjdGlvbiIsImhvc3QiLCJkYXRhYmFzZSIsInVzZXIiLCJwb3J0IiwicGFzc3dvcmQiLCJhZG1pblVzZXIiLCJhZG1pblBhc3N3b3JkIiwicm9sZSIsImFwcGxpY2F0aW9uX25hbWUiLCJjaGFyc2V0IiwicG9vbCIsIm1pbiIsIm1heCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwidGFibGVOYW1lIiwiZGVidWciXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBcUJELE9BQU8sQ0FBQywyQkFBRCxDQUFsQzs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLE1BQU0sRUFBRSxZQURLO0FBRWJDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxJQUFJLEVBQUVMLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFdBQWxCLENBRFY7QUFFVk0sSUFBQUEsUUFBUSxFQUFFTixjQUFjLENBQUMsYUFBRCxFQUFnQixVQUFoQixDQUZkO0FBR1ZPLElBQUFBLElBQUksRUFBRVAsY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBSFY7QUFJVlEsSUFBQUEsSUFBSSxFQUFFUixjQUFjLENBQUMsa0JBQUQsRUFBcUIsSUFBckIsQ0FKVjtBQUtWUyxJQUFBQSxRQUFRLEVBQUVULGNBQWMsQ0FBQyxzQkFBRCxFQUF5Qix3QkFBekIsQ0FMZDtBQU1WVSxJQUFBQSxTQUFTLEVBQUVWLGNBQWMsQ0FBQyxlQUFELEVBQWtCLFVBQWxCLENBTmY7QUFPVlcsSUFBQUEsYUFBYSxFQUFFWCxjQUFjLENBQUMsbUJBQUQsRUFBc0IsdUJBQXRCLENBUG5CO0FBUVZZLElBQUFBLElBQUksRUFBRVosY0FBYyxDQUFDLGtCQUFELEVBQXFCLGVBQXJCLENBUlY7QUFTVmEsSUFBQUEsZ0JBQWdCLEVBQUUsVUFUUjtBQVVWQyxJQUFBQSxPQUFPLEVBQUU7QUFWQyxHQUZDO0FBY2JDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxHQUFHLEVBQUUsQ0FERDtBQUVKQyxJQUFBQSxHQUFHLEVBQUU7QUFGRCxHQWRPO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsU0FBUyxFQUFFckIsSUFBSSxDQUFDc0IsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGVBQXhCLENBREQ7QUFFVkMsSUFBQUEsU0FBUyxFQUFFO0FBRkQsR0FsQkM7QUFzQmJDLEVBQUFBLEtBQUssRUFBRTtBQXRCTSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9kYXRhYmFzZS9jb25uZWN0aW9ucyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IGdldEVudlZhcmlhYmxlIH0gPSByZXF1aXJlKCcuLi8uLi9oZWxwZXJzL2Vudmlyb25tZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNsaWVudDogJ3Bvc3RncmVzcWwnLFxuICAgIGNvbm5lY3Rpb246IHtcbiAgICAgIGhvc3Q6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9IT1NUJywgJ2xvY2FsaG9zdCcpLFxuICAgICAgZGF0YWJhc2U6IGdldEVudlZhcmlhYmxlKCdDVVNUT01FUl9EQicsICdwb3N0Z3JlcycpLFxuICAgICAgdXNlcjogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1VTRVInLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgcG9ydDogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1BPUlQnLCA1NDMyKSxcbiAgICAgIHBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnQ1VTVE9NRVJfREJfUEFTU1dPUkQnLCAnJiYvL2EpKD1mZ2c/PzwqZGYuZmYlKicpLFxuICAgICAgYWRtaW5Vc2VyOiBnZXRFbnZWYXJpYWJsZSgnREJfQURNSU5fVVNFUicsICdwb3N0Z3JlcycpLFxuICAgICAgYWRtaW5QYXNzd29yZDogZ2V0RW52VmFyaWFibGUoJ0RCX0FETUlOX1BBU1NXT1JEJywgJ21ifDMzXzxDPGtsJkEqZGYuYzglKicpLFxuICAgICAgcm9sZTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX0RCX1JPTEUnLCAnY3VzdG9tZXJfdXNlcicpLFxuICAgICAgYXBwbGljYXRpb25fbmFtZTogJ0N1c3RvbWVyJyxcbiAgICAgIGNoYXJzZXQ6ICd1dGY4JyxcbiAgICB9LFxuICAgIHBvb2w6IHtcbiAgICAgIG1pbjogMixcbiAgICAgIG1heDogNTAsXG4gICAgfSxcbiAgICBtaWdyYXRpb25zOiB7XG4gICAgICBkaXJlY3Rvcnk6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9taWdyYXRpb25zJyksXG4gICAgICB0YWJsZU5hbWU6ICdjdXN0b21lcl9rbmV4X21pZ3JhdGlvbnMnLFxuICAgIH0sXG4gICAgZGVidWc6IHRydWUsXG4gIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "pg_knexfile.js"
      ],
      "names": [
        "path",
        "require",
        "getEnvVariable",
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "port",
        "password",
        "adminUser",
        "adminPassword",
        "role",
        "application_name",
        "charset",
        "pool",
        "min",
        "max",
        "migrations",
        "directory",
        "resolve",
        "__dirname",
        "tableName",
        "debug"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAqBD,OAAO,CAAC,2BAAD,CAAlC;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,YADK;AAEbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAEL,cAAc,CAAC,eAAD,EAAkB,WAAlB,CADV;AAEVM,IAAAA,QAAQ,EAAEN,cAAc,CAAC,aAAD,EAAgB,UAAhB,CAFd;AAGVO,IAAAA,IAAI,EAAEP,cAAc,CAAC,kBAAD,EAAqB,eAArB,CAHV;AAIVQ,IAAAA,IAAI,EAAER,cAAc,CAAC,kBAAD,EAAqB,IAArB,CAJV;AAKVS,IAAAA,QAAQ,EAAET,cAAc,CAAC,sBAAD,EAAyB,wBAAzB,CALd;AAMVU,IAAAA,SAAS,EAAEV,cAAc,CAAC,eAAD,EAAkB,UAAlB,CANf;AAOVW,IAAAA,aAAa,EAAEX,cAAc,CAAC,mBAAD,EAAsB,uBAAtB,CAPnB;AAQVY,IAAAA,IAAI,EAAEZ,cAAc,CAAC,kBAAD,EAAqB,eAArB,CARV;AASVa,IAAAA,gBAAgB,EAAE,UATR;AAUVC,IAAAA,OAAO,EAAE;AAVC,GAFC;AAcbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,CADD;AAEJC,IAAAA,GAAG,EAAE;AAFD,GAdO;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAErB,IAAI,CAACsB,OAAL,CAAaC,SAAb,EAAwB,eAAxB,CADD;AAEVC,IAAAA,SAAS,EAAE;AAFD,GAlBC;AAsBbC,EAAAA,KAAK,EAAE;AAtBM,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/database/connections",
      "sourcesContent": [
        "const path = require('path');\nconst { getEnvVariable } = require('../../helpers/environment');\n\nmodule.exports = {\n    client: 'postgresql',\n    connection: {\n      host: getEnvVariable('CUSTOMER_HOST', 'localhost'),\n      database: getEnvVariable('CUSTOMER_DB', 'postgres'),\n      user: getEnvVariable('CUSTOMER_DB_USER', 'customer_user'),\n      port: getEnvVariable('CUSTOMER_DB_PORT', 5432),\n      password: getEnvVariable('CUSTOMER_DB_PASSWORD', '&&//a)(=fgg??<*df.ff%*'),\n      adminUser: getEnvVariable('DB_ADMIN_USER', 'postgres'),\n      adminPassword: getEnvVariable('DB_ADMIN_PASSWORD', 'mb|33_<C<kl&A*df.c8%*'),\n      role: getEnvVariable('CUSTOMER_DB_ROLE', 'customer_user'),\n      application_name: 'Customer',\n      charset: 'utf8',\n    },\n    pool: {\n      min: 2,\n      max: 50,\n    },\n    migrations: {\n      directory: path.resolve(__dirname, '../migrations'),\n      tableName: 'customer_knex_migrations',\n    },\n    debug: true,\n  };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/config.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst {\n  getEnvVariable\n} = require('./helpers/environment');\n\nmodule.exports = {\n  schema: getEnvVariable('CUSTOMER_SCHEMA', 'customer'),\n  authExternalLoginUrl: getEnvVariable('AUTH_EXTERNAL_LOGIN_URL', 'http://localhost:3000/api/external/login'),\n  authExternalAuthenticateUrl: getEnvVariable('AUTH_EXTERNAL_AUTHENTICATE_URL', 'http://localhost:3000/api/authenticate'),\n  authCreateUserUrl: getEnvVariable('AUTH_CREATE_USER_URL', 'http://localhost:3000/api/users'),\n  productUrl: getEnvVariable('PRODUCT_URL', 'http://localhost:3060/api/categories'),\n  initiatePaymentUrl: getEnvVariable('INITIATE_PAYMENT_PROVIDER_DOMAIN', 'http://localhost:4550/api/payment/initiate'),\n  paymentClientId: '33eaa3b7-019c-4080-8f55-4ccfa2b9a076',\n  crypto: {\n    sharedEncryptionKey: getEnvVariable('SHARED_ENCRYPTION_KEY', '4&//#@.c9Cb%*|44_<kl[<CI?u|5WW5->='),\n    paymentEncryptionKey: getEnvVariable('PAYMENT_ENCRYPTION_KEY', '**&~$]yGka%n^_^_b,&g7_)l7cskUu@_@-&@9'),\n    algorithm: 'AES-256-CTR',\n    algorithmKeySize: 32,\n    algorithmIvSize: 16,\n    algorithmEncode: 'base64',\n    algorithmCharset: 'utf8'\n  },\n  authExternalLoginCredentials: {\n    email: getEnvVariable('AUTH_EXTERNAL_LOGIN_USER', 'andres+external@gmail.com'),\n    password: getEnvVariable('AUTH_EXTERNAL_LOGIN_PASSWORD', 'secret')\n  },\n  maxAllowedProductQuantity: getEnvVariable('MAX_ALLOWED_PRODUCT_QUANTITY', 10)\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJnZXRFbnZWYXJpYWJsZSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2NoZW1hIiwiYXV0aEV4dGVybmFsTG9naW5VcmwiLCJhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwiLCJhdXRoQ3JlYXRlVXNlclVybCIsInByb2R1Y3RVcmwiLCJpbml0aWF0ZVBheW1lbnRVcmwiLCJwYXltZW50Q2xpZW50SWQiLCJjcnlwdG8iLCJzaGFyZWRFbmNyeXB0aW9uS2V5IiwicGF5bWVudEVuY3J5cHRpb25LZXkiLCJhbGdvcml0aG0iLCJhbGdvcml0aG1LZXlTaXplIiwiYWxnb3JpdGhtSXZTaXplIiwiYWxnb3JpdGhtRW5jb2RlIiwiYWxnb3JpdGhtQ2hhcnNldCIsImF1dGhFeHRlcm5hbExvZ2luQ3JlZGVudGlhbHMiLCJlbWFpbCIsInBhc3N3b3JkIiwibWF4QWxsb3dlZFByb2R1Y3RRdWFudGl0eSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBcUJDLE9BQU8sQ0FBQyx1QkFBRCxDQUFsQzs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZDLEVBQUFBLE1BQU0sRUFBRUosY0FBYyxDQUFDLGlCQUFELEVBQW9CLFVBQXBCLENBRFA7QUFFZkssRUFBQUEsb0JBQW9CLEVBQUVMLGNBQWMsQ0FBQyx5QkFBRCxFQUE0QiwwQ0FBNUIsQ0FGckI7QUFHZk0sRUFBQUEsMkJBQTJCLEVBQUVOLGNBQWMsQ0FBQyxnQ0FBRCxFQUFtQyx3Q0FBbkMsQ0FINUI7QUFJZk8sRUFBQUEsaUJBQWlCLEVBQUVQLGNBQWMsQ0FBQyxzQkFBRCxFQUF5QixpQ0FBekIsQ0FKbEI7QUFLZlEsRUFBQUEsVUFBVSxFQUFFUixjQUFjLENBQUMsYUFBRCxFQUFnQixzQ0FBaEIsQ0FMWDtBQU1mUyxFQUFBQSxrQkFBa0IsRUFBRVQsY0FBYyxDQUFDLGtDQUFELEVBQXFDLDRDQUFyQyxDQU5uQjtBQU9mVSxFQUFBQSxlQUFlLEVBQUUsc0NBUEY7QUFRZkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05DLElBQUFBLG1CQUFtQixFQUFFWixjQUFjLENBQUMsdUJBQUQsRUFBMEIsb0NBQTFCLENBRDdCO0FBRU5hLElBQUFBLG9CQUFvQixFQUFFYixjQUFjLENBQUMsd0JBQUQsRUFBMkIsdUNBQTNCLENBRjlCO0FBR05jLElBQUFBLFNBQVMsRUFBRSxhQUhMO0FBSU5DLElBQUFBLGdCQUFnQixFQUFFLEVBSlo7QUFLTkMsSUFBQUEsZUFBZSxFQUFFLEVBTFg7QUFNTkMsSUFBQUEsZUFBZSxFQUFFLFFBTlg7QUFPTkMsSUFBQUEsZ0JBQWdCLEVBQUU7QUFQWixHQVJPO0FBaUJmQyxFQUFBQSw0QkFBNEIsRUFBRTtBQUM1QkMsSUFBQUEsS0FBSyxFQUFFcEIsY0FBYyxDQUFDLDBCQUFELEVBQTZCLDJCQUE3QixDQURPO0FBRTVCcUIsSUFBQUEsUUFBUSxFQUFFckIsY0FBYyxDQUFDLDhCQUFELEVBQWlDLFFBQWpDO0FBRkksR0FqQmY7QUFxQmZzQixFQUFBQSx5QkFBeUIsRUFBRXRCLGNBQWMsQ0FBQyw4QkFBRCxFQUFpQyxFQUFqQztBQXJCMUIsQ0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGdldEVudlZhcmlhYmxlIH0gPSByZXF1aXJlKCcuL2hlbHBlcnMvZW52aXJvbm1lbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNjaGVtYTogZ2V0RW52VmFyaWFibGUoJ0NVU1RPTUVSX1NDSEVNQScsICdjdXN0b21lcicpLFxuICBhdXRoRXh0ZXJuYWxMb2dpblVybDogZ2V0RW52VmFyaWFibGUoJ0FVVEhfRVhURVJOQUxfTE9HSU5fVVJMJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZXh0ZXJuYWwvbG9naW4nKSxcbiAgYXV0aEV4dGVybmFsQXV0aGVudGljYXRlVXJsOiBnZXRFbnZWYXJpYWJsZSgnQVVUSF9FWFRFUk5BTF9BVVRIRU5USUNBVEVfVVJMJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYXV0aGVudGljYXRlJyksXG4gIGF1dGhDcmVhdGVVc2VyVXJsOiBnZXRFbnZWYXJpYWJsZSgnQVVUSF9DUkVBVEVfVVNFUl9VUkwnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VycycpLFxuICBwcm9kdWN0VXJsOiBnZXRFbnZWYXJpYWJsZSgnUFJPRFVDVF9VUkwnLCAnaHR0cDovL2xvY2FsaG9zdDozMDYwL2FwaS9jYXRlZ29yaWVzJyksXG4gIGluaXRpYXRlUGF5bWVudFVybDogZ2V0RW52VmFyaWFibGUoJ0lOSVRJQVRFX1BBWU1FTlRfUFJPVklERVJfRE9NQUlOJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDU1MC9hcGkvcGF5bWVudC9pbml0aWF0ZScpLFxuICBwYXltZW50Q2xpZW50SWQ6ICczM2VhYTNiNy0wMTljLTQwODAtOGY1NS00Y2NmYTJiOWEwNzYnLFxuICBjcnlwdG86IHtcbiAgICBzaGFyZWRFbmNyeXB0aW9uS2V5OiBnZXRFbnZWYXJpYWJsZSgnU0hBUkVEX0VOQ1JZUFRJT05fS0VZJywgJzQmLy8jQC5jOUNiJSp8NDRfPGtsWzxDST91fDVXVzUtPj0nKSxcbiAgICBwYXltZW50RW5jcnlwdGlvbktleTogZ2V0RW52VmFyaWFibGUoJ1BBWU1FTlRfRU5DUllQVElPTl9LRVknLCAnKiomfiRdeUdrYSVuXl9eX2IsJmc3XylsN2Nza1V1QF9ALSZAOScpLFxuICAgIGFsZ29yaXRobTogJ0FFUy0yNTYtQ1RSJyxcbiAgICBhbGdvcml0aG1LZXlTaXplOiAzMixcbiAgICBhbGdvcml0aG1JdlNpemU6IDE2LFxuICAgIGFsZ29yaXRobUVuY29kZTogJ2Jhc2U2NCcsXG4gICAgYWxnb3JpdGhtQ2hhcnNldDogJ3V0ZjgnLFxuICB9LFxuICBhdXRoRXh0ZXJuYWxMb2dpbkNyZWRlbnRpYWxzOiB7XG4gICAgZW1haWw6IGdldEVudlZhcmlhYmxlKCdBVVRIX0VYVEVSTkFMX0xPR0lOX1VTRVInLCAnYW5kcmVzK2V4dGVybmFsQGdtYWlsLmNvbScpLFxuICAgIHBhc3N3b3JkOiBnZXRFbnZWYXJpYWJsZSgnQVVUSF9FWFRFUk5BTF9MT0dJTl9QQVNTV09SRCcsICdzZWNyZXQnKSxcbiAgfSxcbiAgbWF4QWxsb3dlZFByb2R1Y3RRdWFudGl0eTogZ2V0RW52VmFyaWFibGUoJ01BWF9BTExPV0VEX1BST0RVQ1RfUVVBTlRJVFknLCAxMCksXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "getEnvVariable",
        "require",
        "module",
        "exports",
        "schema",
        "authExternalLoginUrl",
        "authExternalAuthenticateUrl",
        "authCreateUserUrl",
        "productUrl",
        "initiatePaymentUrl",
        "paymentClientId",
        "crypto",
        "sharedEncryptionKey",
        "paymentEncryptionKey",
        "algorithm",
        "algorithmKeySize",
        "algorithmIvSize",
        "algorithmEncode",
        "algorithmCharset",
        "authExternalLoginCredentials",
        "email",
        "password",
        "maxAllowedProductQuantity"
      ],
      "mappings": ";;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAqBC,OAAO,CAAC,uBAAD,CAAlC;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,MAAM,EAAEJ,cAAc,CAAC,iBAAD,EAAoB,UAApB,CADP;AAEfK,EAAAA,oBAAoB,EAAEL,cAAc,CAAC,yBAAD,EAA4B,0CAA5B,CAFrB;AAGfM,EAAAA,2BAA2B,EAAEN,cAAc,CAAC,gCAAD,EAAmC,wCAAnC,CAH5B;AAIfO,EAAAA,iBAAiB,EAAEP,cAAc,CAAC,sBAAD,EAAyB,iCAAzB,CAJlB;AAKfQ,EAAAA,UAAU,EAAER,cAAc,CAAC,aAAD,EAAgB,sCAAhB,CALX;AAMfS,EAAAA,kBAAkB,EAAET,cAAc,CAAC,kCAAD,EAAqC,4CAArC,CANnB;AAOfU,EAAAA,eAAe,EAAE,sCAPF;AAQfC,EAAAA,MAAM,EAAE;AACNC,IAAAA,mBAAmB,EAAEZ,cAAc,CAAC,uBAAD,EAA0B,oCAA1B,CAD7B;AAENa,IAAAA,oBAAoB,EAAEb,cAAc,CAAC,wBAAD,EAA2B,uCAA3B,CAF9B;AAGNc,IAAAA,SAAS,EAAE,aAHL;AAINC,IAAAA,gBAAgB,EAAE,EAJZ;AAKNC,IAAAA,eAAe,EAAE,EALX;AAMNC,IAAAA,eAAe,EAAE,QANX;AAONC,IAAAA,gBAAgB,EAAE;AAPZ,GARO;AAiBfC,EAAAA,4BAA4B,EAAE;AAC5BC,IAAAA,KAAK,EAAEpB,cAAc,CAAC,0BAAD,EAA6B,2BAA7B,CADO;AAE5BqB,IAAAA,QAAQ,EAAErB,cAAc,CAAC,8BAAD,EAAiC,QAAjC;AAFI,GAjBf;AAqBfsB,EAAAA,yBAAyB,EAAEtB,cAAc,CAAC,8BAAD,EAAiC,EAAjC;AArB1B,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourcesContent": [
        "const { getEnvVariable } = require('./helpers/environment');\n\nmodule.exports = {\n  schema: getEnvVariable('CUSTOMER_SCHEMA', 'customer'),\n  authExternalLoginUrl: getEnvVariable('AUTH_EXTERNAL_LOGIN_URL', 'http://localhost:3000/api/external/login'),\n  authExternalAuthenticateUrl: getEnvVariable('AUTH_EXTERNAL_AUTHENTICATE_URL', 'http://localhost:3000/api/authenticate'),\n  authCreateUserUrl: getEnvVariable('AUTH_CREATE_USER_URL', 'http://localhost:3000/api/users'),\n  productUrl: getEnvVariable('PRODUCT_URL', 'http://localhost:3060/api/categories'),\n  initiatePaymentUrl: getEnvVariable('INITIATE_PAYMENT_PROVIDER_DOMAIN', 'http://localhost:4550/api/payment/initiate'),\n  paymentClientId: '33eaa3b7-019c-4080-8f55-4ccfa2b9a076',\n  crypto: {\n    sharedEncryptionKey: getEnvVariable('SHARED_ENCRYPTION_KEY', '4&//#@.c9Cb%*|44_<kl[<CI?u|5WW5->='),\n    paymentEncryptionKey: getEnvVariable('PAYMENT_ENCRYPTION_KEY', '**&~$]yGka%n^_^_b,&g7_)l7cskUu@_@-&@9'),\n    algorithm: 'AES-256-CTR',\n    algorithmKeySize: 32,\n    algorithmIvSize: 16,\n    algorithmEncode: 'base64',\n    algorithmCharset: 'utf8',\n  },\n  authExternalLoginCredentials: {\n    email: getEnvVariable('AUTH_EXTERNAL_LOGIN_USER', 'andres+external@gmail.com'),\n    password: getEnvVariable('AUTH_EXTERNAL_LOGIN_PASSWORD', 'secret'),\n  },\n  maxAllowedProductQuantity: getEnvVariable('MAX_ALLOWED_PRODUCT_QUANTITY', 10),\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558448286978
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/validator.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/validator.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/validator.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/validator.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "validator.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validatePreconditions = void 0;\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'ValidatorHelper'\n});\n\nconst validatePreconditions = (preconditions = [], params, message = 'SERVICE_PRECONDITION_FAILED') => {\n  const missingPrecondition = preconditions.find(precondition => {\n    const param = params[precondition];\n    return param === undefined || param !== null && typeof param === 'Object' && !param.length;\n  });\n  if (!missingPrecondition) return;\n  logger.error({\n    precondition: missingPrecondition\n  }, message);\n  const error = new Error(message);\n  error.status = 412;\n  throw error;\n};\n\nexports.validatePreconditions = validatePreconditions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwidmFsaWRhdGVQcmVjb25kaXRpb25zIiwicHJlY29uZGl0aW9ucyIsInBhcmFtcyIsIm1lc3NhZ2UiLCJtaXNzaW5nUHJlY29uZGl0aW9uIiwiZmluZCIsInByZWNvbmRpdGlvbiIsInBhcmFtIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHQyxnQkFBT0MsWUFBUCxDQUFvQjtBQUFFQyxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFwQixDQUFmOztBQUVPLE1BQU1DLHFCQUFxQixHQUFHLENBQUNDLGFBQWEsR0FBRyxFQUFqQixFQUFxQkMsTUFBckIsRUFBNkJDLE9BQU8sR0FBRyw2QkFBdkMsS0FBeUU7QUFDNUcsUUFBTUMsbUJBQW1CLEdBQUdILGFBQWEsQ0FBQ0ksSUFBZCxDQUFtQkMsWUFBWSxJQUFJO0FBQzlELFVBQU1DLEtBQUssR0FBR0wsTUFBTSxDQUFDSSxZQUFELENBQXBCO0FBQ0EsV0FBT0MsS0FBSyxLQUFLQyxTQUFWLElBQXdCRCxLQUFLLEtBQUssSUFBVixJQUFrQixPQUFPQSxLQUFQLEtBQWtCLFFBQXBDLElBQWdELENBQUNBLEtBQUssQ0FBQ0UsTUFBdEY7QUFDQSxHQUgyQixDQUE1QjtBQUtBLE1BQUksQ0FBQ0wsbUJBQUwsRUFBMEI7QUFFMUJSLEVBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhO0FBQUVKLElBQUFBLFlBQVksRUFBRUY7QUFBaEIsR0FBYixFQUFvREQsT0FBcEQ7QUFDQSxRQUFNTyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFVUixPQUFWLENBQWQ7QUFDQU8sRUFBQUEsS0FBSyxDQUFDRSxNQUFOLEdBQWUsR0FBZjtBQUNBLFFBQU1GLEtBQU47QUFDRCxDQVpNIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ1ZhbGlkYXRvckhlbHBlcid9KTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlUHJlY29uZGl0aW9ucyA9IChwcmVjb25kaXRpb25zID0gW10sIHBhcmFtcywgbWVzc2FnZSA9ICdTRVJWSUNFX1BSRUNPTkRJVElPTl9GQUlMRUQnKSA9PiB7XG4gIGNvbnN0IG1pc3NpbmdQcmVjb25kaXRpb24gPSBwcmVjb25kaXRpb25zLmZpbmQocHJlY29uZGl0aW9uID0+IHsgXG4gIFx0Y29uc3QgcGFyYW0gPSBwYXJhbXNbcHJlY29uZGl0aW9uXTtcbiAgXHRyZXR1cm4gcGFyYW0gPT09IHVuZGVmaW5lZCB8fCAocGFyYW0gIT09IG51bGwgJiYgdHlwZW9mIHBhcmFtICA9PT0gJ09iamVjdCcgJiYgIXBhcmFtLmxlbmd0aClcbiAgfSk7XG5cbiAgaWYgKCFtaXNzaW5nUHJlY29uZGl0aW9uKSByZXR1cm47XG5cbiAgbG9nZ2VyLmVycm9yKHsgcHJlY29uZGl0aW9uOiBtaXNzaW5nUHJlY29uZGl0aW9uIH0sIG1lc3NhZ2UpO1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgZXJyb3Iuc3RhdHVzID0gNDEyO1xuICB0aHJvdyBlcnJvcjtcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "validator.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "validatePreconditions",
        "preconditions",
        "params",
        "message",
        "missingPrecondition",
        "find",
        "precondition",
        "param",
        "undefined",
        "length",
        "error",
        "Error",
        "status"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEO,MAAMC,qBAAqB,GAAG,CAACC,aAAa,GAAG,EAAjB,EAAqBC,MAArB,EAA6BC,OAAO,GAAG,6BAAvC,KAAyE;AAC5G,QAAMC,mBAAmB,GAAGH,aAAa,CAACI,IAAd,CAAmBC,YAAY,IAAI;AAC9D,UAAMC,KAAK,GAAGL,MAAM,CAACI,YAAD,CAApB;AACA,WAAOC,KAAK,KAAKC,SAAV,IAAwBD,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAkB,QAApC,IAAgD,CAACA,KAAK,CAACE,MAAtF;AACA,GAH2B,CAA5B;AAKA,MAAI,CAACL,mBAAL,EAA0B;AAE1BR,EAAAA,MAAM,CAACc,KAAP,CAAa;AAAEJ,IAAAA,YAAY,EAAEF;AAAhB,GAAb,EAAoDD,OAApD;AACA,QAAMO,KAAK,GAAG,IAAIC,KAAJ,CAAUR,OAAV,CAAd;AACAO,EAAAA,KAAK,CAACE,MAAN,GAAe,GAAf;AACA,QAAMF,KAAN;AACD,CAZM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "import bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'ValidatorHelper'});\n\nexport const validatePreconditions = (preconditions = [], params, message = 'SERVICE_PRECONDITION_FAILED') => {\n  const missingPrecondition = preconditions.find(precondition => { \n  \tconst param = params[precondition];\n  \treturn param === undefined || (param !== null && typeof param  === 'Object' && !param.length)\n  });\n\n  if (!missingPrecondition) return;\n\n  logger.error({ precondition: missingPrecondition }, message);\n  const error = new Error(message);\n  error.status = 412;\n  throw error;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549380536766
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/mapper.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/mapper.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/mapper.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/mapper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "mapper.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mapRepoEntity = exports.convertSnakeToCamelCase = exports.mapParams = exports.convertToSnakeCase = void 0;\n\nconst convertToSnakeCase = str => {\n  const upperChars = str.match(/([A-Z])/g);\n  if (!upperChars) return str;\n  let snakeCaseStr = upperChars.reduce((acc, upperChar) => {\n    acc = acc.replace(new RegExp(upperChar), `_${upperChar.toLowerCase()}`);\n    return acc;\n  }, str);\n\n  if (snakeCaseStr.slice(0, 1) === '_') {\n    snakeCaseStr = snakeCaseStr.slice(1);\n  }\n\n  return snakeCaseStr;\n};\n\nexports.convertToSnakeCase = convertToSnakeCase;\n\nconst mapParams = paramsObj => Object.keys(paramsObj).reduce((acc, key) => {\n  const snakeCaseKey = convertToSnakeCase(key);\n  acc[snakeCaseKey] = paramsObj[key];\n  return acc;\n}, {});\n\nexports.mapParams = mapParams;\n\nconst convertSnakeToCamelCase = str => str.replace(/(\\_\\w)/g, m => m[1].toUpperCase());\n\nexports.convertSnakeToCamelCase = convertSnakeToCamelCase;\n\nconst isObject = value => value !== null && value !== undefined && !(value instanceof Date) && !Array.isArray(value) && typeof value === 'object';\n\nconst mapRepoEntity = entity => Object.keys(entity).reduce((acc, key) => {\n  const camelCaseKey = convertSnakeToCamelCase(key);\n  const value = entity[key];\n\n  if (Array.isArray(value)) {\n    const mappedArray = value.map(item => isObject(item) ? mapRepoEntity(item) : item);\n    acc[camelCaseKey] = mappedArray;\n  }\n\n  if (isObject(value)) {\n    acc[camelCaseKey] = mapRepoEntity(value);\n  } else if (!isObject(value) && !Array.isArray(value)) {\n    acc[camelCaseKey] = value;\n  }\n\n  return acc;\n}, {});\n\nexports.mapRepoEntity = mapRepoEntity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcHBlci5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0VG9TbmFrZUNhc2UiLCJzdHIiLCJ1cHBlckNoYXJzIiwibWF0Y2giLCJzbmFrZUNhc2VTdHIiLCJyZWR1Y2UiLCJhY2MiLCJ1cHBlckNoYXIiLCJyZXBsYWNlIiwiUmVnRXhwIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsIm1hcFBhcmFtcyIsInBhcmFtc09iaiIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJzbmFrZUNhc2VLZXkiLCJjb252ZXJ0U25ha2VUb0NhbWVsQ2FzZSIsIm0iLCJ0b1VwcGVyQ2FzZSIsImlzT2JqZWN0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJEYXRlIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwUmVwb0VudGl0eSIsImVudGl0eSIsImNhbWVsQ2FzZUtleSIsIm1hcHBlZEFycmF5IiwibWFwIiwiaXRlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGtCQUFrQixHQUFHQyxHQUFHLElBQUk7QUFDdkMsUUFBTUMsVUFBVSxHQUFHRCxHQUFHLENBQUNFLEtBQUosQ0FBVSxVQUFWLENBQW5CO0FBQ0EsTUFBSSxDQUFDRCxVQUFMLEVBQWlCLE9BQU9ELEdBQVA7QUFFakIsTUFBSUcsWUFBWSxHQUFHRixVQUFVLENBQUNHLE1BQVgsQ0FBa0IsQ0FBQ0MsR0FBRCxFQUFNQyxTQUFOLEtBQW9CO0FBQ3ZERCxJQUFBQSxHQUFHLEdBQUdBLEdBQUcsQ0FBQ0UsT0FBSixDQUFZLElBQUlDLE1BQUosQ0FBV0YsU0FBWCxDQUFaLEVBQW9DLElBQUdBLFNBQVMsQ0FBQ0csV0FBVixFQUF3QixFQUEvRCxDQUFOO0FBQ0MsV0FBT0osR0FBUDtBQUNGLEdBSGtCLEVBR2hCTCxHQUhnQixDQUFuQjs7QUFLQSxNQUFJRyxZQUFZLENBQUNPLEtBQWIsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsTUFBNkIsR0FBakMsRUFBc0M7QUFDcENQLElBQUFBLFlBQVksR0FBR0EsWUFBWSxDQUFDTyxLQUFiLENBQW1CLENBQW5CLENBQWY7QUFDRDs7QUFDRCxTQUFPUCxZQUFQO0FBQ0QsQ0FiTTs7OztBQWVBLE1BQU1RLFNBQVMsR0FBR0MsU0FBUyxJQUNoQ0MsTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJSLE1BQXZCLENBQThCLENBQUNDLEdBQUQsRUFBTVUsR0FBTixLQUFjO0FBQzFDLFFBQU1DLFlBQVksR0FBR2pCLGtCQUFrQixDQUFDZ0IsR0FBRCxDQUF2QztBQUNEVixFQUFBQSxHQUFHLENBQUNXLFlBQUQsQ0FBSCxHQUFvQkosU0FBUyxDQUFDRyxHQUFELENBQTdCO0FBQ0EsU0FBT1YsR0FBUDtBQUNBLENBSkQsRUFJRyxFQUpILENBREs7Ozs7QUFPQSxNQUFNWSx1QkFBdUIsR0FBR2pCLEdBQUcsSUFBSUEsR0FBRyxDQUFDTyxPQUFKLENBQVksU0FBWixFQUF1QlcsQ0FBQyxJQUFJQSxDQUFDLENBQUMsQ0FBRCxDQUFELENBQUtDLFdBQUwsRUFBNUIsQ0FBdkM7Ozs7QUFFUCxNQUFNQyxRQUFRLEdBQUdDLEtBQUssSUFBSUEsS0FBSyxLQUFLLElBQVYsSUFBa0JBLEtBQUssS0FBS0MsU0FBNUIsSUFBeUMsRUFBRUQsS0FBSyxZQUFZRSxJQUFuQixDQUF6QyxJQUFxRSxDQUFDQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0osS0FBZCxDQUF0RSxJQUE4RixPQUFPQSxLQUFQLEtBQWlCLFFBQXpJOztBQUVPLE1BQU1LLGFBQWEsR0FBR0MsTUFBTSxJQUNqQ2QsTUFBTSxDQUFDQyxJQUFQLENBQVlhLE1BQVosRUFBb0J2QixNQUFwQixDQUEyQixDQUFDQyxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUN2QyxRQUFNYSxZQUFZLEdBQUdYLHVCQUF1QixDQUFDRixHQUFELENBQTVDO0FBQ0EsUUFBTU0sS0FBSyxHQUFHTSxNQUFNLENBQUNaLEdBQUQsQ0FBcEI7O0FBQ0EsTUFBSVMsS0FBSyxDQUFDQyxPQUFOLENBQWNKLEtBQWQsQ0FBSixFQUEwQjtBQUN4QixVQUFNUSxXQUFXLEdBQUdSLEtBQUssQ0FBQ1MsR0FBTixDQUFVQyxJQUFJLElBQUtYLFFBQVEsQ0FBQ1csSUFBRCxDQUFSLEdBQWlCTCxhQUFhLENBQUNLLElBQUQsQ0FBOUIsR0FBdUNBLElBQTFELENBQXBCO0FBQ0ExQixJQUFBQSxHQUFHLENBQUN1QixZQUFELENBQUgsR0FBb0JDLFdBQXBCO0FBQ0Q7O0FBQUMsTUFBSVQsUUFBUSxDQUFDQyxLQUFELENBQVosRUFBcUI7QUFDckJoQixJQUFBQSxHQUFHLENBQUN1QixZQUFELENBQUgsR0FBb0JGLGFBQWEsQ0FBQ0wsS0FBRCxDQUFqQztBQUNELEdBRkMsTUFFSyxJQUFHLENBQUNELFFBQVEsQ0FBQ0MsS0FBRCxDQUFULElBQW9CLENBQUNHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSixLQUFkLENBQXhCLEVBQThDO0FBQ25EaEIsSUFBQUEsR0FBRyxDQUFDdUIsWUFBRCxDQUFILEdBQW9CUCxLQUFwQjtBQUNEOztBQUNGLFNBQU9oQixHQUFQO0FBQ0EsQ0FaRCxFQVlHLEVBWkgsQ0FESyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9oZWxwZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnZlcnRUb1NuYWtlQ2FzZSA9IHN0ciA9PiB7XG4gIGNvbnN0IHVwcGVyQ2hhcnMgPSBzdHIubWF0Y2goLyhbQS1aXSkvZyk7XG4gIGlmICghdXBwZXJDaGFycykgcmV0dXJuIHN0cjtcbiAgICBcbiAgbGV0IHNuYWtlQ2FzZVN0ciA9IHVwcGVyQ2hhcnMucmVkdWNlKChhY2MsIHVwcGVyQ2hhcikgPT4ge1xuICBcdCBhY2MgPSBhY2MucmVwbGFjZShuZXcgUmVnRXhwKHVwcGVyQ2hhciksIGBfJHt1cHBlckNoYXIudG9Mb3dlckNhc2UoKX1gKTtcbiAgICAgcmV0dXJuIGFjYztcbiAgfSwgc3RyKTtcblxuICBpZiAoc25ha2VDYXNlU3RyLnNsaWNlKDAsIDEpID09PSAnXycpIHtcbiAgICBzbmFrZUNhc2VTdHIgPSBzbmFrZUNhc2VTdHIuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIHNuYWtlQ2FzZVN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXBQYXJhbXMgPSBwYXJhbXNPYmogPT5cbiAgT2JqZWN0LmtleXMocGFyYW1zT2JqKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgY29uc3Qgc25ha2VDYXNlS2V5ID0gY29udmVydFRvU25ha2VDYXNlKGtleSk7XG4gIFx0YWNjW3NuYWtlQ2FzZUtleV0gPSBwYXJhbXNPYmpba2V5XTtcbiAgXHRyZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0U25ha2VUb0NhbWVsQ2FzZSA9IHN0ciA9PiBzdHIucmVwbGFjZSgvKFxcX1xcdykvZywgbSA9PiBtWzFdLnRvVXBwZXJDYXNlKCkpO1xuXG5jb25zdCBpc09iamVjdCA9IHZhbHVlID0+IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xuXG5leHBvcnQgY29uc3QgbWFwUmVwb0VudGl0eSA9IGVudGl0eSA9PlxuICBPYmplY3Qua2V5cyhlbnRpdHkpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICBjb25zdCBjYW1lbENhc2VLZXkgPSBjb252ZXJ0U25ha2VUb0NhbWVsQ2FzZShrZXkpO1xuICAgIGNvbnN0IHZhbHVlID0gZW50aXR5W2tleV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBjb25zdCBtYXBwZWRBcnJheSA9IHZhbHVlLm1hcChpdGVtID0+IChpc09iamVjdChpdGVtKSA/IG1hcFJlcG9FbnRpdHkoaXRlbSkgOiBpdGVtICkpO1xuICAgICAgYWNjW2NhbWVsQ2FzZUtleV0gPSBtYXBwZWRBcnJheTtcbiAgICB9IGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIGFjY1tjYW1lbENhc2VLZXldID0gbWFwUmVwb0VudGl0eSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmKCFpc09iamVjdCh2YWx1ZSkgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBhY2NbY2FtZWxDYXNlS2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgXHRyZXR1cm4gYWNjO1xuICB9LCB7fSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "mapper.js"
      ],
      "names": [
        "convertToSnakeCase",
        "str",
        "upperChars",
        "match",
        "snakeCaseStr",
        "reduce",
        "acc",
        "upperChar",
        "replace",
        "RegExp",
        "toLowerCase",
        "slice",
        "mapParams",
        "paramsObj",
        "Object",
        "keys",
        "key",
        "snakeCaseKey",
        "convertSnakeToCamelCase",
        "m",
        "toUpperCase",
        "isObject",
        "value",
        "undefined",
        "Date",
        "Array",
        "isArray",
        "mapRepoEntity",
        "entity",
        "camelCaseKey",
        "mappedArray",
        "map",
        "item"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,kBAAkB,GAAGC,GAAG,IAAI;AACvC,QAAMC,UAAU,GAAGD,GAAG,CAACE,KAAJ,CAAU,UAAV,CAAnB;AACA,MAAI,CAACD,UAAL,EAAiB,OAAOD,GAAP;AAEjB,MAAIG,YAAY,GAAGF,UAAU,CAACG,MAAX,CAAkB,CAACC,GAAD,EAAMC,SAAN,KAAoB;AACvDD,IAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,IAAIC,MAAJ,CAAWF,SAAX,CAAZ,EAAoC,IAAGA,SAAS,CAACG,WAAV,EAAwB,EAA/D,CAAN;AACC,WAAOJ,GAAP;AACF,GAHkB,EAGhBL,GAHgB,CAAnB;;AAKA,MAAIG,YAAY,CAACO,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,MAA6B,GAAjC,EAAsC;AACpCP,IAAAA,YAAY,GAAGA,YAAY,CAACO,KAAb,CAAmB,CAAnB,CAAf;AACD;;AACD,SAAOP,YAAP;AACD,CAbM;;;;AAeA,MAAMQ,SAAS,GAAGC,SAAS,IAChCC,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBR,MAAvB,CAA8B,CAACC,GAAD,EAAMU,GAAN,KAAc;AAC1C,QAAMC,YAAY,GAAGjB,kBAAkB,CAACgB,GAAD,CAAvC;AACDV,EAAAA,GAAG,CAACW,YAAD,CAAH,GAAoBJ,SAAS,CAACG,GAAD,CAA7B;AACA,SAAOV,GAAP;AACA,CAJD,EAIG,EAJH,CADK;;;;AAOA,MAAMY,uBAAuB,GAAGjB,GAAG,IAAIA,GAAG,CAACO,OAAJ,CAAY,SAAZ,EAAuBW,CAAC,IAAIA,CAAC,CAAC,CAAD,CAAD,CAAKC,WAAL,EAA5B,CAAvC;;;;AAEP,MAAMC,QAAQ,GAAGC,KAAK,IAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAA5B,IAAyC,EAAED,KAAK,YAAYE,IAAnB,CAAzC,IAAqE,CAACC,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAtE,IAA8F,OAAOA,KAAP,KAAiB,QAAzI;;AAEO,MAAMK,aAAa,GAAGC,MAAM,IACjCd,MAAM,CAACC,IAAP,CAAYa,MAAZ,EAAoBvB,MAApB,CAA2B,CAACC,GAAD,EAAMU,GAAN,KAAc;AACvC,QAAMa,YAAY,GAAGX,uBAAuB,CAACF,GAAD,CAA5C;AACA,QAAMM,KAAK,GAAGM,MAAM,CAACZ,GAAD,CAApB;;AACA,MAAIS,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B;AACxB,UAAMQ,WAAW,GAAGR,KAAK,CAACS,GAAN,CAAUC,IAAI,IAAKX,QAAQ,CAACW,IAAD,CAAR,GAAiBL,aAAa,CAACK,IAAD,CAA9B,GAAuCA,IAA1D,CAApB;AACA1B,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBC,WAApB;AACD;;AAAC,MAAIT,QAAQ,CAACC,KAAD,CAAZ,EAAqB;AACrBhB,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBF,aAAa,CAACL,KAAD,CAAjC;AACD,GAFC,MAEK,IAAG,CAACD,QAAQ,CAACC,KAAD,CAAT,IAAoB,CAACG,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAxB,EAA8C;AACnDhB,IAAAA,GAAG,CAACuB,YAAD,CAAH,GAAoBP,KAApB;AACD;;AACF,SAAOhB,GAAP;AACA,CAZD,EAYG,EAZH,CADK",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "export const convertToSnakeCase = str => {\n  const upperChars = str.match(/([A-Z])/g);\n  if (!upperChars) return str;\n    \n  let snakeCaseStr = upperChars.reduce((acc, upperChar) => {\n  \t acc = acc.replace(new RegExp(upperChar), `_${upperChar.toLowerCase()}`);\n     return acc;\n  }, str);\n\n  if (snakeCaseStr.slice(0, 1) === '_') {\n    snakeCaseStr = snakeCaseStr.slice(1);\n  }\n  return snakeCaseStr;\n};\n\nexport const mapParams = paramsObj =>\n  Object.keys(paramsObj).reduce((acc, key) => {\n    const snakeCaseKey = convertToSnakeCase(key);\n  \tacc[snakeCaseKey] = paramsObj[key];\n  \treturn acc;\n  }, {});\n\nexport const convertSnakeToCamelCase = str => str.replace(/(\\_\\w)/g, m => m[1].toUpperCase());\n\nconst isObject = value => value !== null && value !== undefined && !(value instanceof Date) && !Array.isArray(value) && typeof value === 'object';\n\nexport const mapRepoEntity = entity =>\n  Object.keys(entity).reduce((acc, key) => {\n    const camelCaseKey = convertSnakeToCamelCase(key);\n    const value = entity[key];\n    if (Array.isArray(value)) {\n      const mappedArray = value.map(item => (isObject(item) ? mapRepoEntity(item) : item ));\n      acc[camelCaseKey] = mappedArray;\n    } if (isObject(value)) {\n      acc[camelCaseKey] = mapRepoEntity(value);\n    } else if(!isObject(value) && !Array.isArray(value)) {\n      acc[camelCaseKey] = value;\n    }\n  \treturn acc;\n  }, {});"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/services/external-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/external-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/services/external-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/external-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
        "sourceFileName": "external-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initiatePayment = exports.getProduct = exports.createUser = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _config = require(\"../config\");\n\nvar _superagent = _interopRequireDefault(require(\"superagent\"));\n\nvar _cryptoService = require(\"./crypto-service\");\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nconst getTemporalToken = async () => {\n  const {\n    email,\n    password\n  } = _config.authExternalLoginCredentials;\n  const encryptedCredentials = (0, _cryptoService.encrypt)({\n    email,\n    password\n  });\n  const {\n    body\n  } = await _superagent.default.post(_config.authExternalLoginUrl).type('form').accept('application/json').send({\n    body: encryptedCredentials\n  });\n  return body.token;\n};\n\nconst createUser = async customer => {\n  const token = await getTemporalToken();\n\n  try {\n    const result = await _superagent.default.post(_config.authCreateUserUrl).type('form').set('Authorization', `Bearer ${token}`).accept('application/json').send((0, _objectSpread2.default)({}, customer, {\n      isCustomer: true\n    }));\n    console.log('resultHola', result);\n    console.log('bodyHola', result.body);\n    return result.body.id;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.createUser = createUser;\n\nconst getProduct = async (req, productId) => {\n  const result = await _superagent.default.get(`${_config.productUrl}/${productId}`).set('Authorization', `Bearer ${req.token}`).set('Accept', 'application/json').set('Content-Type', 'application/json');\n  return result.body;\n};\n\nexports.getProduct = getProduct;\n\nconst initiatePayment = async ({\n  invoice,\n  customerId,\n  amount\n}) => {\n  try {\n    const content = (0, _cryptoService.encrypt)({\n      invoice: (0, _v.default)(),\n      customerId,\n      amount\n    }, _config.crypto.paymentEncryptionKey);\n    const result = await _superagent.default.post(_config.initiatePaymentUrl).type('form').accept('application/json').send({\n      content,\n      clientId: _config.paymentClientId\n    });\n    const {\n      formUrl\n    } = (0, _cryptoService.decrypt)(JSON.parse(result.body).content, _config.crypto.paymentEncryptionKey);\n    return formUrl;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.initiatePayment = initiatePayment;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVybmFsLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2V0VGVtcG9yYWxUb2tlbiIsImVtYWlsIiwicGFzc3dvcmQiLCJhdXRoRXh0ZXJuYWxMb2dpbkNyZWRlbnRpYWxzIiwiZW5jcnlwdGVkQ3JlZGVudGlhbHMiLCJib2R5IiwicmVxdWVzdCIsInBvc3QiLCJhdXRoRXh0ZXJuYWxMb2dpblVybCIsInR5cGUiLCJhY2NlcHQiLCJzZW5kIiwidG9rZW4iLCJjcmVhdGVVc2VyIiwiY3VzdG9tZXIiLCJyZXN1bHQiLCJhdXRoQ3JlYXRlVXNlclVybCIsInNldCIsImlzQ3VzdG9tZXIiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJlcnJvciIsImdldFByb2R1Y3QiLCJyZXEiLCJwcm9kdWN0SWQiLCJnZXQiLCJwcm9kdWN0VXJsIiwiaW5pdGlhdGVQYXltZW50IiwiaW52b2ljZSIsImN1c3RvbWVySWQiLCJhbW91bnQiLCJjb250ZW50IiwiY3J5cHRvIiwicGF5bWVudEVuY3J5cHRpb25LZXkiLCJpbml0aWF0ZVBheW1lbnRVcmwiLCJjbGllbnRJZCIsInBheW1lbnRDbGllbnRJZCIsImZvcm1VcmwiLCJKU09OIiwicGFyc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcsWUFBVztBQUNsQyxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFzQkMsb0NBQTVCO0FBQ0EsUUFBTUMsb0JBQW9CLEdBQUcsNEJBQVE7QUFBRUgsSUFBQUEsS0FBRjtBQUFTQyxJQUFBQTtBQUFULEdBQVIsQ0FBN0I7QUFDQSxRQUFNO0FBQUVHLElBQUFBO0FBQUYsTUFBVyxNQUFNQyxvQkFDcEJDLElBRG9CLENBQ2ZDLDRCQURlLEVBRXBCQyxJQUZvQixDQUVmLE1BRmUsRUFHcEJDLE1BSG9CLENBR2Isa0JBSGEsRUFJcEJDLElBSm9CLENBSWY7QUFBRU4sSUFBQUEsSUFBSSxFQUFFRDtBQUFSLEdBSmUsQ0FBdkI7QUFNQSxTQUFPQyxJQUFJLENBQUNPLEtBQVo7QUFDRCxDQVZEOztBQVlPLE1BQU1DLFVBQVUsR0FBRyxNQUFNQyxRQUFOLElBQWtCO0FBRTFDLFFBQU1GLEtBQUssR0FBRyxNQUFNWixnQkFBZ0IsRUFBcEM7O0FBRUEsTUFBSTtBQUNGLFVBQU1lLE1BQU0sR0FBRyxNQUFNVCxvQkFDbEJDLElBRGtCLENBQ2JTLHlCQURhLEVBRWxCUCxJQUZrQixDQUViLE1BRmEsRUFHbEJRLEdBSGtCLENBR2QsZUFIYyxFQUdJLFVBQVNMLEtBQU0sRUFIbkIsRUFJbEJGLE1BSmtCLENBSVgsa0JBSlcsRUFLbEJDLElBTGtCLGlDQUtSRyxRQUxRO0FBS0VJLE1BQUFBLFVBQVUsRUFBRTtBQUxkLE9BQXJCO0FBTUVDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVosRUFBMEJMLE1BQTFCO0FBQ0FJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVosRUFBd0JMLE1BQU0sQ0FBQ1YsSUFBL0I7QUFDQSxXQUFPVSxNQUFNLENBQUNWLElBQVAsQ0FBWWdCLEVBQW5CO0FBQ0YsR0FWRixDQVVHLE9BQU1DLEtBQU4sRUFBYTtBQUNiLFVBQU1BLEtBQU47QUFDRDtBQUNILENBakJNOzs7O0FBbUJBLE1BQU1DLFVBQVUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLFNBQVosS0FBMEI7QUFDbEQsUUFBTVYsTUFBTSxHQUFHLE1BQU1ULG9CQUNsQm9CLEdBRGtCLENBQ2IsR0FBRUMsa0JBQVcsSUFBR0YsU0FBVSxFQURiLEVBRWxCUixHQUZrQixDQUVkLGVBRmMsRUFFSSxVQUFTTyxHQUFHLENBQUNaLEtBQU0sRUFGdkIsRUFHbEJLLEdBSGtCLENBR2QsUUFIYyxFQUdKLGtCQUhJLEVBSWxCQSxHQUprQixDQUlkLGNBSmMsRUFJRSxrQkFKRixDQUFyQjtBQUtBLFNBQU9GLE1BQU0sQ0FBQ1YsSUFBZDtBQUNELENBUE07Ozs7QUFTQSxNQUFNdUIsZUFBZSxHQUFHLE9BQU87QUFBR0MsRUFBQUEsT0FBSDtBQUFZQyxFQUFBQSxVQUFaO0FBQXdCQyxFQUFBQTtBQUF4QixDQUFQLEtBQTRDO0FBQ3pFLE1BQUk7QUFDRixVQUFNQyxPQUFPLEdBQUcsNEJBQVE7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQW9CQyxNQUFBQSxVQUFwQjtBQUFnQ0MsTUFBQUE7QUFBaEMsS0FBUixFQUFrREUsZUFBT0Msb0JBQXpELENBQWhCO0FBQ0EsVUFBTW5CLE1BQU0sR0FBRyxNQUFNVCxvQkFDbEJDLElBRGtCLENBQ2I0QiwwQkFEYSxFQUVsQjFCLElBRmtCLENBRWIsTUFGYSxFQUdsQkMsTUFIa0IsQ0FHWCxrQkFIVyxFQUlsQkMsSUFKa0IsQ0FJYjtBQUFFcUIsTUFBQUEsT0FBRjtBQUFXSSxNQUFBQSxRQUFRLEVBQUVDO0FBQXJCLEtBSmEsQ0FBckI7QUFNRSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBYyw0QkFBUUMsSUFBSSxDQUFDQyxLQUFMLENBQVd6QixNQUFNLENBQUNWLElBQWxCLEVBQXdCMkIsT0FBaEMsRUFBeUNDLGVBQU9DLG9CQUFoRCxDQUFwQjtBQUNBLFdBQU9JLE9BQVA7QUFDRixHQVZGLENBVUcsT0FBTWhCLEtBQU4sRUFBYTtBQUNiLFVBQU1BLEtBQU47QUFDRDtBQUNILENBZE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRoRXh0ZXJuYWxMb2dpblVybCwgYXV0aENyZWF0ZVVzZXJVcmwsIGF1dGhFeHRlcm5hbExvZ2luQ3JlZGVudGlhbHMsIHByb2R1Y3RVcmwsIGluaXRpYXRlUGF5bWVudFVybCwgY3J5cHRvLCBwYXltZW50Q2xpZW50SWQgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCc7XG5pbXBvcnQgeyBlbmNyeXB0LCBkZWNyeXB0IH0gZnJvbSAnLi9jcnlwdG8tc2VydmljZSc7XG5pbXBvcnQgbmV3SWQgZnJvbSAndXVpZC92NCc7XG5cbmNvbnN0IGdldFRlbXBvcmFsVG9rZW4gPSBhc3luYygpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGF1dGhFeHRlcm5hbExvZ2luQ3JlZGVudGlhbHM7XG4gIGNvbnN0IGVuY3J5cHRlZENyZWRlbnRpYWxzID0gZW5jcnlwdCh7IGVtYWlsLCBwYXNzd29yZCB9KTtcbiAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCByZXF1ZXN0XG4gICAgLnBvc3QoYXV0aEV4dGVybmFsTG9naW5VcmwpXG4gICAgLnR5cGUoJ2Zvcm0nKVxuICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgIC5zZW5kKHsgYm9keTogZW5jcnlwdGVkQ3JlZGVudGlhbHMgfSk7XG5cbiAgcmV0dXJuIGJvZHkudG9rZW47XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jIGN1c3RvbWVyID0+IHtcblxuICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFRlbXBvcmFsVG9rZW4oKTtcblxuICB0cnkgeyAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdFxuICAgICAgLnBvc3QoYXV0aENyZWF0ZVVzZXJVcmwpXG4gICAgICAudHlwZSgnZm9ybScpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgIC5zZW5kKHsgLi4uY3VzdG9tZXIsIGlzQ3VzdG9tZXI6IHRydWUgfSk7XG4gICAgICBjb25zb2xlLmxvZygncmVzdWx0SG9sYScsIHJlc3VsdCk7XG4gICAgICBjb25zb2xlLmxvZygnYm9keUhvbGEnLCByZXN1bHQuYm9keSk7XG4gICAgICByZXR1cm4gcmVzdWx0LmJvZHkuaWQ7XG4gICB9IGNhdGNoKGVycm9yKSB7XG4gICAgIHRocm93IGVycm9yO1xuICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxLCBwcm9kdWN0SWQpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdFxuICAgIC5nZXQoYCR7cHJvZHVjdFVybH0vJHtwcm9kdWN0SWR9YClcbiAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3JlcS50b2tlbn1gKVxuICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXR1cm4gcmVzdWx0LmJvZHk7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVQYXltZW50ID0gYXN5bmMgKHsgIGludm9pY2UsIGN1c3RvbWVySWQsIGFtb3VudCB9KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudCA9IGVuY3J5cHQoeyBpbnZvaWNlOiBuZXdJZCgpLCBjdXN0b21lcklkLCBhbW91bnQgfSwgY3J5cHRvLnBheW1lbnRFbmNyeXB0aW9uS2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0XG4gICAgICAucG9zdChpbml0aWF0ZVBheW1lbnRVcmwpXG4gICAgICAudHlwZSgnZm9ybScpXG4gICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgIC5zZW5kKHsgY29udGVudCwgY2xpZW50SWQ6IHBheW1lbnRDbGllbnRJZCB9KTtcbiAgICBcbiAgICAgIGNvbnN0IHsgZm9ybVVybCB9ID0gZGVjcnlwdChKU09OLnBhcnNlKHJlc3VsdC5ib2R5KS5jb250ZW50LCBjcnlwdG8ucGF5bWVudEVuY3J5cHRpb25LZXkpO1xuICAgICAgcmV0dXJuIGZvcm1Vcmw7XG4gICB9IGNhdGNoKGVycm9yKSB7XG4gICAgIHRocm93IGVycm9yO1xuICAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "external-service.js"
      ],
      "names": [
        "getTemporalToken",
        "email",
        "password",
        "authExternalLoginCredentials",
        "encryptedCredentials",
        "body",
        "request",
        "post",
        "authExternalLoginUrl",
        "type",
        "accept",
        "send",
        "token",
        "createUser",
        "customer",
        "result",
        "authCreateUserUrl",
        "set",
        "isCustomer",
        "console",
        "log",
        "id",
        "error",
        "getProduct",
        "req",
        "productId",
        "get",
        "productUrl",
        "initiatePayment",
        "invoice",
        "customerId",
        "amount",
        "content",
        "crypto",
        "paymentEncryptionKey",
        "initiatePaymentUrl",
        "clientId",
        "paymentClientId",
        "formUrl",
        "JSON",
        "parse"
      ],
      "mappings": ";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,gBAAgB,GAAG,YAAW;AAClC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBC,oCAA5B;AACA,QAAMC,oBAAoB,GAAG,4BAAQ;AAAEH,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAR,CAA7B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAW,MAAMC,oBACpBC,IADoB,CACfC,4BADe,EAEpBC,IAFoB,CAEf,MAFe,EAGpBC,MAHoB,CAGb,kBAHa,EAIpBC,IAJoB,CAIf;AAAEN,IAAAA,IAAI,EAAED;AAAR,GAJe,CAAvB;AAMA,SAAOC,IAAI,CAACO,KAAZ;AACD,CAVD;;AAYO,MAAMC,UAAU,GAAG,MAAMC,QAAN,IAAkB;AAE1C,QAAMF,KAAK,GAAG,MAAMZ,gBAAgB,EAApC;;AAEA,MAAI;AACF,UAAMe,MAAM,GAAG,MAAMT,oBAClBC,IADkB,CACbS,yBADa,EAElBP,IAFkB,CAEb,MAFa,EAGlBQ,GAHkB,CAGd,eAHc,EAGI,UAASL,KAAM,EAHnB,EAIlBF,MAJkB,CAIX,kBAJW,EAKlBC,IALkB,iCAKRG,QALQ;AAKEI,MAAAA,UAAU,EAAE;AALd,OAArB;AAMEC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BL,MAA1B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBL,MAAM,CAACV,IAA/B;AACA,WAAOU,MAAM,CAACV,IAAP,CAAYgB,EAAnB;AACF,GAVF,CAUG,OAAMC,KAAN,EAAa;AACb,UAAMA,KAAN;AACD;AACH,CAjBM;;;;AAmBA,MAAMC,UAAU,GAAG,OAAOC,GAAP,EAAYC,SAAZ,KAA0B;AAClD,QAAMV,MAAM,GAAG,MAAMT,oBAClBoB,GADkB,CACb,GAAEC,kBAAW,IAAGF,SAAU,EADb,EAElBR,GAFkB,CAEd,eAFc,EAEI,UAASO,GAAG,CAACZ,KAAM,EAFvB,EAGlBK,GAHkB,CAGd,QAHc,EAGJ,kBAHI,EAIlBA,GAJkB,CAId,cAJc,EAIE,kBAJF,CAArB;AAKA,SAAOF,MAAM,CAACV,IAAd;AACD,CAPM;;;;AASA,MAAMuB,eAAe,GAAG,OAAO;AAAGC,EAAAA,OAAH;AAAYC,EAAAA,UAAZ;AAAwBC,EAAAA;AAAxB,CAAP,KAA4C;AACzE,MAAI;AACF,UAAMC,OAAO,GAAG,4BAAQ;AAAEH,MAAAA,OAAO,EAAE,iBAAX;AAAoBC,MAAAA,UAApB;AAAgCC,MAAAA;AAAhC,KAAR,EAAkDE,eAAOC,oBAAzD,CAAhB;AACA,UAAMnB,MAAM,GAAG,MAAMT,oBAClBC,IADkB,CACb4B,0BADa,EAElB1B,IAFkB,CAEb,MAFa,EAGlBC,MAHkB,CAGX,kBAHW,EAIlBC,IAJkB,CAIb;AAAEqB,MAAAA,OAAF;AAAWI,MAAAA,QAAQ,EAAEC;AAArB,KAJa,CAArB;AAME,UAAM;AAAEC,MAAAA;AAAF,QAAc,4BAAQC,IAAI,CAACC,KAAL,CAAWzB,MAAM,CAACV,IAAlB,EAAwB2B,OAAhC,EAAyCC,eAAOC,oBAAhD,CAApB;AACA,WAAOI,OAAP;AACF,GAVF,CAUG,OAAMhB,KAAN,EAAa;AACb,UAAMA,KAAN;AACD;AACH,CAdM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "sourcesContent": [
        "import { authExternalLoginUrl, authCreateUserUrl, authExternalLoginCredentials, productUrl, initiatePaymentUrl, crypto, paymentClientId } from '../config';\nimport request from 'superagent';\nimport { encrypt, decrypt } from './crypto-service';\nimport newId from 'uuid/v4';\n\nconst getTemporalToken = async() => {\n  const { email, password } = authExternalLoginCredentials;\n  const encryptedCredentials = encrypt({ email, password });\n  const { body } = await request\n    .post(authExternalLoginUrl)\n    .type('form')\n    .accept('application/json')\n    .send({ body: encryptedCredentials });\n\n  return body.token;\n};\n\nexport const createUser = async customer => {\n\n  const token = await getTemporalToken();\n\n  try {  \n    const result = await request\n      .post(authCreateUserUrl)\n      .type('form')\n      .set('Authorization', `Bearer ${token}`)\n      .accept('application/json')\n      .send({ ...customer, isCustomer: true });\n      console.log('resultHola', result);\n      console.log('bodyHola', result.body);\n      return result.body.id;\n   } catch(error) {\n     throw error;\n   }\n};\n\nexport const getProduct = async (req, productId) => {\n  const result = await request\n    .get(`${productUrl}/${productId}`)\n    .set('Authorization', `Bearer ${req.token}`)\n    .set('Accept', 'application/json')\n    .set('Content-Type', 'application/json');\n  return result.body;\n};\n\nexport const initiatePayment = async ({  invoice, customerId, amount }) => {\n  try {\n    const content = encrypt({ invoice: newId(), customerId, amount }, crypto.paymentEncryptionKey);\n    const result = await request\n      .post(initiatePaymentUrl)\n      .type('form')\n      .accept('application/json')\n      .send({ content, clientId: paymentClientId });\n    \n      const { formUrl } = decrypt(JSON.parse(result.body).content, crypto.paymentEncryptionKey);\n      return formUrl;\n   } catch(error) {\n     throw error;\n   }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557945261091
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/services/crypto-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/crypto-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/services/crypto-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/crypto-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
        "sourceFileName": "crypto-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decrypt = exports.encrypt = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _config = require(\"../config\");\n\nconst encrypt = (data, customEncryptionKey, isText = false) => {\n  const {\n    algorithmIvSize,\n    algorithm,\n    sharedEncryptionKey,\n    algorithmEncode,\n    algorithmCharset,\n    algorithmKeySize\n  } = _config.crypto;\n\n  const initializationVector = _crypto.default.randomBytes(algorithmIvSize).toString(algorithmEncode).slice(0, algorithmIvSize);\n\n  const cipher = _crypto.default.createCipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n\n  let encryptedJSON = cipher.update(isText ? data : JSON.stringify(data), algorithmCharset, algorithmEncode);\n  encryptedJSON += cipher.final(algorithmEncode);\n  return `${initializationVector}:${encryptedJSON}`;\n};\n\nexports.encrypt = encrypt;\n\nconst decrypt = (encryptedJSON, customEncryptionKey = null, isText = false) => {\n  const {\n    algorithm,\n    sharedEncryptionKey,\n    algorithmEncode,\n    algorithmCharset,\n    algorithmKeySize\n  } = _config.crypto;\n  const encryptedParts = encryptedJSON.split(':');\n  const initializationVector = encryptedParts[0];\n  const encryptedText = encryptedParts[1];\n  console.log('customEncryptionKey', customEncryptionKey);\n\n  const decipher = _crypto.default.createDecipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n\n  let decryptedText = decipher.update(encryptedText, algorithmEncode, algorithmCharset);\n  decryptedText += decipher.final(algorithmCharset);\n  return isText ? decryptedText : JSON.parse(decryptedText);\n};\n\nexports.decrypt = decrypt;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyeXB0by1zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImVuY3J5cHQiLCJkYXRhIiwiY3VzdG9tRW5jcnlwdGlvbktleSIsImlzVGV4dCIsImFsZ29yaXRobUl2U2l6ZSIsImFsZ29yaXRobSIsInNoYXJlZEVuY3J5cHRpb25LZXkiLCJhbGdvcml0aG1FbmNvZGUiLCJhbGdvcml0aG1DaGFyc2V0IiwiYWxnb3JpdGhtS2V5U2l6ZSIsImNyeXB0b0NvbmZpZyIsImluaXRpYWxpemF0aW9uVmVjdG9yIiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsInNsaWNlIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0ZWRKU09OIiwidXBkYXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbmFsIiwiZGVjcnlwdCIsImVuY3J5cHRlZFBhcnRzIiwic3BsaXQiLCJlbmNyeXB0ZWRUZXh0IiwiY29uc29sZSIsImxvZyIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsImRlY3J5cHRlZFRleHQiLCJwYXJzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRU8sTUFBTUEsT0FBTyxHQUFHLENBQUNDLElBQUQsRUFBT0MsbUJBQVAsRUFBNEJDLE1BQU0sR0FBRyxLQUFyQyxLQUErQztBQUNwRSxRQUFNO0FBQUVDLElBQUFBLGVBQUY7QUFBbUJDLElBQUFBLFNBQW5CO0FBQThCQyxJQUFBQSxtQkFBOUI7QUFBbURDLElBQUFBLGVBQW5EO0FBQW9FQyxJQUFBQSxnQkFBcEU7QUFBc0ZDLElBQUFBO0FBQXRGLE1BQTJHQyxjQUFqSDs7QUFFQSxRQUFNQyxvQkFBb0IsR0FBR0MsZ0JBQzFCQyxXQUQwQixDQUNkVCxlQURjLEVBRTFCVSxRQUYwQixDQUVqQlAsZUFGaUIsRUFHMUJRLEtBSDBCLENBR3BCLENBSG9CLEVBR2pCWCxlQUhpQixDQUE3Qjs7QUFLQSxRQUFNWSxNQUFNLEdBQUdKLGdCQUFPSyxjQUFQLENBQXNCWixTQUF0QixFQUFpQyxDQUFDSCxtQkFBbUIsSUFBSUksbUJBQXhCLEVBQTZDUyxLQUE3QyxDQUFtRCxDQUFuRCxFQUFzRE4sZ0JBQXRELENBQWpDLEVBQTBHRSxvQkFBMUcsQ0FBZjs7QUFDQSxNQUFJTyxhQUFhLEdBQUdGLE1BQU0sQ0FBQ0csTUFBUCxDQUFlaEIsTUFBTSxHQUFHRixJQUFILEdBQVVtQixJQUFJLENBQUNDLFNBQUwsQ0FBZXBCLElBQWYsQ0FBL0IsRUFBc0RPLGdCQUF0RCxFQUF3RUQsZUFBeEUsQ0FBcEI7QUFDQVcsRUFBQUEsYUFBYSxJQUFJRixNQUFNLENBQUNNLEtBQVAsQ0FBYWYsZUFBYixDQUFqQjtBQUVBLFNBQVEsR0FBRUksb0JBQXFCLElBQUdPLGFBQWMsRUFBaEQ7QUFDRCxDQWJNOzs7O0FBaUJBLE1BQU1LLE9BQU8sR0FBRyxDQUFDTCxhQUFELEVBQWdCaEIsbUJBQW1CLEdBQUcsSUFBdEMsRUFBNENDLE1BQU0sR0FBRyxLQUFyRCxLQUFnRTtBQUNyRixRQUFNO0FBQUVFLElBQUFBLFNBQUY7QUFBYUMsSUFBQUEsbUJBQWI7QUFBa0NDLElBQUFBLGVBQWxDO0FBQW1EQyxJQUFBQSxnQkFBbkQ7QUFBcUVDLElBQUFBO0FBQXJFLE1BQTBGQyxjQUFoRztBQUVBLFFBQU1jLGNBQWMsR0FBR04sYUFBYSxDQUFDTyxLQUFkLENBQW9CLEdBQXBCLENBQXZCO0FBQ0EsUUFBTWQsb0JBQW9CLEdBQUdhLGNBQWMsQ0FBQyxDQUFELENBQTNDO0FBQ0EsUUFBTUUsYUFBYSxHQUFHRixjQUFjLENBQUMsQ0FBRCxDQUFwQztBQUNBRyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixFQUFtQzFCLG1CQUFuQzs7QUFDQSxRQUFNMkIsUUFBUSxHQUFHakIsZ0JBQU9rQixnQkFBUCxDQUF3QnpCLFNBQXhCLEVBQW1DLENBQUNILG1CQUFtQixJQUFJSSxtQkFBeEIsRUFBNkNTLEtBQTdDLENBQW1ELENBQW5ELEVBQXNETixnQkFBdEQsQ0FBbkMsRUFBNEdFLG9CQUE1RyxDQUFqQjs7QUFDQSxNQUFJb0IsYUFBYSxHQUFHRixRQUFRLENBQUNWLE1BQVQsQ0FBZ0JPLGFBQWhCLEVBQStCbkIsZUFBL0IsRUFBZ0RDLGdCQUFoRCxDQUFwQjtBQUNBdUIsRUFBQUEsYUFBYSxJQUFJRixRQUFRLENBQUNQLEtBQVQsQ0FBZWQsZ0JBQWYsQ0FBakI7QUFDQSxTQUFPTCxNQUFNLEdBQUc0QixhQUFILEdBQW1CWCxJQUFJLENBQUNZLEtBQUwsQ0FBV0QsYUFBWCxDQUFoQztBQUNELENBWE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgeyBjcnlwdG8gYXMgY3J5cHRvQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGNvbnN0IGVuY3J5cHQgPSAoZGF0YSwgY3VzdG9tRW5jcnlwdGlvbktleSwgaXNUZXh0ID0gZmFsc2UpID0+IHsgXG4gIGNvbnN0IHsgYWxnb3JpdGhtSXZTaXplLCBhbGdvcml0aG0sIHNoYXJlZEVuY3J5cHRpb25LZXksIGFsZ29yaXRobUVuY29kZSwgYWxnb3JpdGhtQ2hhcnNldCwgYWxnb3JpdGhtS2V5U2l6ZSB9ID0gY3J5cHRvQ29uZmlnO1xuICBcbiAgY29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBjcnlwdG9cbiAgICAucmFuZG9tQnl0ZXMoYWxnb3JpdGhtSXZTaXplKVxuICAgIC50b1N0cmluZyhhbGdvcml0aG1FbmNvZGUpXG4gICAgLnNsaWNlKDAsIGFsZ29yaXRobUl2U2l6ZSk7XG5cbiAgY29uc3QgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZUNpcGhlcml2KGFsZ29yaXRobSwgKGN1c3RvbUVuY3J5cHRpb25LZXkgfHwgc2hhcmVkRW5jcnlwdGlvbktleSkuc2xpY2UoMCwgYWxnb3JpdGhtS2V5U2l6ZSksIGluaXRpYWxpemF0aW9uVmVjdG9yKTtcbiAgbGV0IGVuY3J5cHRlZEpTT04gPSBjaXBoZXIudXBkYXRlKChpc1RleHQgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpLCBhbGdvcml0aG1DaGFyc2V0LCBhbGdvcml0aG1FbmNvZGUpO1xuICBlbmNyeXB0ZWRKU09OICs9IGNpcGhlci5maW5hbChhbGdvcml0aG1FbmNvZGUpO1xuXG4gIHJldHVybiBgJHtpbml0aWFsaXphdGlvblZlY3Rvcn06JHtlbmNyeXB0ZWRKU09OfWA7XG59O1xuXG5cblxuZXhwb3J0IGNvbnN0IGRlY3J5cHQgPSAoZW5jcnlwdGVkSlNPTiwgY3VzdG9tRW5jcnlwdGlvbktleSA9IG51bGwsIGlzVGV4dCA9IGZhbHNlICkgPT4ge1xuICBjb25zdCB7IGFsZ29yaXRobSwgc2hhcmVkRW5jcnlwdGlvbktleSwgYWxnb3JpdGhtRW5jb2RlLCBhbGdvcml0aG1DaGFyc2V0LCBhbGdvcml0aG1LZXlTaXplIH0gPSBjcnlwdG9Db25maWc7XG4gIFxuICBjb25zdCBlbmNyeXB0ZWRQYXJ0cyA9IGVuY3J5cHRlZEpTT04uc3BsaXQoJzonKTtcbiAgY29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBlbmNyeXB0ZWRQYXJ0c1swXTtcbiAgY29uc3QgZW5jcnlwdGVkVGV4dCA9IGVuY3J5cHRlZFBhcnRzWzFdO1xuICBjb25zb2xlLmxvZygnY3VzdG9tRW5jcnlwdGlvbktleScsIGN1c3RvbUVuY3J5cHRpb25LZXkpO1xuICBjb25zdCBkZWNpcGhlciA9IGNyeXB0by5jcmVhdGVEZWNpcGhlcml2KGFsZ29yaXRobSwgKGN1c3RvbUVuY3J5cHRpb25LZXkgfHwgc2hhcmVkRW5jcnlwdGlvbktleSkuc2xpY2UoMCwgYWxnb3JpdGhtS2V5U2l6ZSksIGluaXRpYWxpemF0aW9uVmVjdG9yKTtcbiAgbGV0IGRlY3J5cHRlZFRleHQgPSBkZWNpcGhlci51cGRhdGUoZW5jcnlwdGVkVGV4dCwgYWxnb3JpdGhtRW5jb2RlLCBhbGdvcml0aG1DaGFyc2V0KTtcbiAgZGVjcnlwdGVkVGV4dCArPSBkZWNpcGhlci5maW5hbChhbGdvcml0aG1DaGFyc2V0KTtcbiAgcmV0dXJuIGlzVGV4dCA/IGRlY3J5cHRlZFRleHQgOiBKU09OLnBhcnNlKGRlY3J5cHRlZFRleHQpO1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "crypto-service.js"
      ],
      "names": [
        "encrypt",
        "data",
        "customEncryptionKey",
        "isText",
        "algorithmIvSize",
        "algorithm",
        "sharedEncryptionKey",
        "algorithmEncode",
        "algorithmCharset",
        "algorithmKeySize",
        "cryptoConfig",
        "initializationVector",
        "crypto",
        "randomBytes",
        "toString",
        "slice",
        "cipher",
        "createCipheriv",
        "encryptedJSON",
        "update",
        "JSON",
        "stringify",
        "final",
        "decrypt",
        "encryptedParts",
        "split",
        "encryptedText",
        "console",
        "log",
        "decipher",
        "createDecipheriv",
        "decryptedText",
        "parse"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,OAAO,GAAG,CAACC,IAAD,EAAOC,mBAAP,EAA4BC,MAAM,GAAG,KAArC,KAA+C;AACpE,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,SAAnB;AAA8BC,IAAAA,mBAA9B;AAAmDC,IAAAA,eAAnD;AAAoEC,IAAAA,gBAApE;AAAsFC,IAAAA;AAAtF,MAA2GC,cAAjH;;AAEA,QAAMC,oBAAoB,GAAGC,gBAC1BC,WAD0B,CACdT,eADc,EAE1BU,QAF0B,CAEjBP,eAFiB,EAG1BQ,KAH0B,CAGpB,CAHoB,EAGjBX,eAHiB,CAA7B;;AAKA,QAAMY,MAAM,GAAGJ,gBAAOK,cAAP,CAAsBZ,SAAtB,EAAiC,CAACH,mBAAmB,IAAII,mBAAxB,EAA6CS,KAA7C,CAAmD,CAAnD,EAAsDN,gBAAtD,CAAjC,EAA0GE,oBAA1G,CAAf;;AACA,MAAIO,aAAa,GAAGF,MAAM,CAACG,MAAP,CAAehB,MAAM,GAAGF,IAAH,GAAUmB,IAAI,CAACC,SAAL,CAAepB,IAAf,CAA/B,EAAsDO,gBAAtD,EAAwED,eAAxE,CAApB;AACAW,EAAAA,aAAa,IAAIF,MAAM,CAACM,KAAP,CAAaf,eAAb,CAAjB;AAEA,SAAQ,GAAEI,oBAAqB,IAAGO,aAAc,EAAhD;AACD,CAbM;;;;AAiBA,MAAMK,OAAO,GAAG,CAACL,aAAD,EAAgBhB,mBAAmB,GAAG,IAAtC,EAA4CC,MAAM,GAAG,KAArD,KAAgE;AACrF,QAAM;AAAEE,IAAAA,SAAF;AAAaC,IAAAA,mBAAb;AAAkCC,IAAAA,eAAlC;AAAmDC,IAAAA,gBAAnD;AAAqEC,IAAAA;AAArE,MAA0FC,cAAhG;AAEA,QAAMc,cAAc,GAAGN,aAAa,CAACO,KAAd,CAAoB,GAApB,CAAvB;AACA,QAAMd,oBAAoB,GAAGa,cAAc,CAAC,CAAD,CAA3C;AACA,QAAME,aAAa,GAAGF,cAAc,CAAC,CAAD,CAApC;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC1B,mBAAnC;;AACA,QAAM2B,QAAQ,GAAGjB,gBAAOkB,gBAAP,CAAwBzB,SAAxB,EAAmC,CAACH,mBAAmB,IAAII,mBAAxB,EAA6CS,KAA7C,CAAmD,CAAnD,EAAsDN,gBAAtD,CAAnC,EAA4GE,oBAA5G,CAAjB;;AACA,MAAIoB,aAAa,GAAGF,QAAQ,CAACV,MAAT,CAAgBO,aAAhB,EAA+BnB,eAA/B,EAAgDC,gBAAhD,CAApB;AACAuB,EAAAA,aAAa,IAAIF,QAAQ,CAACP,KAAT,CAAed,gBAAf,CAAjB;AACA,SAAOL,MAAM,GAAG4B,aAAH,GAAmBX,IAAI,CAACY,KAAL,CAAWD,aAAX,CAAhC;AACD,CAXM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "sourcesContent": [
        "import crypto from 'crypto';\nimport { crypto as cryptoConfig } from '../config';\n\nexport const encrypt = (data, customEncryptionKey, isText = false) => { \n  const { algorithmIvSize, algorithm, sharedEncryptionKey, algorithmEncode, algorithmCharset, algorithmKeySize } = cryptoConfig;\n  \n  const initializationVector = crypto\n    .randomBytes(algorithmIvSize)\n    .toString(algorithmEncode)\n    .slice(0, algorithmIvSize);\n\n  const cipher = crypto.createCipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n  let encryptedJSON = cipher.update((isText ? data : JSON.stringify(data)), algorithmCharset, algorithmEncode);\n  encryptedJSON += cipher.final(algorithmEncode);\n\n  return `${initializationVector}:${encryptedJSON}`;\n};\n\n\n\nexport const decrypt = (encryptedJSON, customEncryptionKey = null, isText = false ) => {\n  const { algorithm, sharedEncryptionKey, algorithmEncode, algorithmCharset, algorithmKeySize } = cryptoConfig;\n  \n  const encryptedParts = encryptedJSON.split(':');\n  const initializationVector = encryptedParts[0];\n  const encryptedText = encryptedParts[1];\n  console.log('customEncryptionKey', customEncryptionKey);\n  const decipher = crypto.createDecipheriv(algorithm, (customEncryptionKey || sharedEncryptionKey).slice(0, algorithmKeySize), initializationVector);\n  let decryptedText = decipher.update(encryptedText, algorithmEncode, algorithmCharset);\n  decryptedText += decipher.final(algorithmCharset);\n  return isText ? decryptedText : JSON.parse(decryptedText);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1557843600374
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/decorators\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/decorators/authorization-handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/decorators",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/decorators/authorization-handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/decorators/authorization-handler.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/decorators/authorization-handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/decorators",
        "sourceFileName": "authorization-handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequiredRight = exports.RequiredRole = exports.authenticate = void 0;\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _superagent = _interopRequireDefault(require(\"superagent\"));\n\nvar _config = require(\"../config\");\n\nvar _request = require(\"../helpers/request\");\n\nconst logger = _bunyan.default.createLogger({\n  name: 'Authorization Handler'\n});\n\nconst authenticate = async (req, res, next) => {\n  const tokenBody = await _superagent.default.get(_config.authExternalAuthenticateUrl).set('Authorization', `Bearer ${(0, _request.getTokenFromRequest)(req)}`).set('Content-Type', 'application/json').catch(error => {\n    logger.error(error, 'Authenticate error');\n  });\n\n  if (!tokenBody) {\n    next();\n  }\n\n  req.tokenBody = JSON.parse(tokenBody.text);\n  next();\n};\n\nexports.authenticate = authenticate;\n\nconst RequiredRole = roles => (target, name, descriptor) => {\n  var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const {\n      role = {},\n      user = {}\n    } = args[0].tokenBody;\n\n    if (roles.includes(role.name)) {\n      return oldValue.apply(void 0, args);\n    }\n\n    const message = `Unauthorized Role for ${name}`;\n    logger.error({\n      userId: user.id,\n      role: role.name\n    }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexports.RequiredRole = RequiredRole;\n\nconst RequiredRight = rights => (target, name, descriptor) => {\n  var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const {\n      role = {},\n      user = {}\n    } = JSON.parse(args[0].tokenBody);\n\n    if (role.rights.some(r => rights.includes(r))) {\n      return oldValue.apply(void 0, args);\n    }\n\n    const message = `Unauthorized rights for ${name}`;\n    logger.error({\n      userId: user.id,\n      role: role.name\n    }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexports.RequiredRight = RequiredRight;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24taGFuZGxlci5qcyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJidW55YW4iLCJjcmVhdGVMb2dnZXIiLCJuYW1lIiwiYXV0aGVudGljYXRlIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuQm9keSIsInJlcXVlc3QiLCJnZXQiLCJhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwiLCJzZXQiLCJjYXRjaCIsImVycm9yIiwiSlNPTiIsInBhcnNlIiwidGV4dCIsIlJlcXVpcmVkUm9sZSIsInJvbGVzIiwidGFyZ2V0IiwiZGVzY3JpcHRvciIsIm9sZFZhbHVlIiwidmFsdWUiLCJhcmdzIiwicm9sZSIsInVzZXIiLCJpbmNsdWRlcyIsImFwcGx5IiwibWVzc2FnZSIsInVzZXJJZCIsImlkIiwiRXJyb3IiLCJzdGF0dXMiLCJSZXF1aXJlZFJpZ2h0IiwicmlnaHRzIiwic29tZSIsInIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFTyxNQUFNQyxZQUFZLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUNwRCxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsb0JBQ3JCQyxHQURxQixDQUNqQkMsbUNBRGlCLEVBRXJCQyxHQUZxQixDQUVqQixlQUZpQixFQUVDLFVBQVMsa0NBQW9CUCxHQUFwQixDQUF5QixFQUZuQyxFQUdyQk8sR0FIcUIsQ0FHakIsY0FIaUIsRUFHRCxrQkFIQyxFQUlyQkMsS0FKcUIsQ0FJZkMsS0FBSyxJQUFJO0FBQ2RkLElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhQSxLQUFiLEVBQW9CLG9CQUFwQjtBQUNELEdBTnFCLENBQXhCOztBQVFBLE1BQUksQ0FBQ04sU0FBTCxFQUFnQjtBQUNkRCxJQUFBQSxJQUFJO0FBQ0w7O0FBQ0RGLEVBQUFBLEdBQUcsQ0FBQ0csU0FBSixHQUFnQk8sSUFBSSxDQUFDQyxLQUFMLENBQVdSLFNBQVMsQ0FBQ1MsSUFBckIsQ0FBaEI7QUFDQVYsRUFBQUEsSUFBSTtBQUNMLENBZE07Ozs7QUFnQkEsTUFBTVcsWUFBWSxHQUFHQyxLQUFLLElBQUksQ0FBQ0MsTUFBRCxFQUFTakIsSUFBVCxFQUFla0IsVUFBZixLQUE4QjtBQUVsRSxNQUFJQyxRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsS0FBMUI7O0FBRUNGLEVBQUFBLFVBQVUsQ0FBQ0UsS0FBWCxHQUFtQixDQUFDLEdBQUdDLElBQUosS0FBYTtBQUM5QixVQUFNO0FBQUVDLE1BQUFBLElBQUksR0FBRyxFQUFUO0FBQWFDLE1BQUFBLElBQUksR0FBRztBQUFwQixRQUEyQkYsSUFBSSxDQUFDLENBQUQsQ0FBSixDQUFRaEIsU0FBekM7O0FBRUEsUUFBSVcsS0FBSyxDQUFDUSxRQUFOLENBQWVGLElBQUksQ0FBQ3RCLElBQXBCLENBQUosRUFBK0I7QUFDN0IsYUFBT21CLFFBQVEsQ0FBQ00sS0FBVCxTQUFxQkosSUFBckIsQ0FBUDtBQUNEOztBQUVELFVBQU1LLE9BQU8sR0FBSSx5QkFBd0IxQixJQUFLLEVBQTlDO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhO0FBQUVnQixNQUFBQSxNQUFNLEVBQUVKLElBQUksQ0FBQ0ssRUFBZjtBQUFtQk4sTUFBQUEsSUFBSSxFQUFFQSxJQUFJLENBQUN0QjtBQUE5QixLQUFiLEVBQW1EMEIsT0FBbkQ7QUFDQSxVQUFNZixLQUFLLEdBQUcsSUFBSWtCLEtBQUosQ0FBVSxtQkFBVixDQUFkO0FBQ0FsQixJQUFBQSxLQUFLLENBQUNtQixNQUFOLEdBQWUsR0FBZjtBQUNBLFVBQU1uQixLQUFOO0FBQ0QsR0FaRDs7QUFjQSxTQUFPTyxVQUFQO0FBQ0QsQ0FuQk07Ozs7QUFxQkEsTUFBTWEsYUFBYSxHQUFHQyxNQUFNLElBQUksQ0FBQ2YsTUFBRCxFQUFTakIsSUFBVCxFQUFla0IsVUFBZixLQUE4QjtBQUNwRSxNQUFJQyxRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsS0FBMUI7O0FBRUNGLEVBQUFBLFVBQVUsQ0FBQ0UsS0FBWCxHQUFtQixDQUFDLEdBQUdDLElBQUosS0FBYTtBQUM5QixVQUFNO0FBQUVDLE1BQUFBLElBQUksR0FBRyxFQUFUO0FBQWFDLE1BQUFBLElBQUksR0FBRztBQUFwQixRQUEyQlgsSUFBSSxDQUFDQyxLQUFMLENBQVdRLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUWhCLFNBQW5CLENBQWpDOztBQUVBLFFBQUlpQixJQUFJLENBQUNVLE1BQUwsQ0FBWUMsSUFBWixDQUFpQkMsQ0FBQyxJQUFJRixNQUFNLENBQUNSLFFBQVAsQ0FBZ0JVLENBQWhCLENBQXRCLENBQUosRUFBK0M7QUFDL0MsYUFBT2YsUUFBUSxDQUFDTSxLQUFULFNBQXFCSixJQUFyQixDQUFQO0FBQ0M7O0FBRUQsVUFBTUssT0FBTyxHQUFJLDJCQUEwQjFCLElBQUssRUFBaEQ7QUFDQUgsSUFBQUEsTUFBTSxDQUFDYyxLQUFQLENBQWE7QUFBRWdCLE1BQUFBLE1BQU0sRUFBRUosSUFBSSxDQUFDSyxFQUFmO0FBQW1CTixNQUFBQSxJQUFJLEVBQUVBLElBQUksQ0FBQ3RCO0FBQTlCLEtBQWIsRUFBbUQwQixPQUFuRDtBQUNBLFVBQU1mLEtBQUssR0FBRyxJQUFJa0IsS0FBSixDQUFVLG1CQUFWLENBQWQ7QUFDQWxCLElBQUFBLEtBQUssQ0FBQ21CLE1BQU4sR0FBZSxHQUFmO0FBQ0EsVUFBTW5CLEtBQU47QUFDRCxHQVpEOztBQWNBLFNBQU9PLFVBQVA7QUFDRCxDQWxCTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9kZWNvcmF0b3JzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJ1bnlhbiBmcm9tICdidW55YW4nO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCc7XG5pbXBvcnQgeyBhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgZ2V0VG9rZW5Gcm9tUmVxdWVzdCB9IGZyb20gJy4uL2hlbHBlcnMvcmVxdWVzdCc7XG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ0F1dGhvcml6YXRpb24gSGFuZGxlcid9KTtcblxuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0ZSA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbkJvZHkgPSBhd2FpdCByZXF1ZXN0XG4gICAgLmdldChhdXRoRXh0ZXJuYWxBdXRoZW50aWNhdGVVcmwpXG4gICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtnZXRUb2tlbkZyb21SZXF1ZXN0KHJlcSl9YClcbiAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxvZ2dlci5lcnJvcihlcnJvciwgJ0F1dGhlbnRpY2F0ZSBlcnJvcicpO1xuICAgIH0pO1xuXG4gIGlmICghdG9rZW5Cb2R5KSB7XG4gICAgbmV4dCgpO1xuICB9XG4gIHJlcS50b2tlbkJvZHkgPSBKU09OLnBhcnNlKHRva2VuQm9keS50ZXh0KTtcbiAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IFJlcXVpcmVkUm9sZSA9IHJvbGVzID0+ICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpID0+IHtcblxuIHZhciBvbGRWYWx1ZSA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgZGVzY3JpcHRvci52YWx1ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgeyByb2xlID0ge30sIHVzZXIgPSB7fSB9ID0gYXJnc1swXS50b2tlbkJvZHk7XG4gICAgXG4gICAgaWYgKHJvbGVzLmluY2x1ZGVzKHJvbGUubmFtZSkpIHtcbiAgICAgIHJldHVybiBvbGRWYWx1ZS5hcHBseSh0aGlzLCBhcmdzKTsgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBgVW5hdXRob3JpemVkIFJvbGUgZm9yICR7bmFtZX1gO1xuICAgIGxvZ2dlci5lcnJvcih7IHVzZXJJZDogdXNlci5pZCwgcm9sZTogcm9sZS5uYW1lIH0sIG1lc3NhZ2UpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdOT1RfRU5PVUdIX1JJR0hUUycpO1xuICAgIGVycm9yLnN0YXR1cyA9IDQwMztcbiAgICB0aHJvdyBlcnJvcjtcbiAgfTtcblxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbmV4cG9ydCBjb25zdCBSZXF1aXJlZFJpZ2h0ID0gcmlnaHRzID0+ICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpID0+IHtcbiB2YXIgb2xkVmFsdWUgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gIGRlc2NyaXB0b3IudmFsdWUgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHsgcm9sZSA9IHt9LCB1c2VyID0ge30gfSA9IEpTT04ucGFyc2UoYXJnc1swXS50b2tlbkJvZHkpO1xuXG4gICAgaWYgKHJvbGUucmlnaHRzLnNvbWUociA9PiByaWdodHMuaW5jbHVkZXMocikpKSB7XG4gICAgcmV0dXJuIG9sZFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpOyAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGBVbmF1dGhvcml6ZWQgcmlnaHRzIGZvciAke25hbWV9YDtcbiAgICBsb2dnZXIuZXJyb3IoeyB1c2VySWQ6IHVzZXIuaWQsIHJvbGU6IHJvbGUubmFtZSB9LCBtZXNzYWdlKTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignTk9UX0VOT1VHSF9SSUdIVFMnKTtcbiAgICBlcnJvci5zdGF0dXMgPSA0MDM7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH07XG5cbiAgcmV0dXJuIGRlc2NyaXB0b3I7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authorization-handler.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "authenticate",
        "req",
        "res",
        "next",
        "tokenBody",
        "request",
        "get",
        "authExternalAuthenticateUrl",
        "set",
        "catch",
        "error",
        "JSON",
        "parse",
        "text",
        "RequiredRole",
        "roles",
        "target",
        "descriptor",
        "oldValue",
        "value",
        "args",
        "role",
        "user",
        "includes",
        "apply",
        "message",
        "userId",
        "id",
        "Error",
        "status",
        "RequiredRight",
        "rights",
        "some",
        "r"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/decorators",
      "sourcesContent": [
        "import bunyan from 'bunyan';\nimport request from 'superagent';\nimport { authExternalAuthenticateUrl } from '../config';\nimport { getTokenFromRequest } from '../helpers/request';\nconst logger = bunyan.createLogger({ name: 'Authorization Handler'});\n\nexport const authenticate = async (req, res, next) => {\n  const tokenBody = await request\n    .get(authExternalAuthenticateUrl)\n    .set('Authorization', `Bearer ${getTokenFromRequest(req)}`)\n    .set('Content-Type', 'application/json')\n    .catch(error => {\n      logger.error(error, 'Authenticate error');\n    });\n\n  if (!tokenBody) {\n    next();\n  }\n  req.tokenBody = JSON.parse(tokenBody.text);\n  next();\n};\n\nexport const RequiredRole = roles => (target, name, descriptor) => {\n\n var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const { role = {}, user = {} } = args[0].tokenBody;\n    \n    if (roles.includes(role.name)) {\n      return oldValue.apply(this, args);     \n    }\n\n    const message = `Unauthorized Role for ${name}`;\n    logger.error({ userId: user.id, role: role.name }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};\n\nexport const RequiredRight = rights => (target, name, descriptor) => {\n var oldValue = descriptor.value;\n\n  descriptor.value = (...args) => {\n    const { role = {}, user = {} } = JSON.parse(args[0].tokenBody);\n\n    if (role.rights.some(r => rights.includes(r))) {\n    return oldValue.apply(this, args);     \n    }\n\n    const message = `Unauthorized rights for ${name}`;\n    logger.error({ userId: user.id, role: role.name }, message);\n    const error = new Error('NOT_ENOUGH_RIGHTS');\n    error.status = 403;\n    throw error;\n  };\n\n  return descriptor;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1556204238992
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/request.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/request.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/request.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/request.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "request.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTokenFromRequest = void 0;\n\nconst getTokenFromRequest = req => {\n  if (req.headers.authorization && req.headers.authorization.split(' ')[0] === 'Bearer') {\n    return req.headers.authorization.split(' ')[1];\n  }\n\n  if (req.query && req.query.token) {\n    return req.query.token;\n  }\n\n  return null;\n};\n\nexports.getTokenFromRequest = getTokenFromRequest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW5Gcm9tUmVxdWVzdCIsInJlcSIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3BsaXQiLCJxdWVyeSIsInRva2VuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUdDLEdBQUcsSUFBSTtBQUN4QyxNQUFJQSxHQUFHLENBQUNDLE9BQUosQ0FBWUMsYUFBWixJQUE2QkYsR0FBRyxDQUFDQyxPQUFKLENBQVlDLGFBQVosQ0FBMEJDLEtBQTFCLENBQWdDLEdBQWhDLEVBQXFDLENBQXJDLE1BQTRDLFFBQTdFLEVBQXVGO0FBQ3JGLFdBQU9ILEdBQUcsQ0FBQ0MsT0FBSixDQUFZQyxhQUFaLENBQTBCQyxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFQO0FBQ0Q7O0FBQ0QsTUFBSUgsR0FBRyxDQUFDSSxLQUFKLElBQWFKLEdBQUcsQ0FBQ0ksS0FBSixDQUFVQyxLQUEzQixFQUFrQztBQUNoQyxXQUFPTCxHQUFHLENBQUNJLEtBQUosQ0FBVUMsS0FBakI7QUFDRDs7QUFDRCxTQUFPLElBQVA7QUFDRCxDQVJNIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0VG9rZW5Gcm9tUmVxdWVzdCA9IHJlcSA9PiB7XG4gIGlmIChyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uICYmIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoJyAnKVswXSA9PT0gJ0JlYXJlcicpIHtcbiAgICByZXR1cm4gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzFdO1xuICB9XG4gIGlmIChyZXEucXVlcnkgJiYgcmVxLnF1ZXJ5LnRva2VuKSB7XG4gICAgcmV0dXJuIHJlcS5xdWVyeS50b2tlbjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "request.js"
      ],
      "names": [
        "getTokenFromRequest",
        "req",
        "headers",
        "authorization",
        "split",
        "query",
        "token"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,mBAAmB,GAAGC,GAAG,IAAI;AACxC,MAAIA,GAAG,CAACC,OAAJ,CAAYC,aAAZ,IAA6BF,GAAG,CAACC,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,MAA4C,QAA7E,EAAuF;AACrF,WAAOH,GAAG,CAACC,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAP;AACD;;AACD,MAAIH,GAAG,CAACI,KAAJ,IAAaJ,GAAG,CAACI,KAAJ,CAAUC,KAA3B,EAAkC;AAChC,WAAOL,GAAG,CAACI,KAAJ,CAAUC,KAAjB;AACD;;AACD,SAAO,IAAP;AACD,CARM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "export const getTokenFromRequest = req => {\n  if (req.headers.authorization && req.headers.authorization.split(' ')[0] === 'Bearer') {\n    return req.headers.authorization.split(' ')[1];\n  }\n  if (req.query && req.query.token) {\n    return req.query.token;\n  }\n  return null;\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1556136472599
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/dal-types.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/dal-types.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/dal-types.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/dal-types.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
        "sourceFileName": "dal-types.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  PredefinedRole: {\n    SYSTEM: 'system',\n    CUSTOMER: 'customer',\n    ADMIN: 'admin',\n    EXTERNAL: 'external'\n  },\n  OrderStatus: {\n    PENDING: 'pending',\n    PROCESSED: 'processed',\n    CANCELLED: 'cancelled'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhbC10eXBlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUHJlZGVmaW5lZFJvbGUiLCJTWVNURU0iLCJDVVNUT01FUiIsIkFETUlOIiwiRVhURVJOQUwiLCJPcmRlclN0YXR1cyIsIlBFTkRJTkciLCJQUk9DRVNTRUQiLCJDQU5DRUxMRUQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxjQUFjLEVBQUU7QUFDZEMsSUFBQUEsTUFBTSxFQUFFLFFBRE07QUFFZEMsSUFBQUEsUUFBUSxFQUFFLFVBRkk7QUFHZEMsSUFBQUEsS0FBSyxFQUFFLE9BSE87QUFJZEMsSUFBQUEsUUFBUSxFQUFFO0FBSkksR0FERDtBQU9mQyxFQUFBQSxXQUFXLEVBQUU7QUFDWEMsSUFBQUEsT0FBTyxFQUFFLFNBREU7QUFFWEMsSUFBQUEsU0FBUyxFQUFFLFdBRkE7QUFHWEMsSUFBQUEsU0FBUyxFQUFFO0FBSEE7QUFQRSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9oZWxwZXJzL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFxuICBQcmVkZWZpbmVkUm9sZToge1xuICAgIFNZU1RFTTogJ3N5c3RlbScsXG4gICAgQ1VTVE9NRVI6ICdjdXN0b21lcicsXG4gICAgQURNSU46ICdhZG1pbicsXG4gICAgRVhURVJOQUw6ICdleHRlcm5hbCcsXG4gIH0sXG4gIE9yZGVyU3RhdHVzOiB7XG4gICAgUEVORElORzogJ3BlbmRpbmcnLFxuICAgIFBST0NFU1NFRDogJ3Byb2Nlc3NlZCcsXG4gICAgQ0FOQ0VMTEVEOiAnY2FuY2VsbGVkJyxcbiAgfSxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "dal-types.js"
      ],
      "names": [
        "module",
        "exports",
        "PredefinedRole",
        "SYSTEM",
        "CUSTOMER",
        "ADMIN",
        "EXTERNAL",
        "OrderStatus",
        "PENDING",
        "PROCESSED",
        "CANCELLED"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAE;AACdC,IAAAA,MAAM,EAAE,QADM;AAEdC,IAAAA,QAAQ,EAAE,UAFI;AAGdC,IAAAA,KAAK,EAAE,OAHO;AAIdC,IAAAA,QAAQ,EAAE;AAJI,GADD;AAOfC,EAAAA,WAAW,EAAE;AACXC,IAAAA,OAAO,EAAE,SADE;AAEXC,IAAAA,SAAS,EAAE,WAFA;AAGXC,IAAAA,SAAS,EAAE;AAHA;AAPE,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "sourcesContent": [
        "module.exports = { \n  PredefinedRole: {\n    SYSTEM: 'system',\n    CUSTOMER: 'customer',\n    ADMIN: 'admin',\n    EXTERNAL: 'external',\n  },\n  OrderStatus: {\n    PENDING: 'pending',\n    PROCESSED: 'processed',\n    CANCELLED: 'cancelled',\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/api/order.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/order.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/api/order.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/order.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
        "sourceFileName": "order.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar orderService = _interopRequireWildcard(require(\"../services/order-service\"));\n\nvar _unit_of_work = require(\"../helpers/enums/unit_of_work\");\n\nvar _authorizationHandler = require(\"../decorators/authorization-handler\");\n\nvar _dalTypes = require(\"../helpers/enums/dal-types\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class;\n\nconst {\n  POSTGRES_CONTEXT\n} = _unit_of_work.UnitOfWorkContext;\nlet CustomerApi = (_dec = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec2 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec3 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec4 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec5 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec6 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec7 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec8 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec9 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), _dec10 = (0, _authorizationHandler.RequiredRole)([_dalTypes.PredefinedRole.ADMIN, _dalTypes.PredefinedRole.CUSTOMER]), (_class = class CustomerApi {\n  constructor(app) {\n    app.get('/api/orders/byCustomer/:customerId', _authorizationHandler.authenticate, this.getOrdersByCustomerId);\n    app.get('/api/orders/:orderId', _authorizationHandler.authenticate, this.getOrderById);\n    app.get('/api/orders/:customerId/byStatus/:status', _authorizationHandler.authenticate, this.getOrderByStatus);\n    app.post('/api/orders', _authorizationHandler.authenticate, this.createOrder);\n    app.post('/api/orders/lines', _authorizationHandler.authenticate, this.createOrderLine);\n    app.put('/api/orders/:orderId', _authorizationHandler.authenticate, this.updateOrder);\n    app.put('/api/orders/lines/:orderId/:productId', _authorizationHandler.authenticate, this.updateOrderLine);\n    app.delete('/api/orders/:orderId', _authorizationHandler.authenticate, this.deleteOrder);\n    app.delete('/api/orders/lines/:orderId/:productId', _authorizationHandler.authenticate, this.deleteOrderLine);\n    app.post('/api/orders/place', _authorizationHandler.authenticate, this.placeOrder);\n    app.post('/api/orders/transaction', this.processTransaction);\n  }\n\n  async getOrdersByCustomerId(req) {\n    const {\n      customerId\n    } = req.params || {};\n    return await orderService.getOrdersByCustomerId(POSTGRES_CONTEXT, customerId);\n  }\n\n  async getOrderById(req) {\n    const {\n      orderId\n    } = req.params || {};\n    return await orderService.getOrderById(POSTGRES_CONTEXT, {\n      orderId\n    });\n  }\n\n  async getOrderByStatus(req) {\n    const {\n      status,\n      customerId\n    } = req.params || {};\n    return await orderService.getOrderByStatus(POSTGRES_CONTEXT, {\n      status,\n      customerId\n    });\n  }\n\n  async createOrder(req) {\n    const {\n      body\n    } = req;\n    return await orderService.createOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      order: body\n    });\n  }\n\n  async placeOrder(req) {\n    const {\n      body\n    } = req;\n    return await orderService.placeOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      order: body\n    });\n  }\n\n  async processTransaction(req) {\n    const {\n      body\n    } = req;\n    return await orderService.processTransaction(POSTGRES_CONTEXT, body);\n  }\n\n  async createOrderLine(req) {\n    const {\n      body\n    } = req;\n    return await orderService.createOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderLine: body\n    });\n  }\n\n  async updateOrder(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    return await orderService.updateOrder(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderId: params.orderId,\n      order: body\n    });\n  }\n\n  async updateOrderLine(req) {\n    const {\n      body,\n      params = {}\n    } = req;\n    const {\n      orderId,\n      productId\n    } = params;\n    return await orderService.updateOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderLine: (0, _objectSpread2.default)({}, body, {\n        orderId,\n        externalProductId: productId\n      })\n    });\n  }\n\n  async deleteOrder(req) {\n    const {\n      orderId\n    } = req.params || {};\n    return await orderService.deleteOrder(POSTGRES_CONTEXT, orderId);\n  }\n\n  async deleteOrderLine(req) {\n    const {\n      orderId,\n      productId\n    } = req.params || {};\n    return await orderService.deleteOrderLine(req, {\n      dbContext: POSTGRES_CONTEXT,\n      orderId,\n      externalProductId: productId\n    });\n  }\n\n}, ((0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrdersByCustomerId\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrdersByCustomerId\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrderById\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrderById\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"getOrderByStatus\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getOrderByStatus\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createOrder\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"createOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"placeOrder\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"placeOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"createOrderLine\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createOrderLine\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateOrder\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"updateOrderLine\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"updateOrderLine\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteOrder\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteOrder\"), _class.prototype), (0, _applyDecoratedDescriptor2.default)(_class.prototype, \"deleteOrderLine\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteOrderLine\"), _class.prototype)), _class));\nexports.default = CustomerApi;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLmpzIl0sIm5hbWVzIjpbIlBPU1RHUkVTX0NPTlRFWFQiLCJVbml0T2ZXb3JrQ29udGV4dCIsIkN1c3RvbWVyQXBpIiwiUHJlZGVmaW5lZFJvbGUiLCJBRE1JTiIsIkNVU1RPTUVSIiwiY29uc3RydWN0b3IiLCJhcHAiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJnZXRPcmRlcnNCeUN1c3RvbWVySWQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPcmRlckJ5U3RhdHVzIiwicG9zdCIsImNyZWF0ZU9yZGVyIiwiY3JlYXRlT3JkZXJMaW5lIiwicHV0IiwidXBkYXRlT3JkZXIiLCJ1cGRhdGVPcmRlckxpbmUiLCJkZWxldGUiLCJkZWxldGVPcmRlciIsImRlbGV0ZU9yZGVyTGluZSIsInBsYWNlT3JkZXIiLCJwcm9jZXNzVHJhbnNhY3Rpb24iLCJyZXEiLCJjdXN0b21lcklkIiwicGFyYW1zIiwib3JkZXJTZXJ2aWNlIiwib3JkZXJJZCIsInN0YXR1cyIsImJvZHkiLCJkYkNvbnRleHQiLCJvcmRlciIsIm9yZGVyTGluZSIsInByb2R1Y3RJZCIsImV4dGVybmFsUHJvZHVjdElkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUF1QkMsK0JBQTdCO0lBRXFCQyxXLFdBZ0JsQix3Q0FBYSxDQUFDQyx5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0QyxDQUFiLEMsVUFNQSx3Q0FBYSxDQUFDRix5QkFBZUMsS0FBaEIsRUFBdUJELHlCQUFlRSxRQUF0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QUEsS0FBSyxFQUFFRjtBQUEvRCxLQUE5QixDQUFiO0FBQ0Q7O0FBRUQsUUFDTVosZUFETixDQUNzQk0sR0FEdEIsRUFDMkI7QUFDekIsVUFBTTtBQUFFTSxNQUFBQSxJQUFGO0FBQVFKLE1BQUFBLE1BQU0sR0FBRztBQUFqQixRQUF3QkYsR0FBOUI7QUFDQSxVQUFNO0FBQUVJLE1BQUFBLE9BQUY7QUFBV00sTUFBQUE7QUFBWCxRQUF5QlIsTUFBL0I7QUFDQSxXQUFPLE1BQU1DLFlBQVksQ0FBQ1QsZUFBYixDQUE2Qk0sR0FBN0IsRUFBa0M7QUFBRU8sTUFBQUEsU0FBUyxFQUFFL0IsZ0JBQWI7QUFBK0JpQyxNQUFBQSxTQUFTLGtDQUFPSCxJQUFQO0FBQWFGLFFBQUFBLE9BQWI7QUFBc0JPLFFBQUFBLGlCQUFpQixFQUFFRDtBQUF6QztBQUF4QyxLQUFsQyxDQUFiO0FBQ0Q7O0FBRUQsUUFDTWQsV0FETixDQUNrQkksR0FEbEIsRUFDdUI7QUFDckIsVUFBTTtBQUFFSSxNQUFBQTtBQUFGLFFBQWNKLEdBQUcsQ0FBQ0UsTUFBSixJQUFjLEVBQWxDO0FBQ0EsV0FBTyxNQUFNQyxZQUFZLENBQUNQLFdBQWIsQ0FBeUJwQixnQkFBekIsRUFBMkM0QixPQUEzQyxDQUFiO0FBQ0Q7O0FBRUQsUUFDTVAsZUFETixDQUNzQkcsR0FEdEIsRUFDMkI7QUFDekIsVUFBTTtBQUFFSSxNQUFBQSxPQUFGO0FBQVdNLE1BQUFBO0FBQVgsUUFBeUJWLEdBQUcsQ0FBQ0UsTUFBSixJQUFjLEVBQTdDO0FBQ0EsV0FBTyxNQUFNQyxZQUFZLENBQUNOLGVBQWIsQ0FBNkJHLEdBQTdCLEVBQWtDO0FBQUVPLE1BQUFBLFNBQVMsRUFBRS9CLGdCQUFiO0FBQStCNEIsTUFBQUEsT0FBL0I7QUFBd0NPLE1BQUFBLGlCQUFpQixFQUFFRDtBQUEzRCxLQUFsQyxDQUFiO0FBQ0Q7O0FBakY4QixDIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2FwaSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG9yZGVyU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9vcmRlci1zZXJ2aWNlJztcbmltcG9ydCB7IFVuaXRPZldvcmtDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9lbnVtcy91bml0X29mX3dvcmsnO1xuaW1wb3J0IHsgUmVxdWlyZWRSb2xlLCBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi9kZWNvcmF0b3JzL2F1dGhvcml6YXRpb24taGFuZGxlcic7XG5pbXBvcnQgeyBQcmVkZWZpbmVkUm9sZSB9IGZyb20gJy4uL2hlbHBlcnMvZW51bXMvZGFsLXR5cGVzJztcblxuY29uc3QgeyBQT1NUR1JFU19DT05URVhUIH0gPSBVbml0T2ZXb3JrQ29udGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tZXJBcGkge1xuXG4gIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgIGFwcC5nZXQoJy9hcGkvb3JkZXJzL2J5Q3VzdG9tZXIvOmN1c3RvbWVySWQnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0T3JkZXJzQnlDdXN0b21lcklkKTtcbiAgICBhcHAuZ2V0KCcvYXBpL29yZGVycy86b3JkZXJJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy5nZXRPcmRlckJ5SWQpO1xuICAgIGFwcC5nZXQoJy9hcGkvb3JkZXJzLzpjdXN0b21lcklkL2J5U3RhdHVzLzpzdGF0dXMnLCBhdXRoZW50aWNhdGUsIHRoaXMuZ2V0T3JkZXJCeVN0YXR1cyk7XG4gICAgYXBwLnBvc3QoJy9hcGkvb3JkZXJzJywgYXV0aGVudGljYXRlLCB0aGlzLmNyZWF0ZU9yZGVyKTtcbiAgICBhcHAucG9zdCgnL2FwaS9vcmRlcnMvbGluZXMnLGF1dGhlbnRpY2F0ZSwgIHRoaXMuY3JlYXRlT3JkZXJMaW5lKTtcbiAgICBhcHAucHV0KCcvYXBpL29yZGVycy86b3JkZXJJZCcsYXV0aGVudGljYXRlLCAgdGhpcy51cGRhdGVPcmRlcik7XG4gICAgYXBwLnB1dCgnL2FwaS9vcmRlcnMvbGluZXMvOm9yZGVySWQvOnByb2R1Y3RJZCcsIGF1dGhlbnRpY2F0ZSwgdGhpcy51cGRhdGVPcmRlckxpbmUpO1xuICAgIGFwcC5kZWxldGUoJy9hcGkvb3JkZXJzLzpvcmRlcklkJywgYXV0aGVudGljYXRlLCB0aGlzLmRlbGV0ZU9yZGVyKTtcbiAgICBhcHAuZGVsZXRlKCcvYXBpL29yZGVycy9saW5lcy86b3JkZXJJZC86cHJvZHVjdElkJywgYXV0aGVudGljYXRlLCB0aGlzLmRlbGV0ZU9yZGVyTGluZSk7XG4gICAgYXBwLnBvc3QoJy9hcGkvb3JkZXJzL3BsYWNlJywgYXV0aGVudGljYXRlLCB0aGlzLnBsYWNlT3JkZXIpO1xuICAgIGFwcC5wb3N0KCcvYXBpL29yZGVycy90cmFuc2FjdGlvbicsIHRoaXMucHJvY2Vzc1RyYW5zYWN0aW9uKTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGdldE9yZGVyc0J5Q3VzdG9tZXJJZChyZXEpIHsgXG4gICAgY29uc3QgeyBjdXN0b21lcklkIH0gPSByZXEucGFyYW1zIHx8IHt9O1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UuZ2V0T3JkZXJzQnlDdXN0b21lcklkKFBPU1RHUkVTX0NPTlRFWFQsIGN1c3RvbWVySWQpOyBcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGdldE9yZGVyQnlJZChyZXEpIHtcbiAgICBjb25zdCB7IG9yZGVySWQgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS5nZXRPcmRlckJ5SWQoUE9TVEdSRVNfQ09OVEVYVCwgeyBvcmRlcklkIH0pO1xuICB9XG5cbiAgQFJlcXVpcmVkUm9sZShbUHJlZGVmaW5lZFJvbGUuQURNSU4sIFByZWRlZmluZWRSb2xlLkNVU1RPTUVSXSlcbiAgYXN5bmMgZ2V0T3JkZXJCeVN0YXR1cyhyZXEpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3VzdG9tZXJJZCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLmdldE9yZGVyQnlTdGF0dXMoUE9TVEdSRVNfQ09OVEVYVCwgeyBzdGF0dXMsIGN1c3RvbWVySWQgfSk7XG4gIH1cbiAgXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGNyZWF0ZU9yZGVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxO1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UuY3JlYXRlT3JkZXIocmVxLCB7IGRiQ29udGV4dDogUE9TVEdSRVNfQ09OVEVYVCwgb3JkZXI6IGJvZHkgfSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyBwbGFjZU9yZGVyKHJlcSkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxO1xuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UucGxhY2VPcmRlcihyZXEsIHsgZGJDb250ZXh0OiBQT1NUR1JFU19DT05URVhULCBvcmRlcjogYm9keSB9KTtcbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3NUcmFuc2FjdGlvbihyZXEpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IHJlcTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLnByb2Nlc3NUcmFuc2FjdGlvbihQT1NUR1JFU19DT05URVhULCBib2R5KTtcbiAgfVxuICBcbiAgXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGNyZWF0ZU9yZGVyTGluZShyZXEpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IHJlcTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLmNyZWF0ZU9yZGVyTGluZShyZXEsIHsgZGJDb250ZXh0OiBQT1NUR1JFU19DT05URVhULCBvcmRlckxpbmU6IGJvZHkgfSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyB1cGRhdGVPcmRlcihyZXEpIHtcbiAgICBjb25zdCB7IGJvZHksIHBhcmFtcyA9IHt9IH0gPSByZXE7XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS51cGRhdGVPcmRlcihyZXEsIHsgZGJDb250ZXh0OiBQT1NUR1JFU19DT05URVhULCBvcmRlcklkOiBwYXJhbXMub3JkZXJJZCwgb3JkZXI6IGJvZHkgfSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyB1cGRhdGVPcmRlckxpbmUocmVxKSB7XG4gICAgY29uc3QgeyBib2R5LCBwYXJhbXMgPSB7fSB9ID0gcmVxO1xuICAgIGNvbnN0IHsgb3JkZXJJZCwgcHJvZHVjdElkIH0gPSBwYXJhbXM7IFxuICAgIHJldHVybiBhd2FpdCBvcmRlclNlcnZpY2UudXBkYXRlT3JkZXJMaW5lKHJlcSwgeyBkYkNvbnRleHQ6IFBPU1RHUkVTX0NPTlRFWFQsIG9yZGVyTGluZTogeyAuLi5ib2R5LCBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZDogcHJvZHVjdElkIH0gfSk7XG4gIH1cblxuICBAUmVxdWlyZWRSb2xlKFtQcmVkZWZpbmVkUm9sZS5BRE1JTiwgUHJlZGVmaW5lZFJvbGUuQ1VTVE9NRVJdKVxuICBhc3luYyBkZWxldGVPcmRlcihyZXEpIHtcbiAgICBjb25zdCB7IG9yZGVySWQgfSA9IHJlcS5wYXJhbXMgfHwge307XG4gICAgcmV0dXJuIGF3YWl0IG9yZGVyU2VydmljZS5kZWxldGVPcmRlcihQT1NUR1JFU19DT05URVhULCBvcmRlcklkKTtcbiAgfVxuXG4gIEBSZXF1aXJlZFJvbGUoW1ByZWRlZmluZWRSb2xlLkFETUlOLCBQcmVkZWZpbmVkUm9sZS5DVVNUT01FUl0pXG4gIGFzeW5jIGRlbGV0ZU9yZGVyTGluZShyZXEpIHtcbiAgICBjb25zdCB7IG9yZGVySWQsIHByb2R1Y3RJZCB9ID0gcmVxLnBhcmFtcyB8fCB7fTtcbiAgICByZXR1cm4gYXdhaXQgb3JkZXJTZXJ2aWNlLmRlbGV0ZU9yZGVyTGluZShyZXEsIHsgZGJDb250ZXh0OiBQT1NUR1JFU19DT05URVhULCBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZDogcHJvZHVjdElkIH0pO1xuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "order.js"
      ],
      "names": [
        "POSTGRES_CONTEXT",
        "UnitOfWorkContext",
        "CustomerApi",
        "PredefinedRole",
        "ADMIN",
        "CUSTOMER",
        "constructor",
        "app",
        "get",
        "authenticate",
        "getOrdersByCustomerId",
        "getOrderById",
        "getOrderByStatus",
        "post",
        "createOrder",
        "createOrderLine",
        "put",
        "updateOrder",
        "updateOrderLine",
        "delete",
        "deleteOrder",
        "deleteOrderLine",
        "placeOrder",
        "processTransaction",
        "req",
        "customerId",
        "params",
        "orderService",
        "orderId",
        "status",
        "body",
        "dbContext",
        "order",
        "orderLine",
        "productId",
        "externalProductId"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "sourcesContent": [
        "import * as orderService from '../services/order-service';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { RequiredRole, authenticate } from '../decorators/authorization-handler';\nimport { PredefinedRole } from '../helpers/enums/dal-types';\n\nconst { POSTGRES_CONTEXT } = UnitOfWorkContext;\n\nexport default class CustomerApi {\n\n  constructor(app) {\n    app.get('/api/orders/byCustomer/:customerId', authenticate, this.getOrdersByCustomerId);\n    app.get('/api/orders/:orderId', authenticate, this.getOrderById);\n    app.get('/api/orders/:customerId/byStatus/:status', authenticate, this.getOrderByStatus);\n    app.post('/api/orders', authenticate, this.createOrder);\n    app.post('/api/orders/lines',authenticate,  this.createOrderLine);\n    app.put('/api/orders/:orderId',authenticate,  this.updateOrder);\n    app.put('/api/orders/lines/:orderId/:productId', authenticate, this.updateOrderLine);\n    app.delete('/api/orders/:orderId', authenticate, this.deleteOrder);\n    app.delete('/api/orders/lines/:orderId/:productId', authenticate, this.deleteOrderLine);\n    app.post('/api/orders/place', authenticate, this.placeOrder);\n    app.post('/api/orders/transaction', this.processTransaction);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrdersByCustomerId(req) { \n    const { customerId } = req.params || {};\n    return await orderService.getOrdersByCustomerId(POSTGRES_CONTEXT, customerId); \n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrderById(req) {\n    const { orderId } = req.params || {};\n    return await orderService.getOrderById(POSTGRES_CONTEXT, { orderId });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async getOrderByStatus(req) {\n    const { status, customerId } = req.params || {};\n    return await orderService.getOrderByStatus(POSTGRES_CONTEXT, { status, customerId });\n  }\n  \n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async createOrder(req) {\n    const { body } = req;\n    return await orderService.createOrder(req, { dbContext: POSTGRES_CONTEXT, order: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async placeOrder(req) {\n    const { body } = req;\n    return await orderService.placeOrder(req, { dbContext: POSTGRES_CONTEXT, order: body });\n  }\n\n  async processTransaction(req) {\n    const { body } = req;\n    return await orderService.processTransaction(POSTGRES_CONTEXT, body);\n  }\n  \n  \n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async createOrderLine(req) {\n    const { body } = req;\n    return await orderService.createOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderLine: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async updateOrder(req) {\n    const { body, params = {} } = req;\n    return await orderService.updateOrder(req, { dbContext: POSTGRES_CONTEXT, orderId: params.orderId, order: body });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async updateOrderLine(req) {\n    const { body, params = {} } = req;\n    const { orderId, productId } = params; \n    return await orderService.updateOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderLine: { ...body, orderId, externalProductId: productId } });\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async deleteOrder(req) {\n    const { orderId } = req.params || {};\n    return await orderService.deleteOrder(POSTGRES_CONTEXT, orderId);\n  }\n\n  @RequiredRole([PredefinedRole.ADMIN, PredefinedRole.CUSTOMER])\n  async deleteOrderLine(req) {\n    const { orderId, productId } = req.params || {};\n    return await orderService.deleteOrderLine(req, { dbContext: POSTGRES_CONTEXT, orderId, externalProductId: productId });\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558448006964
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/services/order-service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/order-service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/services/order-service.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/services/order-service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
        "sourceFileName": "order-service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processTransaction = exports.placeOrder = exports.deleteOrder = exports.createOrder = exports.updateOrder = exports.deleteOrderLine = exports.createOrderLine = exports.updateOrderLine = exports.getOrderByStatus = exports.getOrderById = exports.getOrdersByCustomerId = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar orderRepo = _interopRequireWildcard(require(\"../dal/order-repo\"));\n\nvar _validator = require(\"../helpers/validator\");\n\nvar _mapper = require(\"../helpers/mapper\");\n\nvar _externalService = require(\"./external-service\");\n\nvar _config = require(\"../config\");\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _dalTypes = _interopRequireDefault(require(\"../helpers/enums/dal-types\"));\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nvar _cryptoService = require(\"./crypto-service\");\n\nvar _socketIO = require(\"../socketIO\");\n\nvar _socketTypes = _interopRequireDefault(require(\"../helpers/enums/socket-types\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'OrderService'\n});\n\nconst getOrdersByCustomerId = async (dbContext, customerId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], {\n    dbContext,\n    customerId\n  });\n  return (await orderRepo.getOrdersByCustomerId(dbContext, customerId)).map(order => (0, _mapper.mapRepoEntity)(order));\n};\n\nexports.getOrdersByCustomerId = getOrdersByCustomerId;\n\nconst getOrderById = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId'], {\n    dbContext,\n    orderId\n  });\n  return (0, _mapper.mapRepoEntity)((await orderRepo.getOrderById(dbContext, {\n    orderId,\n    trx\n  })));\n};\n\nexports.getOrderById = getOrderById;\n\nconst getOrderByStatus = async (dbContext, {\n  status,\n  customerId\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'status'], {\n    dbContext,\n    status,\n    customerId\n  });\n  return (0, _mapper.mapRepoEntity)((await orderRepo.getOrderByStatus(dbContext, {\n    status,\n    customerId\n  })));\n};\n\nexports.getOrderByStatus = getOrderByStatus;\n\nconst validateProductQuantity = (req, orderLine) => {\n  const {\n    quantity\n  } = orderLine;\n\n  if (quantity > _config.maxAllowedProductQuantity) {\n    logger.error((0, _objectSpread2.default)({}, req.tokenBody, orderLine), 'Quantity exceeds the max');\n    const error = new Error('QUANTITY_EXCEEDS_THE_MAX');\n    error.status = 412;\n    throw error;\n  }\n};\n\nconst updateOrderAmount = async (req, {\n  dbContext,\n  orderId,\n  trx\n}) => {\n  const {\n    orderLines = []\n  } = await getOrderById(dbContext, {\n    orderId,\n    trx\n  });\n  if (!orderLines.length) return;\n  const products = await Promise.all(orderLines.map(async ({\n    externalProductCategoryId\n  }) => await (0, _externalService.getProduct)(req, externalProductCategoryId)));\n\n  if (!products || !products.length) {\n    logger.error((0, _objectSpread2.default)({}, req.tokenBody, {\n      orderId\n    }), 'Empty product list');\n    const error = new Error('EMPTY_PRODUCT_LIST');\n    error.status = 500;\n    throw error;\n  }\n\n  const total_amount = products.reduce((acc, product) => {\n    const {\n      id,\n      quantity\n    } = orderLines.find(ol => ol.externalProductCategoryId === product.id);\n\n    if (quantity > product.available) {\n      logger.error({\n        id,\n        quantity,\n        orderId,\n        available: product.available\n      }, 'Not enough products');\n      const error = new Error('NOT_ENOUGH_PRODUCTS');\n      error.status = 500;\n      throw error;\n    }\n\n    acc = acc + product.price * quantity;\n    return acc;\n  }, 0);\n  console.log('total_amount', total_amount);\n  await orderRepo.updateOrder(dbContext, {\n    orderId,\n    order: {\n      total_amount\n    },\n    trx\n  });\n};\n\nconst updateOrderLine = async (req, {\n  dbContext,\n  orderLine,\n  trx\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductId'], (0, _objectSpread2.default)({\n    dbContext\n  }, orderLine));\n  validateProductQuantity(req, orderLine);\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        orderId,\n        externalProductId\n      } = orderLine;\n      await orderRepo.updateOrderLine(dbContext, {\n        orderId,\n        externalProductId,\n        orderLine: (0, _mapper.mapParams)(orderLine),\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n    } catch (error) {\n      reject(error);\n    }\n\n    resolve(true);\n  });\n};\n\nexports.updateOrderLine = updateOrderLine;\n\nconst createOrderLine = async (req, {\n  dbContext,\n  orderLine\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductName', 'externalProductId', 'quantity', 'externalProductCategoryId'], (0, _objectSpread2.default)({\n    dbContext\n  }, orderLine));\n  validateProductQuantity(req, orderLine);\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const dbOrderLine = await orderRepo.createOrderLine(dbContext, {\n        orderLine: (0, _mapper.mapParams)(orderLine),\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId: orderLine.orderId,\n        trx\n      });\n      resolve((0, _mapper.mapRepoEntity)(dbOrderLine));\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.createOrderLine = createOrderLine;\n\nconst deleteOrderLine = async (req, {\n  dbContext,\n  orderId,\n  externalProductId\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'externalProductId'], {\n    dbContext,\n    orderId,\n    externalProductId\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.deleteOrderLine(dbContext, {\n        orderId,\n        externalProductId,\n        trx\n      });\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.deleteOrderLine = deleteOrderLine;\n\nconst updateOrder = async (req, {\n  dbContext,\n  orderId,\n  order,\n  skipUpdateAmount = false\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId', 'order'], {\n    dbContext,\n    orderId,\n    order\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.updateOrder(dbContext, {\n        orderId,\n        order: (0, _mapper.mapParams)(order),\n        trx\n      });\n      const {\n        orderLines = []\n      } = order;\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.upsertOrderLine(dbContext, {\n          orderId,\n          externalProductId: orderLine.externalProductId,\n          orderLine: (0, _mapper.mapParams)((0, _objectSpread2.default)({}, orderLine, {\n            orderId\n          })),\n          trx\n        })));\n      }\n\n      !skipUpdateAmount && (await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      }));\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.updateOrder = updateOrder;\n\nconst createOrder = async (req, {\n  dbContext,\n  order\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'customerId'], (0, _objectSpread2.default)({\n    dbContext\n  }, order));\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const mappedOrder = (0, _mapper.mapParams)(order);\n      const {\n        id: orderId\n      } = await orderRepo.createOrder(dbContext, {\n        order: (0, _objectSpread2.default)({\n          total_amount: 0,\n          status: _dalTypes.default.OrderStatus.PENDING\n        }, mappedOrder),\n        trx\n      });\n      const {\n        orderLines = []\n      } = order;\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.createOrderLine(dbContext, {\n          orderLine: (0, _objectSpread2.default)({}, (0, _mapper.mapParams)(orderLine), {\n            order_id: orderId\n          }),\n          trx\n        })));\n      }\n\n      await updateOrderAmount(req, {\n        dbContext,\n        orderId,\n        trx\n      });\n      const dbOrder = await getOrderById(dbContext, {\n        orderId,\n        trx\n      });\n      resolve(dbOrder);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.createOrder = createOrder;\n\nconst deleteOrder = async (dbContext, orderId) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'orderId'], {\n    dbContext,\n    orderId\n  });\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        orderLines\n      } = await getOrderById(dbContext, {\n        orderId,\n        trx\n      });\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async ({\n          externalProductId\n        }) => await orderRepo.deleteOrderLine(dbContext, {\n          orderId,\n          externalProductId,\n          trx\n        })));\n      }\n\n      await orderRepo.deleteOrder(dbContext, {\n        orderId,\n        trx\n      });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.deleteOrder = deleteOrder;\n\nconst placeOrder = async (req, {\n  dbContext,\n  order\n}) => {\n  (0, _validator.validatePreconditions)(['dbContext', 'id'], (0, _objectSpread2.default)({\n    dbContext\n  }, order));\n  return await new _unit_of_work.default(dbContext).transact(async (trx, resolve, reject) => {\n    try {\n      const {\n        customerId,\n        totalAmount\n      } = await getOrderById(dbContext, {\n        orderId: order.id,\n        trx\n      });\n      const formUrl = await (0, _externalService.initiatePayment)({\n        customerId,\n        amount: totalAmount\n      });\n      resolve({\n        formUrl\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexports.placeOrder = placeOrder;\n\nconst processTransaction = async (dbContext, body) => {\n  console.log('body', body);\n  const {\n    customerId\n  } = (0, _cryptoService.decrypt)(body.content, _config.crypto.paymentEncryptionKey);\n  const notifyType = _socketTypes.default.PAYMENT_RESULT;\n\n  if (!customerId) {\n    return await (0, _socketIO.notify)({\n      type: notifyType,\n      msg: {\n        success: false\n      }\n    });\n  }\n\n  const {\n    id: orderId\n  } = await getOrderByStatus(dbContext, {\n    status: _dalTypes.default.OrderStatus.PENDING,\n    customerId\n  });\n  await updateOrder({}, {\n    dbContext,\n    orderId,\n    order: {\n      status: _dalTypes.default.OrderStatus.PROCESSED\n    },\n    skipUpdateAmount: true\n  });\n  return await (0, _socketIO.notify)({\n    type: notifyType,\n    msg: {\n      success: true\n    }\n  });\n};\n\nexports.processTransaction = processTransaction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLXNlcnZpY2UuanMiXSwibmFtZXMiOlsibG9nZ2VyIiwiYnVueWFuIiwiY3JlYXRlTG9nZ2VyIiwibmFtZSIsImdldE9yZGVyc0J5Q3VzdG9tZXJJZCIsImRiQ29udGV4dCIsImN1c3RvbWVySWQiLCJvcmRlclJlcG8iLCJtYXAiLCJvcmRlciIsImdldE9yZGVyQnlJZCIsIm9yZGVySWQiLCJ0cngiLCJnZXRPcmRlckJ5U3RhdHVzIiwic3RhdHVzIiwidmFsaWRhdGVQcm9kdWN0UXVhbnRpdHkiLCJyZXEiLCJvcmRlckxpbmUiLCJxdWFudGl0eSIsIm1heEFsbG93ZWRQcm9kdWN0UXVhbnRpdHkiLCJlcnJvciIsInRva2VuQm9keSIsIkVycm9yIiwidXBkYXRlT3JkZXJBbW91bnQiLCJvcmRlckxpbmVzIiwibGVuZ3RoIiwicHJvZHVjdHMiLCJQcm9taXNlIiwiYWxsIiwiZXh0ZXJuYWxQcm9kdWN0Q2F0ZWdvcnlJZCIsInRvdGFsX2Ftb3VudCIsInJlZHVjZSIsImFjYyIsInByb2R1Y3QiLCJpZCIsImZpbmQiLCJvbCIsImF2YWlsYWJsZSIsInByaWNlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZU9yZGVyIiwidXBkYXRlT3JkZXJMaW5lIiwiVW5pdE9mV29yayIsInRyYW5zYWN0IiwicmVzb2x2ZSIsInJlamVjdCIsImV4dGVybmFsUHJvZHVjdElkIiwiY3JlYXRlT3JkZXJMaW5lIiwiZGJPcmRlckxpbmUiLCJkZWxldGVPcmRlckxpbmUiLCJza2lwVXBkYXRlQW1vdW50IiwidXBzZXJ0T3JkZXJMaW5lIiwiY3JlYXRlT3JkZXIiLCJtYXBwZWRPcmRlciIsIkRhbFR5cGVzIiwiT3JkZXJTdGF0dXMiLCJQRU5ESU5HIiwib3JkZXJfaWQiLCJkYk9yZGVyIiwiZGVsZXRlT3JkZXIiLCJwbGFjZU9yZGVyIiwidG90YWxBbW91bnQiLCJmb3JtVXJsIiwiYW1vdW50IiwicHJvY2Vzc1RyYW5zYWN0aW9uIiwiYm9keSIsImNvbnRlbnQiLCJjcnlwdG8iLCJwYXltZW50RW5jcnlwdGlvbktleSIsIm5vdGlmeVR5cGUiLCJTb2NrZVR5cGVzIiwiUEFZTUVOVF9SRVNVTFQiLCJ0eXBlIiwibXNnIiwic3VjY2VzcyIsIlBST0NFU1NFRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQU9DLFlBQVAsQ0FBb0I7QUFBRUMsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBcEIsQ0FBZjs7QUFFTyxNQUFNQyxxQkFBcUIsR0FBRyxPQUFPQyxTQUFQLEVBQWtCQyxVQUFsQixLQUFpQztBQUNwRSx3Q0FBc0IsQ0FBQyxXQUFELEVBQWMsWUFBZCxDQUF0QixFQUFtRDtBQUFFRCxJQUFBQSxTQUFGO0FBQWFDLElBQUFBO0FBQWIsR0FBbkQ7QUFDQSxTQUFPLENBQUMsTUFBTUMsU0FBUyxDQUFDSCxxQkFBVixDQUFnQ0MsU0FBaEMsRUFBMkNDLFVBQTNDLENBQVAsRUFBK0RFLEdBQS9ELENBQW1FQyxLQUFLLElBQUksMkJBQWNBLEtBQWQsQ0FBNUUsQ0FBUDtBQUNELENBSE07Ozs7QUFLQSxNQUFNQyxZQUFZLEdBQUcsT0FBT0wsU0FBUCxFQUFrQjtBQUFFTSxFQUFBQSxPQUFGO0FBQVdDLEVBQUFBO0FBQVgsQ0FBbEIsS0FBdUM7QUFDakUsd0NBQXNCLENBQUMsV0FBRCxFQUFjLFNBQWQsQ0FBdEIsRUFBZ0Q7QUFBRVAsSUFBQUEsU0FBRjtBQUFhTSxJQUFBQTtBQUFiLEdBQWhEO0FBQ0EsU0FBTyw0QkFBZSxNQUFNSixTQUFTLENBQUNHLFlBQVYsQ0FBdUJMLFNBQXZCLEVBQWtDO0FBQUVNLElBQUFBLE9BQUY7QUFBV0MsSUFBQUE7QUFBWCxHQUFsQyxDQUFyQixFQUFQO0FBQ0QsQ0FITTs7OztBQUtBLE1BQU1DLGdCQUFnQixHQUFHLE9BQU9SLFNBQVAsRUFBa0I7QUFBRVMsRUFBQUEsTUFBRjtBQUFVUixF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O0FBRmEsR0FBUCxDQUFiO0FBSUQsQ0FuQk0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBvcmRlclJlcG8gZnJvbSAnLi4vZGFsL29yZGVyLXJlcG8nO1xuaW1wb3J0IHsgdmFsaWRhdGVQcmVjb25kaXRpb25zIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3InO1xuaW1wb3J0IHsgbWFwUmVwb0VudGl0eSwgbWFwUGFyYW1zIH0gZnJvbSAnLi4vaGVscGVycy9tYXBwZXInO1xuaW1wb3J0IHsgZ2V0UHJvZHVjdCwgaW5pdGlhdGVQYXltZW50IH0gZnJvbSAnLi9leHRlcm5hbC1zZXJ2aWNlJztcbmltcG9ydCB7IG1heEFsbG93ZWRQcm9kdWN0UXVhbnRpdHksIGNyeXB0byB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgVW5pdE9mV29yayBmcm9tICcuLi9kYXRhYmFzZS91bml0X29mX3dvcmsuanMnO1xuaW1wb3J0IERhbFR5cGVzIGZyb20gJy4uL2hlbHBlcnMvZW51bXMvZGFsLXR5cGVzJztcbmltcG9ydCBidW55YW4gZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGRlY3J5cHQgfSBmcm9tICcuL2NyeXB0by1zZXJ2aWNlJztcbmltcG9ydCB7IG5vdGlmeSB9IGZyb20gJy4uL3NvY2tldElPJztcbmltcG9ydCBTb2NrZVR5cGVzIGZyb20gJy4uL2hlbHBlcnMvZW51bXMvc29ja2V0LXR5cGVzJztcblxuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdPcmRlclNlcnZpY2UnfSk7XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlcnNCeUN1c3RvbWVySWQgPSBhc3luYyAoZGJDb250ZXh0LCBjdXN0b21lcklkKSA9PiB7IFxuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnY3VzdG9tZXJJZCddLCB7IGRiQ29udGV4dCwgY3VzdG9tZXJJZCB9KTtcbiAgcmV0dXJuIChhd2FpdCBvcmRlclJlcG8uZ2V0T3JkZXJzQnlDdXN0b21lcklkKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkpLm1hcChvcmRlciA9PiBtYXBSZXBvRW50aXR5KG9yZGVyKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJCeUlkID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnb3JkZXJJZCddLCB7IGRiQ29udGV4dCwgb3JkZXJJZCB9KTtcbiAgcmV0dXJuIG1hcFJlcG9FbnRpdHkoKGF3YWl0IG9yZGVyUmVwby5nZXRPcmRlckJ5SWQoZGJDb250ZXh0LCB7IG9yZGVySWQsIHRyeCB9KSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyQnlTdGF0dXMgPSBhc3luYyAoZGJDb250ZXh0LCB7IHN0YXR1cywgY3VzdG9tZXJJZCB9KSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdzdGF0dXMnXSwgeyBkYkNvbnRleHQsIHN0YXR1cywgY3VzdG9tZXJJZCB9KTtcbiAgcmV0dXJuIG1hcFJlcG9FbnRpdHkoKGF3YWl0IG9yZGVyUmVwby5nZXRPcmRlckJ5U3RhdHVzKGRiQ29udGV4dCwgeyBzdGF0dXMsIGN1c3RvbWVySWQgfSkpKTtcbn07XG5cbmNvbnN0IHZhbGlkYXRlUHJvZHVjdFF1YW50aXR5ID0gKHJlcSwgb3JkZXJMaW5lKSA9PiB7XG4gIGNvbnN0IHsgcXVhbnRpdHkgfSA9IG9yZGVyTGluZTtcbiAgaWYgKHF1YW50aXR5ID4gbWF4QWxsb3dlZFByb2R1Y3RRdWFudGl0eSkge1xuICAgIGxvZ2dlci5lcnJvcih7IC4uLnJlcS50b2tlbkJvZHksIC4uLm9yZGVyTGluZSB9LCAnUXVhbnRpdHkgZXhjZWVkcyB0aGUgbWF4Jyk7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1FVQU5USVRZX0VYQ0VFRFNfVEhFX01BWCcpO1xuICAgIGVycm9yLnN0YXR1cyA9IDQxMjtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlT3JkZXJBbW91bnQgPSBhc3luYyhyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCB0cnggfSkgPT4ge1xuICBjb25zdCB7IG9yZGVyTGluZXMgPSBbXSB9ID0gYXdhaXQgZ2V0T3JkZXJCeUlkKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSk7XG4gIGlmICghb3JkZXJMaW5lcy5sZW5ndGgpIHJldHVybjtcblxuICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb21pc2UuYWxsKG9yZGVyTGluZXMubWFwKGFzeW5jICh7IGV4dGVybmFsUHJvZHVjdENhdGVnb3J5SWQgfSkgPT4gYXdhaXQgZ2V0UHJvZHVjdChyZXEsIGV4dGVybmFsUHJvZHVjdENhdGVnb3J5SWQpKSk7XG4gIGlmICghcHJvZHVjdHMgfHwgIXByb2R1Y3RzLmxlbmd0aCkge1xuICAgIGxvZ2dlci5lcnJvcih7IC4uLnJlcS50b2tlbkJvZHksIG9yZGVySWQgfSwgJ0VtcHR5IHByb2R1Y3QgbGlzdCcpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdFTVBUWV9QUk9EVUNUX0xJU1QnKTtcbiAgICBlcnJvci5zdGF0dXMgPSA1MDA7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICBjb25zdCB0b3RhbF9hbW91bnQgPSBwcm9kdWN0cy5yZWR1Y2UoKGFjYywgcHJvZHVjdCkgPT4ge1xuICAgIGNvbnN0IHsgaWQsIHF1YW50aXR5IH0gPSBvcmRlckxpbmVzLmZpbmQob2wgPT4gb2wuZXh0ZXJuYWxQcm9kdWN0Q2F0ZWdvcnlJZCA9PT0gcHJvZHVjdC5pZCk7XG4gICAgaWYgKHF1YW50aXR5ID4gcHJvZHVjdC5hdmFpbGFibGUpIHtcbiAgICAgIGxvZ2dlci5lcnJvcih7IGlkLCBxdWFudGl0eSwgb3JkZXJJZCwgYXZhaWxhYmxlOiBwcm9kdWN0LmF2YWlsYWJsZSB9LCAnTm90IGVub3VnaCBwcm9kdWN0cycpO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ05PVF9FTk9VR0hfUFJPRFVDVFMnKTtcbiAgICAgIGVycm9yLnN0YXR1cyA9IDUwMDtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBhY2MgPSBhY2MgKyAocHJvZHVjdC5wcmljZSAqIHF1YW50aXR5KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCAwKTtcbiAgY29uc29sZS5sb2coJ3RvdGFsX2Ftb3VudCcsIHRvdGFsX2Ftb3VudCk7XG5cbiAgYXdhaXQgb3JkZXJSZXBvLnVwZGF0ZU9yZGVyKGRiQ29udGV4dCwgeyBvcmRlcklkLCBvcmRlcjogeyB0b3RhbF9hbW91bnQgfSwgdHJ4IH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyTGluZSA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlckxpbmUsIHRyeCB9KSA9PiB7IFxuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnb3JkZXJJZCcsICdleHRlcm5hbFByb2R1Y3RJZCddLCB7IGRiQ29udGV4dCwgLi4ub3JkZXJMaW5lIH0pO1xuICB2YWxpZGF0ZVByb2R1Y3RRdWFudGl0eShyZXEsIG9yZGVyTGluZSk7XG4gXG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkIH0gPSBvcmRlckxpbmU7XG4gICAgICBhd2FpdCBvcmRlclJlcG8udXBkYXRlT3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCwgb3JkZXJMaW5lOiBtYXBQYXJhbXMob3JkZXJMaW5lKSwgdHJ4IH0pO1xuICAgICAgYXdhaXQgdXBkYXRlT3JkZXJBbW91bnQocmVxLCB7IGRiQ29udGV4dCwgb3JkZXJJZCwgdHJ4IH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIHJlc29sdmUodHJ1ZSk7XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlckxpbmUgPSBhc3luYyAocmVxLCB7IGRiQ29udGV4dCwgb3JkZXJMaW5lIH0pID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ29yZGVySWQnLCAnZXh0ZXJuYWxQcm9kdWN0TmFtZScsICdleHRlcm5hbFByb2R1Y3RJZCcsICdxdWFudGl0eScsICdleHRlcm5hbFByb2R1Y3RDYXRlZ29yeUlkJ10sIHsgZGJDb250ZXh0LCAuLi5vcmRlckxpbmUgfSk7XG4gIHZhbGlkYXRlUHJvZHVjdFF1YW50aXR5KHJlcSwgb3JkZXJMaW5lKTtcbiAgXG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7ICBcbiAgICAgIGNvbnN0IGRiT3JkZXJMaW5lID0gYXdhaXQgb3JkZXJSZXBvLmNyZWF0ZU9yZGVyTGluZShkYkNvbnRleHQsIHsgb3JkZXJMaW5lOiBtYXBQYXJhbXMob3JkZXJMaW5lKSwgdHJ4IH0pO1xuICAgICAgYXdhaXQgdXBkYXRlT3JkZXJBbW91bnQocmVxLCB7IGRiQ29udGV4dCwgb3JkZXJJZDogb3JkZXJMaW5lLm9yZGVySWQsIHRyeCB9KTtcbiAgICAgIHJlc29sdmUobWFwUmVwb0VudGl0eShkYk9yZGVyTGluZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU9yZGVyTGluZSA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCB9KSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdvcmRlcklkJywgJ2V4dGVybmFsUHJvZHVjdElkJ10sIHsgZGJDb250ZXh0LCBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCB9KTtcbiAgXG4gIHJldHVybiBhd2FpdCAoKG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCkpLnRyYW5zYWN0KGFzeW5jICh0cngsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBvcmRlclJlcG8uZGVsZXRlT3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCwgdHJ4IH0pO1xuICAgICAgYXdhaXQgdXBkYXRlT3JkZXJBbW91bnQocmVxLCB7IGRiQ29udGV4dCwgb3JkZXJJZCwgdHJ4IH0pO1xuICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVPcmRlciA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCBvcmRlciwgc2tpcFVwZGF0ZUFtb3VudCA9IGZhbHNlIH0pID0+IHsgXG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdvcmRlcklkJywgJ29yZGVyJ10sIHsgZGJDb250ZXh0LCBvcmRlcklkLCBvcmRlciB9KTtcblxuICByZXR1cm4gYXdhaXQgKChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpKS50cmFuc2FjdChhc3luYyAodHJ4LCByZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkgeyAgXG4gICAgICBhd2FpdCBvcmRlclJlcG8udXBkYXRlT3JkZXIoZGJDb250ZXh0LCB7IG9yZGVySWQsIG9yZGVyOiBtYXBQYXJhbXMob3JkZXIpLCB0cnggfSk7XG4gICAgXG4gICAgICBjb25zdCB7IG9yZGVyTGluZXMgPSBbXSB9ID0gb3JkZXI7XG4gICAgICBpZiAob3JkZXJMaW5lcy5sZW5ndGgpe1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChvcmRlckxpbmVzLm1hcChhc3luYyBvcmRlckxpbmUgPT4gYXdhaXQgb3JkZXJSZXBvLnVwc2VydE9yZGVyTGluZShkYkNvbnRleHQsIHsgb3JkZXJJZCwgZXh0ZXJuYWxQcm9kdWN0SWQ6IG9yZGVyTGluZS5leHRlcm5hbFByb2R1Y3RJZCwgb3JkZXJMaW5lOiBtYXBQYXJhbXMoeyAuLi5vcmRlckxpbmUsIG9yZGVySWQgfSksIHRyeCB9KSkpO1xuICAgICAgfVxuXG4gICAgICAhc2tpcFVwZGF0ZUFtb3VudCAmJiBhd2FpdCB1cGRhdGVPcmRlckFtb3VudChyZXEsIHsgZGJDb250ZXh0LCBvcmRlcklkLCB0cnggfSk7XG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSkpO1xufTtcbiBcbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlciA9IGFzeW5jIChyZXEsIHsgZGJDb250ZXh0LCBvcmRlciB9KSA9PiB7XG4gIHZhbGlkYXRlUHJlY29uZGl0aW9ucyhbJ2RiQ29udGV4dCcsICdjdXN0b21lcklkJ10sIHsgZGJDb250ZXh0LCAuLi5vcmRlciB9KTtcblxuICByZXR1cm4gYXdhaXQgKChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpKS50cmFuc2FjdChhc3luYyAodHJ4LCByZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWFwcGVkT3JkZXIgPSBtYXBQYXJhbXMob3JkZXIpO1xuICAgICAgY29uc3QgeyBpZDogb3JkZXJJZCB9ID0gYXdhaXQgb3JkZXJSZXBvLmNyZWF0ZU9yZGVyKGRiQ29udGV4dCwgeyBvcmRlcjogeyB0b3RhbF9hbW91bnQ6IDAsIHN0YXR1czogRGFsVHlwZXMuT3JkZXJTdGF0dXMuUEVORElORywgLi4ubWFwcGVkT3JkZXIgfSwgdHJ4IH0pO1xuICAgIFxuICAgICAgY29uc3QgeyBvcmRlckxpbmVzID0gW10gfSA9IG9yZGVyO1xuICAgICAgaWYgKG9yZGVyTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG9yZGVyTGluZXMubWFwKGFzeW5jIG9yZGVyTGluZSA9PiBhd2FpdCBvcmRlclJlcG8uY3JlYXRlT3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlckxpbmU6IHsgLi4ubWFwUGFyYW1zKG9yZGVyTGluZSksIG9yZGVyX2lkOiBvcmRlcklkIH0sIHRyeCB9KSkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdXBkYXRlT3JkZXJBbW91bnQocmVxLCB7IGRiQ29udGV4dCwgb3JkZXJJZCwgdHJ4IH0pO1xuICAgICAgY29uc3QgZGJPcmRlciA9IGF3YWl0IGdldE9yZGVyQnlJZChkYkNvbnRleHQsIHsgb3JkZXJJZCwgdHJ4IH0pO1xuICAgICAgcmVzb2x2ZShkYk9yZGVyKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVPcmRlciA9IGFzeW5jIChkYkNvbnRleHQsIG9yZGVySWQpID0+IHtcbiAgdmFsaWRhdGVQcmVjb25kaXRpb25zKFsnZGJDb250ZXh0JywgJ29yZGVySWQnXSwgeyBkYkNvbnRleHQsIG9yZGVySWQgfSk7XG5cbiAgcmV0dXJuIGF3YWl0ICgobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KSkudHJhbnNhY3QoYXN5bmMgKHRyeCwgcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgb3JkZXJMaW5lcyB9ID0gYXdhaXQgZ2V0T3JkZXJCeUlkKGRiQ29udGV4dCwgeyBvcmRlcklkLCB0cnggfSk7XG5cbiAgICAgIGlmIChvcmRlckxpbmVzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChvcmRlckxpbmVzLm1hcChhc3luYyAoeyBleHRlcm5hbFByb2R1Y3RJZCB9KSA9PiBhd2FpdCBvcmRlclJlcG8uZGVsZXRlT3JkZXJMaW5lKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCwgdHJ4IH0pKSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IG9yZGVyUmVwby5kZWxldGVPcmRlcihkYkNvbnRleHQsIHsgb3JkZXJJZCwgdHJ4IH0pO1xuXG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHBsYWNlT3JkZXIgPSBhc3luYyAocmVxLCB7IGRiQ29udGV4dCwgb3JkZXIgfSkgPT4ge1xuICB2YWxpZGF0ZVByZWNvbmRpdGlvbnMoWydkYkNvbnRleHQnLCAnaWQnXSwgeyBkYkNvbnRleHQsIC4uLm9yZGVyIH0pO1xuICByZXR1cm4gYXdhaXQgKChuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpKS50cmFuc2FjdChhc3luYyAodHJ4LCByZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBjdXN0b21lcklkLCB0b3RhbEFtb3VudCB9ID0gYXdhaXQgZ2V0T3JkZXJCeUlkKGRiQ29udGV4dCwgeyBvcmRlcklkOiBvcmRlci5pZCwgdHJ4IH0pO1xuICAgICAgY29uc3QgZm9ybVVybCA9IGF3YWl0IGluaXRpYXRlUGF5bWVudCh7IGN1c3RvbWVySWQsIGFtb3VudDogdG90YWxBbW91bnQgfSk7XG4gICAgIFxuICAgICAgcmVzb2x2ZSh7IGZvcm1VcmwgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc1RyYW5zYWN0aW9uID0gYXN5bmMoZGJDb250ZXh0LCBib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdib2R5JywgYm9keSk7XG4gIGNvbnN0IHsgY3VzdG9tZXJJZCB9ID0gZGVjcnlwdChib2R5LmNvbnRlbnQsIGNyeXB0by5wYXltZW50RW5jcnlwdGlvbktleSk7XG4gIGNvbnN0IG5vdGlmeVR5cGUgPSBTb2NrZVR5cGVzLlBBWU1FTlRfUkVTVUxUO1xuXG4gIGlmICghY3VzdG9tZXJJZCl7ICAgXG4gICAgcmV0dXJuIGF3YWl0IG5vdGlmeSh7XG4gICAgICB0eXBlOiBub3RpZnlUeXBlLFxuICAgICAgbXNnOiB7IHN1Y2Nlc3M6IGZhbHNlIH0sXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB7aWQ6IG9yZGVySWQgfSA9IGF3YWl0IGdldE9yZGVyQnlTdGF0dXMoZGJDb250ZXh0LCB7IHN0YXR1czogRGFsVHlwZXMuT3JkZXJTdGF0dXMuUEVORElORywgY3VzdG9tZXJJZCB9KTtcbiAgYXdhaXQgdXBkYXRlT3JkZXIoe30sIHsgZGJDb250ZXh0LCBvcmRlcklkLCBvcmRlcjogeyBzdGF0dXM6IERhbFR5cGVzLk9yZGVyU3RhdHVzLlBST0NFU1NFRCB9LCBza2lwVXBkYXRlQW1vdW50OiB0cnVlIH0pO1xuXG4gIHJldHVybiBhd2FpdCBub3RpZnkoe1xuICAgIHR5cGU6IG5vdGlmeVR5cGUsXG4gICAgbXNnOiB7IHN1Y2Nlc3M6IHRydWUgfSxcbiAgfSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "order-service.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "getOrdersByCustomerId",
        "dbContext",
        "customerId",
        "orderRepo",
        "map",
        "order",
        "getOrderById",
        "orderId",
        "trx",
        "getOrderByStatus",
        "status",
        "validateProductQuantity",
        "req",
        "orderLine",
        "quantity",
        "maxAllowedProductQuantity",
        "error",
        "tokenBody",
        "Error",
        "updateOrderAmount",
        "orderLines",
        "length",
        "products",
        "Promise",
        "all",
        "externalProductCategoryId",
        "total_amount",
        "reduce",
        "acc",
        "product",
        "id",
        "find",
        "ol",
        "available",
        "price",
        "console",
        "log",
        "updateOrder",
        "updateOrderLine",
        "UnitOfWork",
        "transact",
        "resolve",
        "reject",
        "externalProductId",
        "createOrderLine",
        "dbOrderLine",
        "deleteOrderLine",
        "skipUpdateAmount",
        "upsertOrderLine",
        "createOrder",
        "mappedOrder",
        "DalTypes",
        "OrderStatus",
        "PENDING",
        "order_id",
        "dbOrder",
        "deleteOrder",
        "placeOrder",
        "totalAmount",
        "formUrl",
        "amount",
        "processTransaction",
        "body",
        "content",
        "crypto",
        "paymentEncryptionKey",
        "notifyType",
        "SockeTypes",
        "PAYMENT_RESULT",
        "type",
        "msg",
        "success",
        "PROCESSED"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/services",
      "sourcesContent": [
        "import * as orderRepo from '../dal/order-repo';\nimport { validatePreconditions } from '../helpers/validator';\nimport { mapRepoEntity, mapParams } from '../helpers/mapper';\nimport { getProduct, initiatePayment } from './external-service';\nimport { maxAllowedProductQuantity, crypto } from '../config';\nimport UnitOfWork from '../database/unit_of_work.js';\nimport DalTypes from '../helpers/enums/dal-types';\nimport bunyan from 'bunyan';\nimport { decrypt } from './crypto-service';\nimport { notify } from '../socketIO';\nimport SockeTypes from '../helpers/enums/socket-types';\n\nconst logger = bunyan.createLogger({ name: 'OrderService'});\n\nexport const getOrdersByCustomerId = async (dbContext, customerId) => { \n  validatePreconditions(['dbContext', 'customerId'], { dbContext, customerId });\n  return (await orderRepo.getOrdersByCustomerId(dbContext, customerId)).map(order => mapRepoEntity(order));\n};\n\nexport const getOrderById = async (dbContext, { orderId, trx }) => {\n  validatePreconditions(['dbContext', 'orderId'], { dbContext, orderId });\n  return mapRepoEntity((await orderRepo.getOrderById(dbContext, { orderId, trx })));\n};\n\nexport const getOrderByStatus = async (dbContext, { status, customerId }) => {\n  validatePreconditions(['dbContext', 'status'], { dbContext, status, customerId });\n  return mapRepoEntity((await orderRepo.getOrderByStatus(dbContext, { status, customerId })));\n};\n\nconst validateProductQuantity = (req, orderLine) => {\n  const { quantity } = orderLine;\n  if (quantity > maxAllowedProductQuantity) {\n    logger.error({ ...req.tokenBody, ...orderLine }, 'Quantity exceeds the max');\n    const error = new Error('QUANTITY_EXCEEDS_THE_MAX');\n    error.status = 412;\n    throw error;\n  }\n};\n\nconst updateOrderAmount = async(req, { dbContext, orderId, trx }) => {\n  const { orderLines = [] } = await getOrderById(dbContext, { orderId, trx });\n  if (!orderLines.length) return;\n\n  const products = await Promise.all(orderLines.map(async ({ externalProductCategoryId }) => await getProduct(req, externalProductCategoryId)));\n  if (!products || !products.length) {\n    logger.error({ ...req.tokenBody, orderId }, 'Empty product list');\n    const error = new Error('EMPTY_PRODUCT_LIST');\n    error.status = 500;\n    throw error;\n  }\n\n  const total_amount = products.reduce((acc, product) => {\n    const { id, quantity } = orderLines.find(ol => ol.externalProductCategoryId === product.id);\n    if (quantity > product.available) {\n      logger.error({ id, quantity, orderId, available: product.available }, 'Not enough products');\n      const error = new Error('NOT_ENOUGH_PRODUCTS');\n      error.status = 500;\n      throw error;\n    }\n    acc = acc + (product.price * quantity);\n    return acc;\n  }, 0);\n  console.log('total_amount', total_amount);\n\n  await orderRepo.updateOrder(dbContext, { orderId, order: { total_amount }, trx });\n};\n\nexport const updateOrderLine = async (req, { dbContext, orderLine, trx }) => { \n  validatePreconditions(['dbContext', 'orderId', 'externalProductId'], { dbContext, ...orderLine });\n  validateProductQuantity(req, orderLine);\n \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { orderId, externalProductId } = orderLine;\n      await orderRepo.updateOrderLine(dbContext, { orderId, externalProductId, orderLine: mapParams(orderLine), trx });\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n    } catch (error) {\n      reject(error);\n    }\n\n    resolve(true);\n  }));\n};\n\nexport const createOrderLine = async (req, { dbContext, orderLine }) => {\n  validatePreconditions(['dbContext', 'orderId', 'externalProductName', 'externalProductId', 'quantity', 'externalProductCategoryId'], { dbContext, ...orderLine });\n  validateProductQuantity(req, orderLine);\n  \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {  \n      const dbOrderLine = await orderRepo.createOrderLine(dbContext, { orderLine: mapParams(orderLine), trx });\n      await updateOrderAmount(req, { dbContext, orderId: orderLine.orderId, trx });\n      resolve(mapRepoEntity(dbOrderLine));\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const deleteOrderLine = async (req, { dbContext, orderId, externalProductId }) => {\n  validatePreconditions(['dbContext', 'orderId', 'externalProductId'], { dbContext, orderId, externalProductId });\n  \n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      await orderRepo.deleteOrderLine(dbContext, { orderId, externalProductId, trx });\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const updateOrder = async (req, { dbContext, orderId, order, skipUpdateAmount = false }) => { \n  validatePreconditions(['dbContext', 'orderId', 'order'], { dbContext, orderId, order });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {  \n      await orderRepo.updateOrder(dbContext, { orderId, order: mapParams(order), trx });\n    \n      const { orderLines = [] } = order;\n      if (orderLines.length){\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.upsertOrderLine(dbContext, { orderId, externalProductId: orderLine.externalProductId, orderLine: mapParams({ ...orderLine, orderId }), trx })));\n      }\n\n      !skipUpdateAmount && await updateOrderAmount(req, { dbContext, orderId, trx });\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n \nexport const createOrder = async (req, { dbContext, order }) => {\n  validatePreconditions(['dbContext', 'customerId'], { dbContext, ...order });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const mappedOrder = mapParams(order);\n      const { id: orderId } = await orderRepo.createOrder(dbContext, { order: { total_amount: 0, status: DalTypes.OrderStatus.PENDING, ...mappedOrder }, trx });\n    \n      const { orderLines = [] } = order;\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async orderLine => await orderRepo.createOrderLine(dbContext, { orderLine: { ...mapParams(orderLine), order_id: orderId }, trx })));\n      }\n      await updateOrderAmount(req, { dbContext, orderId, trx });\n      const dbOrder = await getOrderById(dbContext, { orderId, trx });\n      resolve(dbOrder);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const deleteOrder = async (dbContext, orderId) => {\n  validatePreconditions(['dbContext', 'orderId'], { dbContext, orderId });\n\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { orderLines } = await getOrderById(dbContext, { orderId, trx });\n\n      if (orderLines.length) {\n        await Promise.all(orderLines.map(async ({ externalProductId }) => await orderRepo.deleteOrderLine(dbContext, { orderId, externalProductId, trx })));\n      }\n\n      await orderRepo.deleteOrder(dbContext, { orderId, trx });\n\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const placeOrder = async (req, { dbContext, order }) => {\n  validatePreconditions(['dbContext', 'id'], { dbContext, ...order });\n  return await ((new UnitOfWork(dbContext)).transact(async (trx, resolve, reject) => {\n    try {\n      const { customerId, totalAmount } = await getOrderById(dbContext, { orderId: order.id, trx });\n      const formUrl = await initiatePayment({ customerId, amount: totalAmount });\n     \n      resolve({ formUrl });\n    } catch (error) {\n      reject(error);\n    }\n  }));\n};\n\nexport const processTransaction = async(dbContext, body) => {\n  console.log('body', body);\n  const { customerId } = decrypt(body.content, crypto.paymentEncryptionKey);\n  const notifyType = SockeTypes.PAYMENT_RESULT;\n\n  if (!customerId){   \n    return await notify({\n      type: notifyType,\n      msg: { success: false },\n    });\n  }\n\n  const {id: orderId } = await getOrderByStatus(dbContext, { status: DalTypes.OrderStatus.PENDING, customerId });\n  await updateOrder({}, { dbContext, orderId, order: { status: DalTypes.OrderStatus.PROCESSED }, skipUpdateAmount: true });\n\n  return await notify({\n    type: notifyType,\n    msg: { success: true },\n  });\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558448006968
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/dal\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/dal/order-repo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/dal/order-repo.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/dal/order-repo.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/dal/order-repo.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
        "sourceFileName": "order-repo.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createOrder = exports.createOrderLine = exports.deleteOrder = exports.deleteOrderLine = exports.updateOrder = exports.upsertOrderLine = exports.updateOrderLine = exports.getOrdersByCustomerId = exports.getOrderByStatus = exports.getOrderById = exports.ORDER_LINE_TABLE = exports.ORDER_TABLE = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _unit_of_work = _interopRequireDefault(require(\"../database/unit_of_work.js\"));\n\nvar _unit_of_work2 = require(\"../helpers/enums/unit_of_work\");\n\nvar _config = require(\"../config\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _formatter = require(\"../helpers/formatter\");\n\nconst ORDER_TABLE = 'order';\nexports.ORDER_TABLE = ORDER_TABLE;\nconst ORDER_LINE_TABLE = 'order_line';\nexports.ORDER_LINE_TABLE = ORDER_LINE_TABLE;\nconst ORDER_TABLE_COLUMNS = ['id', 'customer_id', 'total_amount', 'status', 'created_at', 'updated_at'];\nconst ORDER_LINE_TABLE_COLUMNS = ['id', 'order_id', 'external_product_name', 'external_product_id', 'external_product_category_id', 'quantity', 'created_at', 'updated_at'];\n\nconst getOrderById = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  const order = await unitOfWork.getOneWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id = :orderId', {\n      orderId,\n      ORDER_TABLE\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    }),\n    trx\n  });\n  const {\n    orderLines,\n    id\n  } = order;\n  if (!id) return {};\n  return (0, _objectSpread2.default)({}, order, {\n    orderLines: orderLines ? orderLines.filter(ol => ol) : []\n  });\n};\n\nexports.getOrderById = getOrderById;\n\nconst getOrderByStatus = async (dbContext, {\n  status,\n  customerId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  const order = await unitOfWork.getOneWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.customer_id = :customerId AND :ORDER_TABLE:.status = :status', {\n      customerId,\n      status,\n      ORDER_TABLE\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    }),\n    trx\n  });\n  const {\n    orderLines,\n    id\n  } = order;\n  if (!id) return {};\n  return (0, _objectSpread2.default)({}, order, {\n    orderLines: orderLines ? orderLines.filter(ol => ol) : []\n  });\n};\n\nexports.getOrderByStatus = getOrderByStatus;\n\nconst getOrdersByCustomerId = async (dbContext, customerId) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return (await unitOfWork.getAllWhere(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: [...(0, _formatter.formatDBColumns)(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', {\n      ORDER_LINE_TABLE,\n      ORDER_TABLE,\n      schema: _config.schema\n    }),\n    where: unitOfWork.dbConnection.raw('customer_id = :customerId', {\n      customerId\n    }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', {\n      ORDER_TABLE\n    })\n  })).map(order => (0, _objectSpread2.default)({}, order, {\n    orderLines: order.orderLines.filter(ol => ol)\n  }));\n};\n\nexports.getOrdersByCustomerId = getOrdersByCustomerId;\n\nconst updateOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  orderLine,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', {\n      orderId,\n      externalProductId\n    }),\n    trx\n  });\n};\n\nexports.updateOrderLine = updateOrderLine;\n\nconst upsertOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  orderLine,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.create(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    onConflict: unitOfWork.dbConnection.raw(`ON CONFLICT (order_id, external_product_Id) DO UPDATE SET ${unitOfWork.formatSetValues(ORDER_LINE_TABLE_COLUMNS, orderLine)}`),\n    trx\n  });\n};\n\nexports.upsertOrderLine = upsertOrderLine;\n\nconst updateOrder = async (dbContext, {\n  orderId,\n  order,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.update(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    where: unitOfWork.dbConnection.raw('id = :orderId', {\n      orderId\n    }),\n    trx\n  });\n};\n\nexports.updateOrder = updateOrder;\n\nconst deleteOrderLine = async (dbContext, {\n  orderId,\n  externalProductId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', {\n      orderId,\n      externalProductId\n    }),\n    trx\n  });\n};\n\nexports.deleteOrderLine = deleteOrderLine;\n\nconst deleteOrder = async (dbContext, {\n  orderId,\n  trx\n}) => {\n  const unitOfWork = new _unit_of_work.default(dbContext);\n  return await unitOfWork.delete(_config.schema, {\n    tableName: ORDER_TABLE,\n    where: unitOfWork.dbConnection.raw('id = :orderId', {\n      orderId\n    }),\n    trx\n  });\n};\n\nexports.deleteOrder = deleteOrder;\n\nconst createOrderLine = async (dbContext, {\n  orderLine,\n  trx\n}) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: ORDER_LINE_TABLE,\n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    trx\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createOrderLine = createOrderLine;\n\nconst createOrder = async (dbContext, {\n  order,\n  trx\n}) => {\n  const result = await new _unit_of_work.default(dbContext).create(_config.schema, {\n    tableName: ORDER_TABLE,\n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    trx\n  });\n  return result.length && result[0] || {};\n};\n\nexports.createOrder = createOrder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLXJlcG8uanMiXSwibmFtZXMiOlsiT1JERVJfVEFCTEUiLCJPUkRFUl9MSU5FX1RBQkxFIiwiT1JERVJfVEFCTEVfQ09MVU1OUyIsIk9SREVSX0xJTkVfVEFCTEVfQ09MVU1OUyIsImdldE9yZGVyQnlJZCIsImRiQ29udGV4dCIsIm9yZGVySWQiLCJ0cngiLCJ1bml0T2ZXb3JrIiwiVW5pdE9mV29yayIsIm9yZGVyIiwiZ2V0T25lV2hlcmUiLCJzY2hlbWEiLCJ0YWJsZU5hbWUiLCJjb2x1bW5zIiwiam9pbiIsImRiQ29ubmVjdGlvbiIsInJhdyIsIndoZXJlIiwiZ3JvdXBCeSIsIm9yZGVyTGluZXMiLCJpZCIsImZpbHRlciIsIm9sIiwiZ2V0T3JkZXJCeVN0YXR1cyIsInN0YXR1cyIsImN1c3RvbWVySWQiLCJnZXRPcmRlcnNCeUN1c3RvbWVySWQiLCJnZXRBbGxXaGVyZSIsIm1hcCIsInVwZGF0ZU9yZGVyTGluZSIsImV4dGVybmFsUHJvZHVjdElkIiwib3JkZXJMaW5lIiwidXBkYXRlIiwiZW50aXR5IiwidXBzZXJ0T3JkZXJMaW5lIiwiY3JlYXRlIiwib25Db25mbGljdCIsImZvcm1hdFNldFZhbHVlcyIsInVwZGF0ZU9yZGVyIiwiZGVsZXRlT3JkZXJMaW5lIiwiZGVsZXRlIiwiZGVsZXRlT3JkZXIiLCJjcmVhdGVPcmRlckxpbmUiLCJyZXN1bHQiLCJsZW5ndGgiLCJjcmVhdGVPcmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxXQUFXLEdBQUcsT0FBcEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsWUFBekI7O0FBRVAsTUFBTUMsbUJBQW1CLEdBQUcsQ0FDMUIsSUFEMEIsRUFFMUIsYUFGMEIsRUFHMUIsY0FIMEIsRUFJMUIsUUFKMEIsRUFLMUIsWUFMMEIsRUFNMUIsWUFOMEIsQ0FBNUI7QUFTQSxNQUFNQyx3QkFBd0IsR0FBRyxDQUMvQixJQUQrQixFQUUv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QVRNOzs7O0FBV0EsTUFBTUUsV0FBVyxHQUFHLE9BQU96QyxTQUFQLEVBQWtCO0FBQUVLLEVBQUFBLEtBQUY7QUFBU0gsRUFBQUE7QUFBVCxDQUFsQixLQUFxQztBQUM5RCxRQUFNcUMsTUFBTSxHQUFHLE1BQU8sSUFBSW5DLHFCQUFKLENBQWVKLFNBQWYsRUFBMEIrQixNQUExQixDQUFpQ3hCLGNBQWpDLEVBQXlDO0FBQzdEQyxJQUFBQSxTQUFTLEVBQUViLFdBRGtEO0FBRTdEYyxJQUFBQSxPQUFPLEVBQUVaLG1CQUZvRDtBQUc3RGdDLElBQUFBLE1BQU0sRUFBRXhCLEtBSHFEO0FBSTdESCxJQUFBQTtBQUo2RCxHQUF6QyxDQUF0QjtBQU9BLFNBQVFxQyxNQUFNLENBQUNDLE1BQVAsSUFBaUJELE1BQU0sQ0FBQyxDQUFELENBQXhCLElBQWdDLEVBQXZDO0FBQ0QsQ0FUTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9kYWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdE9mV29yayBmcm9tICcuLi9kYXRhYmFzZS91bml0X29mX3dvcmsuanMnO1xuaW1wb3J0IHsgVW5pdE9mV29ya0NvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2VudW1zL3VuaXRfb2Zfd29yayc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgZm9ybWF0REJDb2x1bW5zIH0gZnJvbSAnLi4vaGVscGVycy9mb3JtYXR0ZXInO1xuXG5leHBvcnQgY29uc3QgT1JERVJfVEFCTEUgPSAnb3JkZXInO1xuZXhwb3J0IGNvbnN0IE9SREVSX0xJTkVfVEFCTEUgPSAnb3JkZXJfbGluZSc7XG5cbmNvbnN0IE9SREVSX1RBQkxFX0NPTFVNTlMgPSBbXG4gICdpZCcsXG4gICdjdXN0b21lcl9pZCcsXG4gICd0b3RhbF9hbW91bnQnLFxuICAnc3RhdHVzJyxcbiAgJ2NyZWF0ZWRfYXQnLFxuICAndXBkYXRlZF9hdCdcbl07XG5cbmNvbnN0IE9SREVSX0xJTkVfVEFCTEVfQ09MVU1OUyA9IFtcbiAgJ2lkJyxcbiAgJ29yZGVyX2lkJyxcbiAgJ2V4dGVybmFsX3Byb2R1Y3RfbmFtZScsXG4gICdleHRlcm5hbF9wcm9kdWN0X2lkJyxcbiAgJ2V4dGVybmFsX3Byb2R1Y3RfY2F0ZWdvcnlfaWQnLFxuICAncXVhbnRpdHknLFxuICAnY3JlYXRlZF9hdCcsXG4gICd1cGRhdGVkX2F0J1xuXTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyQnlJZCA9IGFzeW5jIChkYkNvbnRleHQsIHsgb3JkZXJJZCwgdHJ4IH0pID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICBjb25zdCBvcmRlciA9IGF3YWl0IHVuaXRPZldvcmsuZ2V0T25lV2hlcmUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogT1JERVJfVEFCTEUsIFxuICBcdGNvbHVtbnM6IFsuLi5mb3JtYXREQkNvbHVtbnMoT1JERVJfVEFCTEUsIE9SREVSX1RBQkxFX0NPTFVNTlMpLCBganNvbl9hZ2coXCIke09SREVSX0xJTkVfVEFCTEV9XCIuKikgYXMgXCJvcmRlckxpbmVzXCJgXSxcbiAgICBqb2luOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ0xFRlQgSk9JTiA6c2NoZW1hOi46T1JERVJfTElORV9UQUJMRTogT04gOk9SREVSX1RBQkxFOi5pZCA9IDpPUkRFUl9MSU5FX1RBQkxFOi5vcmRlcl9pZCcsIHsgT1JERVJfTElORV9UQUJMRSwgT1JERVJfVEFCTEUsIHNjaGVtYSB9KSxcbiAgXHR3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCc6T1JERVJfVEFCTEU6LmlkID0gOm9yZGVySWQnLCB7IG9yZGVySWQsIE9SREVSX1RBQkxFIH0pLFxuICAgIGdyb3VwQnk6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnOk9SREVSX1RBQkxFOi5pZCcsIHsgT1JERVJfVEFCTEUgfSksXG4gICAgdHJ4LFxuICB9KTtcbiAgY29uc3QgeyBvcmRlckxpbmVzLCBpZCB9ID0gb3JkZXI7XG4gIGlmKCFpZCkgcmV0dXJuIHt9O1xuXG4gIHJldHVybiB7IC4uLm9yZGVyLCBvcmRlckxpbmVzOiAob3JkZXJMaW5lcyA/IG9yZGVyTGluZXMuZmlsdGVyKG9sID0+IG9sKSA6IFtdKSB9O1xufTtcblxuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJCeVN0YXR1cyA9IGFzeW5jIChkYkNvbnRleHQsIHsgc3RhdHVzLCBjdXN0b21lcklkLCB0cnggfSkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgdW5pdE9mV29yay5nZXRPbmVXaGVyZShzY2hlbWEsIHsgXG4gICAgdGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gICAgY29sdW1uczogWy4uLmZvcm1hdERCQ29sdW1ucyhPUkRFUl9UQUJMRSwgT1JERVJfVEFCTEVfQ09MVU1OUyksIGBqc29uX2FnZyhcIiR7T1JERVJfTElORV9UQUJMRX1cIi4qKSBhcyBcIm9yZGVyTGluZXNcImBdLFxuICAgIGpvaW46IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnTEVGVCBKT0lOIDpzY2hlbWE6LjpPUkRFUl9MSU5FX1RBQkxFOiBPTiA6T1JERVJfVEFCTEU6LmlkID0gOk9SREVSX0xJTkVfVEFCTEU6Lm9yZGVyX2lkJywgeyBPUkRFUl9MSU5FX1RBQkxFLCBPUkRFUl9UQUJMRSwgc2NoZW1hIH0pLFxuICAgIHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJzpPUkRFUl9UQUJMRTouY3VzdG9tZXJfaWQgPSA6Y3VzdG9tZXJJZCBBTkQgOk9SREVSX1RBQkxFOi5zdGF0dXMgPSA6c3RhdHVzJywgeyBjdXN0b21lcklkLCBzdGF0dXMsIE9SREVSX1RBQkxFIH0pLFxuICAgIGdyb3VwQnk6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnOk9SREVSX1RBQkxFOi5pZCcsIHsgT1JERVJfVEFCTEUgfSksXG4gICAgdHJ4LFxuICB9KTtcbiAgY29uc3QgeyBvcmRlckxpbmVzLCBpZCB9ID0gb3JkZXI7XG4gIGlmKCFpZCkgcmV0dXJuIHt9O1xuXG4gIHJldHVybiB7IC4uLm9yZGVyLCBvcmRlckxpbmVzOiAob3JkZXJMaW5lcyA/IG9yZGVyTGluZXMuZmlsdGVyKG9sID0+IG9sKSA6IFtdKSB9O1xufTtcblxuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJzQnlDdXN0b21lcklkID0gYXN5bmMgKGRiQ29udGV4dCwgY3VzdG9tZXJJZCkgPT4geyBcbiAgY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKGRiQ29udGV4dCk7XG4gIHJldHVybiAoYXdhaXQgdW5pdE9mV29yay5nZXRBbGxXaGVyZShzY2hlbWEsIHsgXG4gIFx0dGFibGVOYW1lOiBPUkRFUl9UQUJMRSwgXG4gIFx0Y29sdW1uczogWy4uLmZvcm1hdERCQ29sdW1ucyhPUkRFUl9UQUJMRSwgT1JERVJfVEFCTEVfQ09MVU1OUyksIGBqc29uX2FnZyhcIiR7T1JERVJfTElORV9UQUJMRX1cIi4qKSBhcyBcIm9yZGVyTGluZXNcImBdLFxuICAgIGpvaW46IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnTEVGVCBKT0lOIDpzY2hlbWE6LjpPUkRFUl9MSU5FX1RBQkxFOiBPTiA6T1JERVJfVEFCTEU6LmlkID0gOk9SREVSX0xJTkVfVEFCTEU6Lm9yZGVyX2lkJywgeyBPUkRFUl9MSU5FX1RBQkxFLCBPUkRFUl9UQUJMRSwgc2NoZW1hIH0pLFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2N1c3RvbWVyX2lkID0gOmN1c3RvbWVySWQnLCB7IGN1c3RvbWVySWQgfSksXG4gICAgZ3JvdXBCeTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCc6T1JERVJfVEFCTEU6LmlkJywgeyBPUkRFUl9UQUJMRSB9KSxcbiAgfSkpLm1hcChvcmRlciA9PiAoeyAuLi5vcmRlciwgb3JkZXJMaW5lczogb3JkZXIub3JkZXJMaW5lcy5maWx0ZXIob2wgPT4gb2wpIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVPcmRlckxpbmUgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkLCBvcmRlckxpbmUsIHRyeCB9KSA9PiB7XG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay51cGRhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogT1JERVJfTElORV9UQUJMRSwgXG4gICAgY29sdW1uczogT1JERVJfTElORV9UQUJMRV9DT0xVTU5TLFxuICAgIGVudGl0eTogb3JkZXJMaW5lLFxuICAgIHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ29yZGVyX2lkID0gOm9yZGVySWQgQU5EIGV4dGVybmFsX3Byb2R1Y3RfaWQgPSA6ZXh0ZXJuYWxQcm9kdWN0SWQnLCB7IG9yZGVySWQsIGV4dGVybmFsUHJvZHVjdElkIH0pLFxuICAgIHRyeCxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBzZXJ0T3JkZXJMaW5lID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCwgb3JkZXJMaW5lLCB0cnggfSkgPT4ge1xuICBjb25zdCB1bml0T2ZXb3JrID0gbmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KTtcbiAgcmV0dXJuIGF3YWl0IHVuaXRPZldvcmsuY3JlYXRlKHNjaGVtYSwgeyBcbiAgICB0YWJsZU5hbWU6IE9SREVSX0xJTkVfVEFCTEUsIFxuICAgIGNvbHVtbnM6IE9SREVSX0xJTkVfVEFCTEVfQ09MVU1OUyxcbiAgICBlbnRpdHk6IG9yZGVyTGluZSxcbiAgICBvbkNvbmZsaWN0OiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoYE9OIENPTkZMSUNUIChvcmRlcl9pZCwgZXh0ZXJuYWxfcHJvZHVjdF9JZCkgRE8gVVBEQVRFIFNFVCAke3VuaXRPZldvcmsuZm9ybWF0U2V0VmFsdWVzKE9SREVSX0xJTkVfVEFCTEVfQ09MVU1OUywgb3JkZXJMaW5lKX1gKSxcbiAgICB0cngsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCBvcmRlciwgdHJ4IH0pID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay51cGRhdGUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogT1JERVJfVEFCTEUsIFxuICBcdGNvbHVtbnM6IE9SREVSX1RBQkxFX0NPTFVNTlMsXG4gIFx0ZW50aXR5OiBvcmRlcixcbiAgXHR3aGVyZTogdW5pdE9mV29yay5kYkNvbm5lY3Rpb24ucmF3KCdpZCA9IDpvcmRlcklkJywgeyBvcmRlcklkIH0pLFxuICAgIHRyeCxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlT3JkZXJMaW5lID0gYXN5bmMgKGRiQ29udGV4dCwgeyBvcmRlcklkLCBleHRlcm5hbFByb2R1Y3RJZCwgdHJ4IH0pID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5kZWxldGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogT1JERVJfTElORV9UQUJMRSwgXG4gICAgd2hlcmU6IHVuaXRPZldvcmsuZGJDb25uZWN0aW9uLnJhdygnb3JkZXJfaWQgPSA6b3JkZXJJZCBBTkQgZXh0ZXJuYWxfcHJvZHVjdF9pZCA9IDpleHRlcm5hbFByb2R1Y3RJZCcsIHsgb3JkZXJJZCwgZXh0ZXJuYWxQcm9kdWN0SWQgfSksXG4gICAgdHJ4LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVPcmRlciA9IGFzeW5jIChkYkNvbnRleHQsIHsgb3JkZXJJZCwgdHJ4IH0pID0+IHsgXG4gIGNvbnN0IHVuaXRPZldvcmsgPSBuZXcgVW5pdE9mV29yayhkYkNvbnRleHQpO1xuICByZXR1cm4gYXdhaXQgdW5pdE9mV29yay5kZWxldGUoc2NoZW1hLCB7IFxuICBcdHRhYmxlTmFtZTogT1JERVJfVEFCTEUsIFxuICBcdHdoZXJlOiB1bml0T2ZXb3JrLmRiQ29ubmVjdGlvbi5yYXcoJ2lkID0gOm9yZGVySWQnLCB7IG9yZGVySWQgfSksXG4gICAgdHJ4XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyTGluZSA9IGFzeW5jIChkYkNvbnRleHQsIHsgb3JkZXJMaW5lLCB0cnggfSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCAobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KS5jcmVhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogT1JERVJfTElORV9UQUJMRSwgXG4gICAgY29sdW1uczogT1JERVJfTElORV9UQUJMRV9DT0xVTU5TLFxuICAgIGVudGl0eTogb3JkZXJMaW5lLFxuICAgIHRyeCxcbiAgfSkpO1xuICBcbiAgcmV0dXJuIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFswXSkgfHwge307XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlT3JkZXIgPSBhc3luYyAoZGJDb250ZXh0LCB7IG9yZGVyLCB0cnggfSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCAobmV3IFVuaXRPZldvcmsoZGJDb250ZXh0KS5jcmVhdGUoc2NoZW1hLCB7IFxuICAgIHRhYmxlTmFtZTogT1JERVJfVEFCTEUsIFxuICAgIGNvbHVtbnM6IE9SREVSX1RBQkxFX0NPTFVNTlMsXG4gICAgZW50aXR5OiBvcmRlcixcbiAgICB0cngsXG4gIH0pKTtcbiAgXG4gIHJldHVybiAocmVzdWx0Lmxlbmd0aCAmJiByZXN1bHRbMF0pIHx8IHt9O1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "order-repo.js"
      ],
      "names": [
        "ORDER_TABLE",
        "ORDER_LINE_TABLE",
        "ORDER_TABLE_COLUMNS",
        "ORDER_LINE_TABLE_COLUMNS",
        "getOrderById",
        "dbContext",
        "orderId",
        "trx",
        "unitOfWork",
        "UnitOfWork",
        "order",
        "getOneWhere",
        "schema",
        "tableName",
        "columns",
        "join",
        "dbConnection",
        "raw",
        "where",
        "groupBy",
        "orderLines",
        "id",
        "filter",
        "ol",
        "getOrderByStatus",
        "status",
        "customerId",
        "getOrdersByCustomerId",
        "getAllWhere",
        "map",
        "updateOrderLine",
        "externalProductId",
        "orderLine",
        "update",
        "entity",
        "upsertOrderLine",
        "create",
        "onConflict",
        "formatSetValues",
        "updateOrder",
        "deleteOrderLine",
        "delete",
        "deleteOrder",
        "createOrderLine",
        "result",
        "length",
        "createOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/dal",
      "sourcesContent": [
        "import UnitOfWork from '../database/unit_of_work.js';\nimport { UnitOfWorkContext } from '../helpers/enums/unit_of_work';\nimport { schema } from '../config';\nimport moment from 'moment';\nimport { formatDBColumns } from '../helpers/formatter';\n\nexport const ORDER_TABLE = 'order';\nexport const ORDER_LINE_TABLE = 'order_line';\n\nconst ORDER_TABLE_COLUMNS = [\n  'id',\n  'customer_id',\n  'total_amount',\n  'status',\n  'created_at',\n  'updated_at'\n];\n\nconst ORDER_LINE_TABLE_COLUMNS = [\n  'id',\n  'order_id',\n  'external_product_name',\n  'external_product_id',\n  'external_product_category_id',\n  'quantity',\n  'created_at',\n  'updated_at'\n];\n\nexport const getOrderById = async (dbContext, { orderId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  const order = await unitOfWork.getOneWhere(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n  \twhere: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id = :orderId', { orderId, ORDER_TABLE }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n    trx,\n  });\n  const { orderLines, id } = order;\n  if(!id) return {};\n\n  return { ...order, orderLines: (orderLines ? orderLines.filter(ol => ol) : []) };\n};\n\n\nexport const getOrderByStatus = async (dbContext, { status, customerId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  const order = await unitOfWork.getOneWhere(schema, { \n    tableName: ORDER_TABLE, \n    columns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n    where: unitOfWork.dbConnection.raw(':ORDER_TABLE:.customer_id = :customerId AND :ORDER_TABLE:.status = :status', { customerId, status, ORDER_TABLE }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n    trx,\n  });\n  const { orderLines, id } = order;\n  if(!id) return {};\n\n  return { ...order, orderLines: (orderLines ? orderLines.filter(ol => ol) : []) };\n};\n\n\nexport const getOrdersByCustomerId = async (dbContext, customerId) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return (await unitOfWork.getAllWhere(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: [...formatDBColumns(ORDER_TABLE, ORDER_TABLE_COLUMNS), `json_agg(\"${ORDER_LINE_TABLE}\".*) as \"orderLines\"`],\n    join: unitOfWork.dbConnection.raw('LEFT JOIN :schema:.:ORDER_LINE_TABLE: ON :ORDER_TABLE:.id = :ORDER_LINE_TABLE:.order_id', { ORDER_LINE_TABLE, ORDER_TABLE, schema }),\n  \twhere: unitOfWork.dbConnection.raw('customer_id = :customerId', { customerId }),\n    groupBy: unitOfWork.dbConnection.raw(':ORDER_TABLE:.id', { ORDER_TABLE }),\n  })).map(order => ({ ...order, orderLines: order.orderLines.filter(ol => ol) }));\n};\n\nexport const updateOrderLine = async (dbContext, { orderId, externalProductId, orderLine, trx }) => {\n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', { orderId, externalProductId }),\n    trx,\n  });\n};\n\nexport const upsertOrderLine = async (dbContext, { orderId, externalProductId, orderLine, trx }) => {\n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.create(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    onConflict: unitOfWork.dbConnection.raw(`ON CONFLICT (order_id, external_product_Id) DO UPDATE SET ${unitOfWork.formatSetValues(ORDER_LINE_TABLE_COLUMNS, orderLine)}`),\n    trx,\n  });\n};\n\nexport const updateOrder = async (dbContext, { orderId, order, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.update(schema, { \n  \ttableName: ORDER_TABLE, \n  \tcolumns: ORDER_TABLE_COLUMNS,\n  \tentity: order,\n  \twhere: unitOfWork.dbConnection.raw('id = :orderId', { orderId }),\n    trx,\n  });\n};\n\nexport const deleteOrderLine = async (dbContext, { orderId, externalProductId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n    tableName: ORDER_LINE_TABLE, \n    where: unitOfWork.dbConnection.raw('order_id = :orderId AND external_product_id = :externalProductId', { orderId, externalProductId }),\n    trx,\n  });\n};\n\nexport const deleteOrder = async (dbContext, { orderId, trx }) => { \n  const unitOfWork = new UnitOfWork(dbContext);\n  return await unitOfWork.delete(schema, { \n  \ttableName: ORDER_TABLE, \n  \twhere: unitOfWork.dbConnection.raw('id = :orderId', { orderId }),\n    trx\n  });\n};\n\nexport const createOrderLine = async (dbContext, { orderLine, trx }) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: ORDER_LINE_TABLE, \n    columns: ORDER_LINE_TABLE_COLUMNS,\n    entity: orderLine,\n    trx,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n\nexport const createOrder = async (dbContext, { order, trx }) => {\n  const result = await (new UnitOfWork(dbContext).create(schema, { \n    tableName: ORDER_TABLE, \n    columns: ORDER_TABLE_COLUMNS,\n    entity: order,\n    trx,\n  }));\n  \n  return (result.length && result[0]) || {};\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1558449942397
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/formatter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/formatter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/formatter.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/formatter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "formatter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatDBColumns = void 0;\n\nconst formatDBColumns = (table = '', columns = []) => columns.map(column => `\"${table}\".\"${column}\"`);\n\nexports.formatDBColumns = formatDBColumns;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1hdHRlci5qcyJdLCJuYW1lcyI6WyJmb3JtYXREQkNvbHVtbnMiLCJ0YWJsZSIsImNvbHVtbnMiLCJtYXAiLCJjb2x1bW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxNQUFNQSxlQUFlLEdBQUcsQ0FBQ0MsS0FBSyxHQUFHLEVBQVQsRUFBYUMsT0FBTyxHQUFHLEVBQXZCLEtBQThCQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsTUFBTSxJQUFLLElBQUdILEtBQU0sTUFBS0csTUFBTyxHQUE1QyxDQUF0RCIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9oZWxwZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGZvcm1hdERCQ29sdW1ucyA9ICh0YWJsZSA9ICcnLCBjb2x1bW5zID0gW10pID0+IGNvbHVtbnMubWFwKGNvbHVtbiA9PiBgXCIke3RhYmxlfVwiLlwiJHtjb2x1bW59XCJgKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "formatter.js"
      ],
      "names": [
        "formatDBColumns",
        "table",
        "columns",
        "map",
        "column"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,eAAe,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,OAAO,GAAG,EAAvB,KAA8BA,OAAO,CAACC,GAAR,CAAYC,MAAM,IAAK,IAAGH,KAAM,MAAKG,MAAO,GAA5C,CAAtD",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "export const formatDBColumns = (table = '', columns = []) => columns.map(column => `\"${table}\".\"${column}\"`);"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/socketIO.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/socketIO.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/socketIO.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/socketIO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
        "sourceFileName": "socketIO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.notify = exports.connectIo = exports.createSocketServer = void 0;\n\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\n\nvar _http = require(\"http\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'SocketIO'\n});\n\nlet io;\n\nconst createSocketServer = app => {\n  const server = (0, _http.createServer)(app);\n  io = new _socket.default(server);\n  server.listen(8090);\n  logger.info('SocketIO server created on port 8090');\n};\n\nexports.createSocketServer = createSocketServer;\n\nconst connectIo = async () => await io.on('connection', socket => socket);\n\nexports.connectIo = connectIo;\n\nconst notify = async params => {\n  const conn = await connectIo();\n  conn.emit(params.type, params.msg);\n  logger.info(params, 'Notification sent');\n};\n\nexports.notify = notify;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldElPLmpzIl0sIm5hbWVzIjpbImxvZ2dlciIsImJ1bnlhbiIsImNyZWF0ZUxvZ2dlciIsIm5hbWUiLCJpbyIsImNyZWF0ZVNvY2tldFNlcnZlciIsImFwcCIsInNlcnZlciIsIlNvY2tldElPIiwibGlzdGVuIiwiaW5mbyIsImNvbm5lY3RJbyIsIm9uIiwic29ja2V0Iiwibm90aWZ5IiwicGFyYW1zIiwiY29ubiIsImVtaXQiLCJ0eXBlIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsSUFBSUMsRUFBSjs7QUFFTyxNQUFNQyxrQkFBa0IsR0FBR0MsR0FBRyxJQUFJO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBRyx3QkFBYUQsR0FBYixDQUFmO0FBQ0FGLEVBQUFBLEVBQUUsR0FBRyxJQUFJSSxlQUFKLENBQWFELE1BQWIsQ0FBTDtBQUNBQSxFQUFBQSxNQUFNLENBQUNFLE1BQVAsQ0FBYyxJQUFkO0FBQ0FULEVBQUFBLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLHNDQUFaO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1DLFNBQVMsR0FBRyxZQUFZLE1BQU1QLEVBQUUsQ0FBQ1EsRUFBSCxDQUFNLFlBQU4sRUFBb0JDLE1BQU0sSUFBSUEsTUFBOUIsQ0FBcEM7Ozs7QUFFQSxNQUFNQyxNQUFNLEdBQUcsTUFBTUMsTUFBTixJQUFnQjtBQUNwQyxRQUFNQyxJQUFJLEdBQUcsTUFBTUwsU0FBUyxFQUE1QjtBQUNBSyxFQUFBQSxJQUFJLENBQUNDLElBQUwsQ0FBVUYsTUFBTSxDQUFDRyxJQUFqQixFQUF1QkgsTUFBTSxDQUFDSSxHQUE5QjtBQUNBbkIsRUFBQUEsTUFBTSxDQUFDVSxJQUFQLENBQVlLLE1BQVosRUFBb0IsbUJBQXBCO0FBQ0QsQ0FKTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2NrZXRJTyBmcm9tICdzb2NrZXQuaW8nO1xuaW1wb3J0ICB7IGNyZWF0ZVNlcnZlciB9IGZyb20gJ2h0dHAnO1xuaW1wb3J0IGJ1bnlhbiBmcm9tICdidW55YW4nO1xuY29uc3QgbG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7IG5hbWU6ICdTb2NrZXRJTyd9KTtcblxubGV0IGlvOyBcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNvY2tldFNlcnZlciA9IGFwcCA9PiB7IFxuICBjb25zdCBzZXJ2ZXIgPSBjcmVhdGVTZXJ2ZXIoYXBwKTtcbiAgaW8gPSBuZXcgU29ja2V0SU8oc2VydmVyKTtcbiAgc2VydmVyLmxpc3Rlbig4MDkwKTsgXG4gIGxvZ2dlci5pbmZvKCdTb2NrZXRJTyBzZXJ2ZXIgY3JlYXRlZCBvbiBwb3J0IDgwOTAnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25uZWN0SW8gPSBhc3luYyAoKSA9PiBhd2FpdCBpby5vbignY29ubmVjdGlvbicsIHNvY2tldCA9PiBzb2NrZXQpO1xuXG5leHBvcnQgY29uc3Qgbm90aWZ5ID0gYXN5bmMgcGFyYW1zID0+IHtcbiAgY29uc3QgY29ubiA9IGF3YWl0IGNvbm5lY3RJbygpO1xuICBjb25uLmVtaXQocGFyYW1zLnR5cGUsIHBhcmFtcy5tc2cpO1xuICBsb2dnZXIuaW5mbyhwYXJhbXMsICdOb3RpZmljYXRpb24gc2VudCcpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "socketIO.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "io",
        "createSocketServer",
        "app",
        "server",
        "SocketIO",
        "listen",
        "info",
        "connectIo",
        "on",
        "socket",
        "notify",
        "params",
        "conn",
        "emit",
        "type",
        "msg"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,IAAIC,EAAJ;;AAEO,MAAMC,kBAAkB,GAAGC,GAAG,IAAI;AACvC,QAAMC,MAAM,GAAG,wBAAaD,GAAb,CAAf;AACAF,EAAAA,EAAE,GAAG,IAAII,eAAJ,CAAaD,MAAb,CAAL;AACAA,EAAAA,MAAM,CAACE,MAAP,CAAc,IAAd;AACAT,EAAAA,MAAM,CAACU,IAAP,CAAY,sCAAZ;AACD,CALM;;;;AAOA,MAAMC,SAAS,GAAG,YAAY,MAAMP,EAAE,CAACQ,EAAH,CAAM,YAAN,EAAoBC,MAAM,IAAIA,MAA9B,CAApC;;;;AAEA,MAAMC,MAAM,GAAG,MAAMC,MAAN,IAAgB;AACpC,QAAMC,IAAI,GAAG,MAAML,SAAS,EAA5B;AACAK,EAAAA,IAAI,CAACC,IAAL,CAAUF,MAAM,CAACG,IAAjB,EAAuBH,MAAM,CAACI,GAA9B;AACAnB,EAAAA,MAAM,CAACU,IAAP,CAAYK,MAAZ,EAAoB,mBAApB;AACD,CAJM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourcesContent": [
        "import SocketIO from 'socket.io';\nimport  { createServer } from 'http';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'SocketIO'});\n\nlet io; \n\nexport const createSocketServer = app => { \n  const server = createServer(app);\n  io = new SocketIO(server);\n  server.listen(8090); \n  logger.info('SocketIO server created on port 8090');\n};\n\nexport const connectIo = async () => await io.on('connection', socket => socket);\n\nexport const notify = async params => {\n  const conn = await connectIo();\n  conn.emit(params.type, params.msg);\n  logger.info(params, 'Notification sent');\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557945780294
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/socket-types.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/socket-types.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/socket-types.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums/socket-types.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
        "sourceFileName": "socket-types.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  PAYMENT_RESULT: 'PaymentResult'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC10eXBlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUEFZTUVOVF9SRVNVTFQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxjQUFjLEVBQUU7QUFERCxDQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL1RFNS9jdXN0b21lci9oZWxwZXJzL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFxuICBQQVlNRU5UX1JFU1VMVDogJ1BheW1lbnRSZXN1bHQnLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "socket-types.js"
      ],
      "names": [
        "module",
        "exports",
        "PAYMENT_RESULT"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAE;AADD,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers/enums",
      "sourcesContent": [
        "module.exports = { \n  PAYMENT_RESULT: 'PaymentResult',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557946017241
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/api/api-middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api-middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/api/api-middleware.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api-middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
        "sourceFileName": "api-middleware.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.routerMiddleware = exports.requestHandler = void 0;\n\nvar _request = require(\"../helpers/request\");\n\nvar _bunyan = _interopRequireDefault(require(\"bunyan\"));\n\nconst logger = _bunyan.default.createLogger({\n  name: 'CustomerApiMiddleware'\n});\n\nconst unprotectedApis = ['/api/orders/transaction'];\n\nconst requestHandler = (route, action) => async (req, res, next) => {\n  if (!unprotectedApis.includes(route)) {\n    try {\n      const token = (0, _request.getTokenFromRequest)(req);\n\n      if (!token) {\n        throw new Error('UNAUTHORIZED');\n      }\n\n      req.token = token;\n    } catch (error) {\n      res.status(401).send('UNAUTHORIZED');\n      return;\n    }\n  }\n\n  try {\n    const result = await action(req);\n    res.setHeader('Content-Type', 'application/json');\n    res.json(result);\n  } catch (error) {\n    logger.error(error, 'Error on request');\n    res.status(error.status || 500).send(error.message);\n  }\n};\n\nexports.requestHandler = requestHandler;\n\nconst routerMiddleware = app => {\n  const routeMethods = ['get', 'put', 'post', 'delete'];\n  routeMethods.forEach(method => {\n    const router = {\n      [method]: app[method].bind(app)\n    };\n\n    app[method] = (route, ...routeMiddleware) => {\n      if (!routeMiddleware || !routeMiddleware.length) return router[method](route);\n      const [action] = routeMiddleware.splice(routeMiddleware.length - 1, 1);\n      return router[method](route, ...routeMiddleware, requestHandler(route, action));\n    };\n  });\n};\n\nexports.routerMiddleware = routerMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS1taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImxvZ2dlciIsImJ1bnlhbiIsImNyZWF0ZUxvZ2dlciIsIm5hbWUiLCJ1bnByb3RlY3RlZEFwaXMiLCJyZXF1ZXN0SGFuZGxlciIsInJvdXRlIiwiYWN0aW9uIiwicmVxIiwicmVzIiwibmV4dCIsImluY2x1ZGVzIiwidG9rZW4iLCJFcnJvciIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsInJlc3VsdCIsInNldEhlYWRlciIsImpzb24iLCJtZXNzYWdlIiwicm91dGVyTWlkZGxld2FyZSIsImFwcCIsInJvdXRlTWV0aG9kcyIsImZvckVhY2giLCJtZXRob2QiLCJyb3V0ZXIiLCJiaW5kIiwicm91dGVNaWRkbGV3YXJlIiwibGVuZ3RoIiwic3BsaWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPQyxZQUFQLENBQW9CO0FBQUVDLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQXBCLENBQWY7O0FBRUEsTUFBTUMsZUFBZSxHQUFHLENBQUMseUJBQUQsQ0FBeEI7O0FBRU8sTUFBTUMsY0FBYyxHQUFHLENBQUNDLEtBQUQsRUFBUUMsTUFBUixLQUM1QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ3hCLE1BQUksQ0FBQ04sZUFBZSxDQUFDTyxRQUFoQixDQUF5QkwsS0FBekIsQ0FBTCxFQUFzQztBQUNwQyxRQUFJO0FBQ0YsWUFBTU0sS0FBSyxHQUFHLGtDQUFvQkosR0FBcEIsQ0FBZDs7QUFDQSxVQUFJLENBQUNJLEtBQUwsRUFBVztBQUNULGNBQU0sSUFBSUMsS0FBSixDQUFVLGNBQVYsQ0FBTjtBQUNEOztBQUVETCxNQUFBQSxHQUFHLENBQUNJLEtBQUosR0FBWUEsS0FBWjtBQUNELEtBUEQsQ0FPRSxPQUFNRSxLQUFOLEVBQWE7QUFDYkwsTUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsY0FBckI7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsTUFBSTtBQUNGLFVBQU1DLE1BQU0sR0FBRyxNQUFNVixNQUFNLENBQUNDLEdBQUQsQ0FBM0I7QUFDQUMsSUFBQUEsR0FBRyxDQUFDUyxTQUFKLENBQWMsY0FBZCxFQUE4QixrQkFBOUI7QUFDQVQsSUFBQUEsR0FBRyxDQUFDVSxJQUFKLENBQVNGLE1BQVQ7QUFDRCxHQUpELENBSUUsT0FBTUgsS0FBTixFQUFhO0FBQ2JkLElBQUFBLE1BQU0sQ0FBQ2MsS0FBUCxDQUFhQSxLQUFiLEVBQW9CLGtCQUFwQjtBQUNBTCxJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBV0QsS0FBSyxDQUFDQyxNQUFOLElBQWdCLEdBQTNCLEVBQWdDQyxJQUFoQyxDQUFxQ0YsS0FBSyxDQUFDTSxPQUEzQztBQUNEO0FBQ0YsQ0F4Qkk7Ozs7QUEwQkEsTUFBTUMsZ0JBQWdCLEdBQUdDLEdBQUcsSUFBSTtBQUNyQyxRQUFNQyxZQUFZLEdBQUcsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLE1BQWYsRUFBdUIsUUFBdkIsQ0FBckI7QUFFQUEsRUFBQUEsWUFBWSxDQUFDQyxPQUFiLENBQXFCQyxNQUFNLElBQUk7QUFDN0IsVUFBTUMsTUFBTSxHQUFHO0FBQUUsT0FBQ0QsTUFBRCxHQUFVSCxHQUFHLENBQUNHLE1BQUQsQ0FBSCxDQUFZRSxJQUFaLENBQWlCTCxHQUFqQjtBQUFaLEtBQWY7O0FBRUFBLElBQUFBLEdBQUcsQ0FBQ0csTUFBRCxDQUFILEdBQWMsQ0FBQ25CLEtBQUQsRUFBUSxHQUFHc0IsZUFBWCxLQUErQjtBQUMzQyxVQUFJLENBQUNBLGVBQUQsSUFBb0IsQ0FBQ0EsZUFBZSxDQUFDQyxNQUF6QyxFQUFpRCxPQUFPSCxNQUFNLENBQUNELE1BQUQsQ0FBTixDQUFlbkIsS0FBZixDQUFQO0FBRWpELFlBQU0sQ0FBQ0MsTUFBRCxJQUFXcUIsZUFBZSxDQUFDRSxNQUFoQixDQUF1QkYsZUFBZSxDQUFDQyxNQUFoQixHQUF5QixDQUFoRCxFQUFtRCxDQUFuRCxDQUFqQjtBQUNBLGFBQU9ILE1BQU0sQ0FBQ0QsTUFBRCxDQUFOLENBQWVuQixLQUFmLEVBQXNCLEdBQUdzQixlQUF6QixFQUEwQ3ZCLGNBQWMsQ0FBQ0MsS0FBRCxFQUFRQyxNQUFSLENBQXhELENBQVA7QUFDRCxLQUxEO0FBTUQsR0FURDtBQVVELENBYk0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvYXBpIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VG9rZW5Gcm9tUmVxdWVzdCB9IGZyb20gJy4uL2hlbHBlcnMvcmVxdWVzdCc7XG5pbXBvcnQgYnVueWFuIGZyb20gJ2J1bnlhbic7XG5jb25zdCBsb2dnZXIgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHsgbmFtZTogJ0N1c3RvbWVyQXBpTWlkZGxld2FyZSd9KTtcblxuY29uc3QgdW5wcm90ZWN0ZWRBcGlzID0gWycvYXBpL29yZGVycy90cmFuc2FjdGlvbiddO1xuXG5leHBvcnQgY29uc3QgcmVxdWVzdEhhbmRsZXIgPSAocm91dGUsIGFjdGlvbikgPT5cbiAgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYgKCF1bnByb3RlY3RlZEFwaXMuaW5jbHVkZXMocm91dGUpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuRnJvbVJlcXVlc3QocmVxKTtcbiAgICAgICAgaWYgKCF0b2tlbil7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcS50b2tlbiA9IHRva2VuO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCgnVU5BVVRIT1JJWkVEJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWN0aW9uKHJlcSk7XG4gICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgcmVzLmpzb24ocmVzdWx0KTtcbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoZXJyb3IsICdFcnJvciBvbiByZXF1ZXN0Jyk7XG4gICAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1cyB8fCA1MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG5leHBvcnQgY29uc3Qgcm91dGVyTWlkZGxld2FyZSA9IGFwcCA9PiB7XG4gIGNvbnN0IHJvdXRlTWV0aG9kcyA9IFsnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2RlbGV0ZSddO1xuXG4gIHJvdXRlTWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gICAgY29uc3Qgcm91dGVyID0geyBbbWV0aG9kXTogYXBwW21ldGhvZF0uYmluZChhcHApIH07XG4gICAgXG4gICAgYXBwW21ldGhvZF0gPSAocm91dGUsIC4uLnJvdXRlTWlkZGxld2FyZSkgPT4ge1xuICAgICAgaWYgKCFyb3V0ZU1pZGRsZXdhcmUgfHwgIXJvdXRlTWlkZGxld2FyZS5sZW5ndGgpIHJldHVybiByb3V0ZXJbbWV0aG9kXShyb3V0ZSk7XG5cbiAgICAgIGNvbnN0IFthY3Rpb25dID0gcm91dGVNaWRkbGV3YXJlLnNwbGljZShyb3V0ZU1pZGRsZXdhcmUubGVuZ3RoIC0gMSwgMSk7XG4gICAgICByZXR1cm4gcm91dGVyW21ldGhvZF0ocm91dGUsIC4uLnJvdXRlTWlkZGxld2FyZSwgcmVxdWVzdEhhbmRsZXIocm91dGUsIGFjdGlvbikpO1xuICAgIH07XG4gIH0pO1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "api-middleware.js"
      ],
      "names": [
        "logger",
        "bunyan",
        "createLogger",
        "name",
        "unprotectedApis",
        "requestHandler",
        "route",
        "action",
        "req",
        "res",
        "next",
        "includes",
        "token",
        "Error",
        "error",
        "status",
        "send",
        "result",
        "setHeader",
        "json",
        "message",
        "routerMiddleware",
        "app",
        "routeMethods",
        "forEach",
        "method",
        "router",
        "bind",
        "routeMiddleware",
        "length",
        "splice"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA,MAAMA,MAAM,GAAGC,gBAAOC,YAAP,CAAoB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAApB,CAAf;;AAEA,MAAMC,eAAe,GAAG,CAAC,yBAAD,CAAxB;;AAEO,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAC5B,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACxB,MAAI,CAACN,eAAe,CAACO,QAAhB,CAAyBL,KAAzB,CAAL,EAAsC;AACpC,QAAI;AACF,YAAMM,KAAK,GAAG,kCAAoBJ,GAApB,CAAd;;AACA,UAAI,CAACI,KAAL,EAAW;AACT,cAAM,IAAIC,KAAJ,CAAU,cAAV,CAAN;AACD;;AAEDL,MAAAA,GAAG,CAACI,KAAJ,GAAYA,KAAZ;AACD,KAPD,CAOE,OAAME,KAAN,EAAa;AACbL,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,cAArB;AACA;AACD;AACF;;AAED,MAAI;AACF,UAAMC,MAAM,GAAG,MAAMV,MAAM,CAACC,GAAD,CAA3B;AACAC,IAAAA,GAAG,CAACS,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAT,IAAAA,GAAG,CAACU,IAAJ,CAASF,MAAT;AACD,GAJD,CAIE,OAAMH,KAAN,EAAa;AACbd,IAAAA,MAAM,CAACc,KAAP,CAAaA,KAAb,EAAoB,kBAApB;AACAL,IAAAA,GAAG,CAACM,MAAJ,CAAWD,KAAK,CAACC,MAAN,IAAgB,GAA3B,EAAgCC,IAAhC,CAAqCF,KAAK,CAACM,OAA3C;AACD;AACF,CAxBI;;;;AA0BA,MAAMC,gBAAgB,GAAGC,GAAG,IAAI;AACrC,QAAMC,YAAY,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,QAAvB,CAArB;AAEAA,EAAAA,YAAY,CAACC,OAAb,CAAqBC,MAAM,IAAI;AAC7B,UAAMC,MAAM,GAAG;AAAE,OAACD,MAAD,GAAUH,GAAG,CAACG,MAAD,CAAH,CAAYE,IAAZ,CAAiBL,GAAjB;AAAZ,KAAf;;AAEAA,IAAAA,GAAG,CAACG,MAAD,CAAH,GAAc,CAACnB,KAAD,EAAQ,GAAGsB,eAAX,KAA+B;AAC3C,UAAI,CAACA,eAAD,IAAoB,CAACA,eAAe,CAACC,MAAzC,EAAiD,OAAOH,MAAM,CAACD,MAAD,CAAN,CAAenB,KAAf,CAAP;AAEjD,YAAM,CAACC,MAAD,IAAWqB,eAAe,CAACE,MAAhB,CAAuBF,eAAe,CAACC,MAAhB,GAAyB,CAAhD,EAAmD,CAAnD,CAAjB;AACA,aAAOH,MAAM,CAACD,MAAD,CAAN,CAAenB,KAAf,EAAsB,GAAGsB,eAAzB,EAA0CvB,cAAc,CAACC,KAAD,EAAQC,MAAR,CAAxD,CAAP;AACD,KALD;AAMD,GATD;AAUD,CAbM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "sourcesContent": [
        "import { getTokenFromRequest } from '../helpers/request';\nimport bunyan from 'bunyan';\nconst logger = bunyan.createLogger({ name: 'CustomerApiMiddleware'});\n\nconst unprotectedApis = ['/api/orders/transaction'];\n\nexport const requestHandler = (route, action) =>\n  async (req, res, next) => {\n    if (!unprotectedApis.includes(route)) {\n      try {\n        const token = getTokenFromRequest(req);\n        if (!token){\n          throw new Error('UNAUTHORIZED');\n        }\n\n        req.token = token;\n      } catch(error) {\n        res.status(401).send('UNAUTHORIZED');\n        return;\n      }\n    }\n\n    try {\n      const result = await action(req);\n      res.setHeader('Content-Type', 'application/json');\n      res.json(result);\n    } catch(error) {\n      logger.error(error, 'Error on request');\n      res.status(error.status || 500).send(error.message);\n    }\n  };\n\nexport const routerMiddleware = app => {\n  const routeMethods = ['get', 'put', 'post', 'delete'];\n\n  routeMethods.forEach(method => {\n    const router = { [method]: app[method].bind(app) };\n    \n    app[method] = (route, ...routeMiddleware) => {\n      if (!routeMiddleware || !routeMiddleware.length) return router[method](route);\n\n      const [action] = routeMiddleware.splice(routeMiddleware.length - 1, 1);\n      return router[method](route, ...routeMiddleware, requestHandler(route, action));\n    };\n  });\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1558448006964
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/api/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/api/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initApis = void 0;\n\nvar _customer = _interopRequireDefault(require(\"./customer\"));\n\nvar _order = _interopRequireDefault(require(\"./order\"));\n\nconst initApis = app => {\n  new _customer.default(app);\n  new _order.default(app);\n};\n\nexports.initApis = initApis;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJpbml0QXBpcyIsImFwcCIsIkN1c3RvbWVyQXBpIiwiT3JkZXJBcGkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVPLE1BQU1BLFFBQVEsR0FBR0MsR0FBRyxJQUFJO0FBQzdCLE1BQUlDLGlCQUFKLENBQWdCRCxHQUFoQjtBQUNBLE1BQUlFLGNBQUosQ0FBYUYsR0FBYjtBQUNELENBSE0iLCJzb3VyY2VSb290IjoiL2hvbWUvYW5kcmVzL0RvY3VtZW50cy9URTVGaW5hbC9URTUvY3VzdG9tZXIvYXBpIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEN1c3RvbWVyQXBpIGZyb20gJy4vY3VzdG9tZXInO1xuaW1wb3J0IE9yZGVyQXBpIGZyb20gJy4vb3JkZXInO1xuXG5leHBvcnQgY29uc3QgaW5pdEFwaXMgPSBhcHAgPT4ge1xuICBuZXcgQ3VzdG9tZXJBcGkoYXBwKTtcbiAgbmV3IE9yZGVyQXBpKGFwcCk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "initApis",
        "app",
        "CustomerApi",
        "OrderApi"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,QAAQ,GAAGC,GAAG,IAAI;AAC7B,MAAIC,iBAAJ,CAAgBD,GAAhB;AACA,MAAIE,cAAJ,CAAaF,GAAb;AACD,CAHM",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/api",
      "sourcesContent": [
        "import CustomerApi from './customer';\nimport OrderApi from './order';\n\nexport const initApis = app => {\n  new CustomerApi(app);\n  new OrderApi(app);\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1556035234820
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"filename\":\"/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/TE5/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/TE5/customer",
      "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/TE5/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/TE5/customer/helpers/environment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
        "sourceFileName": "environment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst getEnvVariable = function (name, def) {\n  return process.env[name] || def;\n};\n\nmodule.exports = {\n  getEnvVariable\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LmpzIl0sIm5hbWVzIjpbImdldEVudlZhcmlhYmxlIiwibmFtZSIsImRlZiIsInByb2Nlc3MiLCJlbnYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGNBQWMsR0FBRyxVQUFTQyxJQUFULEVBQWVDLEdBQWYsRUFBbUI7QUFBRSxTQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWixLQUFxQkMsR0FBNUI7QUFBa0MsQ0FBOUU7O0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUFFTixFQUFBQTtBQUFGLENBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL2FuZHJlcy9Eb2N1bWVudHMvVEU1RmluYWwvVEU1L2N1c3RvbWVyL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRFbnZWYXJpYWJsZSA9IGZ1bmN0aW9uKG5hbWUsIGRlZil7IHJldHVybiBwcm9jZXNzLmVudltuYW1lXSB8fCBkZWY7IH1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGdldEVudlZhcmlhYmxlIH07Il19",
    "map": {
      "version": 3,
      "sources": [
        "environment.js"
      ],
      "names": [
        "getEnvVariable",
        "name",
        "def",
        "process",
        "env",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAG,UAASC,IAAT,EAAeC,GAAf,EAAmB;AAAE,SAAOC,OAAO,CAACC,GAAR,CAAYH,IAAZ,KAAqBC,GAA5B;AAAkC,CAA9E;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AAAEN,EAAAA;AAAF,CAAjB",
      "sourceRoot": "/home/andres/Documents/TE5Final/TE5/customer/helpers",
      "sourcesContent": [
        "const getEnvVariable = function(name, def){ return process.env[name] || def; }\n\nmodule.exports = { getEnvVariable };"
      ]
    },
    "sourceType": "script",
    "mtime": 1549380536766
  },
  "{\"sourceRoot\":\"/home/andres/Documents/TE5Final/customer/helpers/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/andres/Documents/TE5Final/customer\",\"filename\":\"/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/andres/Documents/TE5Final/customer\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"throwIfNamespace\":true,\"useBuiltIns\":false}},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/andres/Documents/TE5Final/customer",
      "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/andres/Documents/TE5Final/customer",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-react-jsx",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "JSXNamespacedName": {
              "enter": [
                null
              ]
            },
            "JSXElement": {
              "exit": [
                null
              ]
            },
            "JSXFragment": {
              "exit": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "JSXAttribute": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "pragma": "React.createElement",
            "pragmaFrag": "React.Fragment",
            "throwIfNamespace": true,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-react-display-name",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "doExpressions",
          "exportDefaultFrom",
          "exportNamespaceFrom",
          "objectRestSpread",
          "optionalChaining",
          "jsx",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/andres/Documents/TE5Final/customer/helpers/enums/unit_of_work.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
        "sourceFileName": "unit_of_work.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnitOfWorkContext = void 0;\nconst UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT'\n};\nexports.UnitOfWorkContext = UnitOfWorkContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXRfb2Zfd29yay5qcyJdLCJuYW1lcyI6WyJVbml0T2ZXb3JrQ29udGV4dCIsIlBPU1RHUkVTX1RFU1RfQ09OVEVYVCIsIlBPU1RHUkVTX0NPTlRFWFQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLGlCQUFpQixHQUFHO0FBQy9CQyxFQUFBQSxxQkFBcUIsRUFBRSx1QkFEUTtBQUUvQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFGYSxDQUExQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9hbmRyZXMvRG9jdW1lbnRzL1RFNUZpbmFsL2N1c3RvbWVyL2hlbHBlcnMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVW5pdE9mV29ya0NvbnRleHQgPSB7XG4gIFBPU1RHUkVTX1RFU1RfQ09OVEVYVDogJ1BPU1RHUkVTX1RFU1RfQ09OVEVYVCcsXG4gIFBPU1RHUkVTX0NPTlRFWFQ6ICdQT1NUR1JFU19DT05URVhUJyxcbn07Il19",
    "map": {
      "version": 3,
      "sources": [
        "unit_of_work.js"
      ],
      "names": [
        "UnitOfWorkContext",
        "POSTGRES_TEST_CONTEXT",
        "POSTGRES_CONTEXT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,iBAAiB,GAAG;AAC/BC,EAAAA,qBAAqB,EAAE,uBADQ;AAE/BC,EAAAA,gBAAgB,EAAE;AAFa,CAA1B",
      "sourceRoot": "/home/andres/Documents/TE5Final/customer/helpers/enums",
      "sourcesContent": [
        "export const UnitOfWorkContext = {\n  POSTGRES_TEST_CONTEXT: 'POSTGRES_TEST_CONTEXT',\n  POSTGRES_CONTEXT: 'POSTGRES_CONTEXT',\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1549335201196
  }
}